- en: Chapter 6\. Uncertainty
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章\. 不确定性
- en: Benjamin Franklin is often quoted as saying, *“in this world nothing can be
    said to be certain, except death and taxes.”* At the risk of stating the obvious,
    I would claim that *the only thing that is certain in life is uncertainty*. As
    we will see in this chapter, not only must we master the art of simplification,
    but we must also try our best to understand where uncertainty comes from, and
    how to make decisions when we’re not sure about the results of our actions ([Figure 6-1](#fig6_decomposition)).
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本杰明·富兰克林经常被引用说：“在这个世界上，除了死亡和税收，没有任何事情是确定的。”冒着显而易见的风险，我要声明的是，*生活中唯一确定的事情就是不确定性*。正如我们将在本章看到的那样，我们不仅必须掌握简化的艺术，还必须尽力理解不确定性的根源，并在我们对行动结果不确定时如何做出决策（参见[图6-1](#fig6_decomposition)）。
- en: '![underlying uncertainty](assets/asai_0601.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![潜在不确定性](assets/asai_0601.png)'
- en: Figure 6-1\. Understanding the underlying uncertainty
  id: totrans-3
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-1\. 理解潜在的不确定性
- en: The main takeaway from this chapter is that to make decisions under uncertainty
    we will seek to maximize the mathematical expectation of our business result.
    We must therefore start by providing enough background on probability theory so
    that we feel comfortable with calculating expectations. I will also provide a
    primer into the theory of decision-making under uncertainty and finish by applying
    this toolkit to our use cases.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主要要点是，为了在不确定性下做出决策，我们将寻求最大化我们业务结果的数学期望。因此，我们必须首先提供足够的概率论背景，以便我们能够在计算期望时感到自信。我还将介绍在不确定性下决策理论的基础知识，并最终将这个工具箱应用到我们的用例中。
- en: Where Does Uncertainty Come From?
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不确定性从何而来？
- en: Uncertainty reflects our ignorance about something. In the sciences, uncertainty
    or randomness are commonly associated with our lack of knowledge about the *causes*
    of some phenomenon. So where does it come from? We have already talked about this
    in [Chapter 2](ch02.html#ch02_introanalytics), so let me just summarize what was
    mentioned there.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在科学中，不确定性或随机性通常与我们对某些现象*原因*的缺乏知识有关。那么不确定性从何而来呢？我们在[第2章](ch02.html#ch02_introanalytics)已经讨论过这个问题，所以让我简要总结一下那里提到的内容。
- en: Many times, the source of our uncertainty reflects, literally, our *ignorance*
    about the causes or consequences of our actions or any phenomenon we observe.
    But it can also be a byproduct of our need to *simplify* away the complexities
    of the world that are not of first-order to the problem at hand. Other times we
    may be quite comfortable with our prediction about the direction or sign of an
    effect—think the Law of Demand—but we may be uncertain about the different magnitudes
    in a *heterogenous* population. Finally, uncertainty may arise from *complex*
    behavior and social interactions that may even obey simple deterministic rules.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 许多时候，我们不确定的根源实际上反映了我们对行动或我们观察到的任何现象的原因或后果的*无知*。但它也可能是我们需要将世界的复杂性简化掉（对于手头的问题不是首要的）。有时，我们可能对效应的方向或符号（如需求法则）的预测感到非常自信，但我们可能对*异质*群体中不同幅度感到不确定。最后，不确定性可能源于*复杂*行为和社会互动，甚至可能遵循简单的确定性规则。
- en: This list is not supposed to be exhaustive, of course. But most uncertain events
    can be classified into one of these categories.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，这份清单并不是详尽无遗的。但是，大多数不确定事件可以归类为这些类别之一。
- en: Quantifying Uncertainty
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 量化不确定性
- en: We are all equipped with the ability to make qualitative comparisons of uncertain
    events. For instance, given our experience and some other evidence we have, we
    may be able to say that *it is more likely* that it will rain tomorrow than that
    it won’t. But how can we make this qualitative comparison a quantitative one?
    The calculus of probability was specifically designed to enable us to work and
    deal with uncertainty. I will give a quick and simplified summary of probability
    theory here, but please check the references at the end of the chapter if you
    are interested in more thorough treatments.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都具备对不确定事件进行定性比较的能力。例如，根据我们的经验和其他一些证据，我们可能能够说明明天下雨的可能性比不下雨的可能性大。但是，我们如何将这种定性比较变为定量比较呢？概率计算专门设计为使我们能够处理和处理不确定性。在这里，我将对概率论进行简要而简化的总结，但如果您对更详细的处理感兴趣，请查看本章末尾的参考资料。
- en: 'In our context, we are interested in quantifying the probability of uncertain
    consequences, given our actions. Let us view some examples now. In the context
    of customer attrition, we can make a retention offer to a customer, but she may
    or may not decide to churn. Here we are truly ignorant about two things: is the
    customer likely to churn even if we don’t make an offer? Will our offer affect
    the probability of that event happening (and how)?'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的背景下，我们有兴趣量化不确定后果发生的概率，考虑到我们的行动。现在让我们看一些例子。在客户流失的背景下，我们可以向客户提供保留优惠，但她可能会决定流失或者不流失。在这里，我们真正不确定两件事：即使我们不提供优惠，客户是否可能流失？我们的优惠是否会影响这一事件发生的概率（以及如何影响）？
- en: 'What about dating? Should I go out on that blind date tonight? In this case
    the action is going out or not. There are many uncertainties underlying this problem,
    but since we have one particular objective—say, meeting someone special that you
    can continue dating—we can simplify and consider only the probability that the
    date will be *successful* according to that objective. One thing should be clear
    from the outset: the probability of meeting someone significant is null *if* we
    decide to stay home.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 约会呢？今晚我应该去见那个相亲对象吗？在这种情况下，行动是出门或不出门。这个问题下有许多不确定性，但由于我们有一个特定的目标——比如，认识一个你可以继续约会的特别的人——我们可以简化问题，只考虑按照这个目标来看，约会将会成功的概率。从一开始应该清楚的是，如果我们决定待在家里，那么遇到重要人士的概率为零。
- en: 'To make things simple, consider only the case of binary outcomes where our
    actions have consequences that are either satisfactory or not.^([1](ch06.html#idm46359808180968))
    There’s no middle ground, and the two alternatives are mutually exclusive: one
    and only one must be true. Denote by <math alttext="p left-parenthesis upper S
    right-parenthesis"><mrow><mi>p</mi> <mo>(</mo> <mi>S</mi> <mo>)</mo></mrow></math>
    the probability of the consequence being *satisfactory* given our action. We will
    sometimes let the probability depend on our actions, and denote it by <math alttext="p
    left-parenthesis upper S vertical-bar a right-parenthesis"><mrow><mi>p</mi> <mo>(</mo>
    <mi>S</mi> <mo>|</mo> <mi>a</mi> <mo>)</mo></mrow></math> , read as the probability
    that the outcome will be successful, *given* that action <math alttext="a"><mi>a</mi></math>
    was taken. The following properties are typical of probability functions:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 要简化事情，只考虑二元结果的情况，即我们的行动带来的后果要么令人满意，要么不满意。^([1](ch06.html#idm46359808180968))
    没有中间地带，这两种选择是互斥的：只能有一个是真实的。用<math alttext="p left-parenthesis upper S right-parenthesis"><mrow><mi>p</mi>
    <mo>(</mo> <mi>S</mi> <mo>)</mo></mrow></math> 表示在我们的行动下后果为*satisfactory*的概率。有时我们会让概率依赖于我们的行动，并将其表示为<math
    alttext="p left-parenthesis upper S vertical-bar a right-parenthesis"><mrow><mi>p</mi>
    <mo>(</mo> <mi>S</mi> <mo>|</mo> <mi>a</mi> <mo>)</mo></mrow></math> ，读作行动<math
    alttext="a"><mi>a</mi></math> 被采取时结果将成功的概率。以下是概率函数的典型特性：
- en: <math alttext="0 less-than-or-equal-to p left-parenthesis upper S right-parenthesis
    less-than-or-equal-to 1"><mrow><mn>0</mn> <mo>≤</mo> <mi>p</mi> <mo>(</mo> <mi>S</mi>
    <mo>)</mo> <mo>≤</mo> <mn>1</mn></mrow></math>
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="0 less-than-or-equal-to p left-parenthesis upper S right-parenthesis
    less-than-or-equal-to 1"><mrow><mn>0</mn> <mo>≤</mo> <mi>p</mi> <mo>(</mo> <mi>S</mi>
    <mo>)</mo> <mo>≤</mo> <mn>1</mn></mrow></math>
- en: This says that the probability is a number between zero and one—zero denoting
    the case where we know with absolute certainty that the event will *not* happen,
    and one the other extreme scenario.
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这表明概率是一个介于零和一之间的数字——零表示我们绝对确定事件*不*会发生，而一则表示另一个极端的情况。
- en: <math alttext="p left-parenthesis upper S right-parenthesis plus p left-parenthesis
    not upper S right-parenthesis equals 1"><mrow><mi>p</mi> <mo>(</mo> <mi>S</mi>
    <mo>)</mo> <mo>+</mo> <mi>p</mi> <mo>(</mo> <mtext>not</mtext> <mi>S</mi> <mo>)</mo>
    <mo>=</mo> <mn>1</mn></mrow></math>
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="p left-parenthesis upper S right-parenthesis plus p left-parenthesis
    not upper S right-parenthesis equals 1"><mrow><mi>p</mi> <mo>(</mo> <mi>S</mi>
    <mo>)</mo> <mo>+</mo> <mi>p</mi> <mo>(</mo> <mtext>not</mtext> <mi>S</mi> <mo>)</mo>
    <mo>=</mo> <mn>1</mn></mrow></math>
- en: Since in the binary outcome world the events are mutually exclusive, it must
    be that the two probabilities add up to one. Alternatively, we can express the
    probability of a failure (not a success) as one minus the probability of a success.
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于在二元结果世界中事件是互斥的，这意味着两个概率的总和必须为一。或者，我们可以将失败（不成功）的概率表示为成功的概率的一减。
- en: These two properties will suffice for us for now, but please note that the more
    general properties cover the cases where we have many possible outcomes and where
    some of them may not be mutually exclusive. The second property is known as an
    addition rule, and the calculus of probability also comes equipped with a *product*
    rule that allows us, among other things, to update probability estimates (Bayes’
    rule).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个特性现在对我们来说就足够了，但请注意，更一般的性质涵盖了我们有许多可能结果并且其中一些可能不是互斥的情况。第二个特性被称为加法法则，概率的微积分还配备了一个*乘法*规则，允许我们更新概率估计（贝叶斯定理）等。
- en: Expected Values
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 预期值
- en: 'Suppose you enter the following gamble: I will flip a coin and if it shows
    a head you *win* $10; otherwise you *lose* $10\. How can you assess the value
    of this gamble should you decide to enter? Formally, we have defined a *random
    variable* <math alttext="upper X"><mi>X</mi></math> that takes two values depending
    on the uncertain outcome: 10 if it shows heads and –10 if it shows tails.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你参与以下赌博：我将抛硬币，如果正面朝上你*赢得*$10；否则你*损失*$10\. 如果你决定参与，你如何评估这个赌博的价值？正式地说，我们定义了一个*随机变量*
    <math alttext="upper X"><mi>X</mi></math>，根据不确定的结果可以取两个值：如果是正面，取值为10；如果是反面，取值为–10。
- en: Notice that random variables are mathematical functions that map each element
    in the set of uncertain outcomes (tails or heads in our example) onto numbers
    (–10 and 10 in the example). If we had 5 possible outcomes (or 10, or infinite),
    each with an assigned probability, a random variable would assign each of the
    5 (or 10, or infinite) outcomes a number. Also, since this is a mathematical function,
    each outcome must be assigned to one and only one number; however, several outcomes
    may be assigned the same number. In the extreme case—the case of a constant function—all
    outcomes are assigned the same number. Random variables allow us to translate
    random outcomes into numbers, which is quite handy since we know how to work with
    them.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，随机变量是数学函数，将不确定结果集（例如我们例子中的反面或正面）的每个元素映射到数字（在例子中为–10和10）。如果我们有5个可能的结果（或10个，或无限个），每个都有一个指定的概率，随机变量将为这5个（或10个，或无限个）结果分配一个数字。此外，由于这是一个数学函数，每个结果必须分配到一个且仅一个数字；然而，可能有几个结果被分配到同一个数字。在极端情况下——恒定函数的情况下——所有结果都被分配到同一个数字。随机变量使我们能够将随机结果转化为数字，这非常方便，因为我们知道如何处理它们。
- en: 'In the case of our gamble, the uncertainty arises because we don’t know if
    the coin will show heads or tails, so our prize is unknown. We can define the
    *expected value* of our gamble as the average of the prize, *weighted* by the
    probabilities:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的赌博案例中，不确定性源于我们不知道硬币是正面还是反面，因此我们的奖品是未知的。我们可以定义我们赌博的*期望值*为奖品的平均值，按概率*加权*：
- en: <math alttext="upper E left-parenthesis prize right-parenthesis equals p left-parenthesis
    t a i l s right-parenthesis times left-parenthesis negative 10 right-parenthesis
    plus p left-parenthesis h e a d s right-parenthesis times 10" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>prize</mtext> <mo>)</mo> <mo>=</mo> <mi>p</mi> <mo>(</mo> <mi>t</mi>
    <mi>a</mi> <mi>i</mi> <mi>l</mi> <mi>s</mi> <mo>)</mo> <mo>×</mo> <mo>(</mo> <mo>-</mo>
    <mn>10</mn> <mo>)</mo> <mo>+</mo> <mi>p</mi> <mo>(</mo> <mi>h</mi> <mi>e</mi>
    <mi>a</mi> <mi>d</mi> <mi>s</mi> <mo>)</mo> <mo>×</mo> <mn>10</mn></mrow></math>
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis prize right-parenthesis equals p left-parenthesis
    t a i l s right-parenthesis times left-parenthesis negative 10 right-parenthesis
    plus p left-parenthesis h e a d s right-parenthesis times 10" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>prize</mtext> <mo>)</mo> <mo>=</mo> <mi>p</mi> <mo>(</mo> <mi>t</mi>
    <mi>a</mi> <mi>i</mi> <mi>l</mi> <mi>s</mi> <mo>)</mo> <mo>×</mo> <mo>(</mo> <mo>-</mo>
    <mn>10</mn> <mo>)</mo> <mo>+</mo> <mi>p</mi> <mo>(</mo> <mi>h</mi> <mi>e</mi>
    <mi>a</mi> <mi>d</mi> <mi>s</mi> <mo>)</mo> <mo>×</mo> <mn>10</mn></mrow></math>
- en: If our coin is fair—so that each side has a 50% probability of showing—the expected
    value is 0.5 × –10 + 0.5 × 10 = 0. [Figure 6-2](#fig6_expected_value) shows the
    expected value for different probabilities of landing heads. Note that it varies
    *linearly* with the probabilities; a very nice property that will become handy
    in applications. When we are certain that it will land heads, we expect to get
    the full $10\. At the other extreme, if the coin always shows tails, we have a
    sure loss of $10.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们的硬币是公平的——每一面都有50%的概率出现——期望值就是 0.5 × –10 + 0.5 × 10 = 0。[图 6-2](#fig6_expected_value)展示了不同正面概率的期望值。注意它与概率*线性*变化；这是一个在应用中非常有用的优良特性。当我们确定会正面朝上时，我们期望获得全部$10\.
    另一方面，如果硬币总是反面朝上，我们就会确定损失$10。
- en: '![expected values](assets/asai_0602.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![期望值](assets/asai_0602.png)'
- en: Figure 6-2\. Expected values for different probabilities of heads for our coin-tossing
    example
  id: totrans-26
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-2\. 不同正面概率的期望值，我们抛硬币的例子
- en: Bidding for a highway construction contract
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 投标州际公路建设合同
- en: 'Let’s explore another example. Suppose your company is considering participating
    in the new public bid to construct an interstate highway. The regulator has decided
    that any company that wants to participate must pay a fixed entry cost of $10K.
    The finance department has estimated that if the contract is awarded, the company’s
    long-term incremental profits will be $1 million. After thorough consideration,
    the data scientists on the team estimated that the probability of winning the
    contract is 80%. Let’s calculate the *expected profits* if we decide to participate:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再看一个例子。假设你的公司考虑参与新的公开投标，以建造一条州际公路。监管机构决定，任何想参与的公司必须支付固定的参与费用$10K。财务部门估计，如果合同被授予，公司的长期增量利润将为$1百万。经过深思熟虑，团队的数据科学家估计，赢得合同的概率为80%。让我们计算如果我们决定参与，*期望利润*是多少：
- en: <math alttext="upper E left-parenthesis profits right-parenthesis equals 0.8
    times normal dollar-sign 1 upper M plus 0.2 times normal dollar-sign 0 minus normal
    dollar-sign 10 upper K equals normal dollar-sign 790 upper K" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>profits</mtext> <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>.</mo>
    <mn>8</mn> <mo>×</mo> <mi>$</mi> <mtext>1M</mtext> <mo>+</mo> <mn>0</mn> <mo>.</mo>
    <mn>2</mn> <mo>×</mo> <mi>$</mi> <mn>0</mn> <mo>-</mo> <mi>$</mi> <mtext>10K</mtext>
    <mo>=</mo> <mi>$</mi> <mtext>790K</mtext></mrow></math>
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis profits right-parenthesis equals 0.8
    times normal dollar-sign 1 upper M plus 0.2 times normal dollar-sign 0 minus normal
    dollar-sign 10 upper K equals normal dollar-sign 790 upper K" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>profits</mtext> <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>.</mo>
    <mn>8</mn> <mo>×</mo> <mi>$</mi> <mtext>1M</mtext> <mo>+</mo> <mn>0</mn> <mo>.</mo>
    <mn>2</mn> <mo>×</mo> <mi>$</mi> <mn>0</mn> <mo>-</mo> <mi>$</mi> <mtext>10K</mtext>
    <mo>=</mo> <mi>$</mi> <mtext>790K</mtext></mrow></math>
- en: Notice that you pay the entry cost *independently* of whether the company wins
    the contract or not, so it stays out of the expected value calculation. The only
    uncertain quantity is the value of the projected incremental profits with or without
    the contract. Note also that expected values preserve the units of the random
    variable under consideration. In this case, we expect to make $790K, should we
    enter the bid.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，您支付的进入成本*独立*于公司是否赢得合同，因此不会影响期望值的计算。唯一不确定的量是是否具有或不具有合同的预期增量利润的价值。还要注意，期望值保留了所考虑随机变量的单位。在这种情况下，如果我们参与投标，我们预计将赚取$790K。
- en: Interpreting expected values
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 解释期望值
- en: 'How should we interpret the expected value? According to one school of thought—the
    *frequentist* school—we can think of an experiment as one that takes place *many*
    times under the same conditions. In the coin-flipping example, if you repeat the
    gamble an infinite number of times, the expected value is the (simple) arithmetic
    average of your long-run earnings: when you win (approximately 50% of the time
    over the long run) you add $10 to the long-run earnings, and when you lose you
    subtract $10\. The simple average is obtained by dividing your total earnings
    by the number of times you entered the gamble.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们应该如何解释期望值？根据一种观点——*频率学派*，我们可以将一个实验看作是在相同条件下*多次*进行的实验。在抛硬币的例子中，如果您无限次重复赌博，期望值就是您长期收益的（简单）算术平均数：当您赢得时（长期内大约50%的时间），您的长期收益增加$10，而当您输掉时则减少$10。简单平均值通过将您的总收益除以您进入赌博的次数来获得。
- en: '[Figure 6-3](#fig6_expval_interpretation) shows an example of 1,000 realizations
    of this gamble, obtained with the code snippet that follows ([Example 6-1](#expval_interpretation_code)).
    The left panel shows how total earnings accumulate over time: in this case, the
    player starts with a losing streak, and at least in the first 1,000 repetitions,
    they don’t fully recover.^([2](ch06.html#idm46359808017400)) The right panel shows
    the average earnings, and you can see that they converge very quickly to the expected
    value of zero dollars.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-3](#fig6_expval_interpretation)显示了这种赌博的1,000次实现示例，使用下面的代码片段获得（[例 6-1](#expval_interpretation_code)）。左面板显示了随时间累积的总收益：在这种情况下，玩家从一个输的局面开始，至少在前1,000次重复中，他们没有完全恢复。^([2](ch06.html#idm46359808017400))
    右面板显示了平均收益，可以看到它们非常快速地收敛到零美元的期望值。'
- en: '![coin flipping](assets/asai_0603.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![coin flipping](assets/asai_0603.png)'
- en: Figure 6-3\. Repeating the coin-flipping gamble 1,000 times
  id: totrans-35
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-3\. 重复抛硬币赌博1,000次
- en: Example 6-1\. Average long-run earnings as expected values
  id: totrans-36
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: Example 6-1\. 平均长期收益作为期望值
- en: '[PRE0]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: As simple as the frequentist interpretation is—so called because you can imagine
    probabilities denoting the frequency of occurrences if you repeat the gamble infinitely
    many times—it may be problematic. What does it mean to repeat a gamble many times,
    if we know that it will happen only once? Even worse, think about the case of
    the public bid. How can we even imagine entering many times, in the *exact* conditions
    of the current bid? Proponents of the *Bayesian* school of thought argue that
    there are many cases where the infinite-repetition interpretation is not natural;
    they claim that in these cases, each individual may have a different probability
    assessment that need not coincide with a long-run frequency of occurrences. In
    this case, subjective probabilities quantify the degree of uncertainty that any
    of us may have, and may, therefore, not coincide at all.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管频率学派的解释如此简单——因为您可以想象概率表示如果您无限次重复赌博时发生的频率——但它可能存在问题。如果我们知道这种赌博只会发生一次，那重复多次是什么意思呢？更糟糕的是，想想公共投标的情况。如果我们如何想象在当前投标的*确切*条件下多次参与呢？贝叶斯学派的支持者认为，有许多情况下，无限重复解释并不自然；他们认为在这些情况下，每个人的概率评估可能不会与长期发生频率完全一致。在这种情况下，主观概率量化了我们每个人可能拥有的不确定性程度，因此可能根本不会完全一致。
- en: Bayesian and Frequentist Schools of Thought
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 贝叶斯学派与频率学派的思想
- en: The two schools of thought mentioned in this chapter are the classical or frequentist
    and the Bayesian schools. The 20th century witnessed very strong debates between
    the two with respect to their interpretation of probabilities. Broadly speaking,
    the classical school thinks of probabilities as long-run frequencies of occurrences,
    and Bayesians believe that a probability is a subjective assessment of uncertainty.
    It is called *Bayesian* because, in their view, we all start with prior subjective
    beliefs that are updated through Bayes’ rule once we get new evidence.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 本章提到的两种思想流派是经典或频率学派和贝叶斯学派。20世纪在它们对概率解释的观点之间进行了非常激烈的辩论。广义上说，经典学派认为概率是长期发生频率，而贝叶斯学派认为概率是对不确定性的主观评估。它被称为*贝叶斯*，因为在他们看来，我们都是从先验主观信念开始，一旦获得新证据，就通过贝叶斯法则进行更新。
- en: Making Decisions Without Uncertainty
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在没有不确定性的情况下做出决策
- en: 'Making decisions under uncertainty is hard because we must first master the
    calculus of probabilities. A useful trick is to always start simple, assuming
    away any underlying uncertainty: if we knew everything that is relevant to our
    problem, how would we choose? This helps us clarify many things, starting with
    whether we actually have levers that can accomplish our objectives.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在不确定性条件下做出决策很困难，因为我们必须首先掌握概率计算。一个有用的技巧是始终从简单开始，假设消除任何潜在的不确定性：如果我们知道与我们问题相关的所有内容，我们会如何选择？这有助于我们澄清许多事情，首先是我们是否实际上有可以实现我们目标的手段。
- en: 'Consider first the decision in [Figure 6-4](#fig6_decision_certainty1). We
    want to get the largest revenues possible, and we are considering two alternative
    actions: we can either make a price discount, in which case our revenues will
    be $155K, or we can fuel our online marketing campaigns, generating $131K. All
    of these quantities are known since we are assuming away all uncertainty.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 首先考虑[图6-4](#fig6_decision_certainty1)中的决策。我们希望获得可能的最大收入，我们正在考虑两种替代行动：我们可以打折，这样我们的收入将为155K美元，或者我们可以推动我们的在线营销活动，生成131K美元。由于我们假设消除了所有不确定性，所有这些数量都是已知的。
- en: What should we do? In this case things are straightforward and we decide to
    go with the price discount. This follows from the fact that we have chosen revenues
    to be our objective, and that we seek to generate the maximum revenues possible.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们应该怎么做？在这种情况下，事情很明确，我们决定选择价格折扣。这是因为我们选择了收入作为我们的目标，并且我们希望尽可能产生最大的收入。
- en: '![decision under certainty](assets/asai_0604.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![多目标决策](assets/asai_0604.png)'
- en: Figure 6-4\. Choosing a lever under certainty
  id: totrans-46
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-4\. 在确定性下选择一个杠杆
- en: 'Decisions without uncertainty are *relatively* easy to solve, but this is most
    likely an artifact of our (hopefully) conscious choice to simplify. To see this,
    consider the two cases shown in [Figure 6-5](#fig6_decision_certainty2). We have
    two levers (A and B) and two objectives: revenues and customer satisfaction. The
    ideal world is the one in the left panel, where both objectives are aligned and
    we choose action A since it is superior to B for the two metrics under consideration.
    But many times the objectives look more like those in the right panel, and we
    need to trade-off one objective for another.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 没有不确定性的决策相对来说比较容易解决，但这很可能是我们（希望的）有意选择简化的结果。为了看清楚这一点，考虑[图6-5](#fig6_decision_certainty2)中显示的两种情况。我们有两个杠杆（A和B）和两个目标：收入和客户满意度。理想世界是左面板中的那种，那里两个目标都一致，我们选择行动A，因为在考虑的两个指标下，它优于B。但很多时候，目标看起来更像右面板中的那种，我们需要在一个目标与另一个目标之间进行权衡。
- en: '![decision under certainty](assets/asai_0605.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![确定性决策](assets/asai_0605.png)'
- en: Figure 6-5\. Decisions with multiple objectives
  id: totrans-49
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-5\. 具有多个目标的决策
- en: How should we attempt to solve this problem, even in the case where we have
    complete certainty about the mappings from our actions to the consequences? One
    possibility is to try to measure everything with the same standard, say, dollars.
    Can we translate customer satisfaction into dollars? There’s another uncertain
    mapping that we need to quantify, but if we succeed then we are comparing apples
    to apples, and we get one simple dimension to optimize.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在我们对行动与结果之间的映射完全确定的情况下，我们应该如何尝试解决这个问题呢？一种可能性是尝试用相同的标准来衡量一切，比如美元。我们能把客户满意度转化为美元吗？这是另一个需要量化的不确定映射，但如果我们成功了，那么我们就在进行苹果与苹果的比较，我们会得到一个简单的优化维度。
- en: Making Simple Decisions Under Uncertainty
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在不确定性下做出简单的决策
- en: Let us modify the simple decision problem in the last section, and now assume
    that our customers may or may not accept our price discount ([Figure 6-6](#fig6_decision_uncertainty1)).
    They accept with 80% probability and reject our offer with the remaining 20% probability.
    In the former case, we make $155K in additional revenues, and we make nothing
    if they reject our offer. Our second lever remains as before. How should we approach
    this decision?
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们修改上一节的简单决策问题，现在假设我们的客户可能会接受或不接受我们的价格优惠（见图6-6）。他们有80%的概率接受，剩下的20%的概率拒绝我们的报价。在前一种情况下，我们可以获得额外的155K美元的收入，如果他们拒绝我们的报价，我们将一无所获。我们的第二个杠杆仍然与以往一样。我们应该如何处理这个决定？
- en: '![decision under uncertainty](assets/asai_0606.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![不确定条件下的决策](assets/asai_0606.png)'
- en: Figure 6-6\. Same decision, but now under uncertainty
  id: totrans-54
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-6。相同的决策，但现在存在不确定性
- en: 'Let’s compute the expected revenues of our two levers, starting with the marketing
    campaign since it has no uncertainty. In this case, the expected revenues are
    the revenues observed *if* we decide to pursue this action ($131K). For the price
    discount campaign, the expected value is revenues of $124K dollars, as can be
    readily seen by computing the expectation:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们计算我们的两个杠杆的预期收入，首先从市场营销活动开始，因为它没有不确定性。在这种情况下，预期收入是我们决定追求此行动时观察到的收入（$131K）。对于价格优惠活动，预期值是124K美元的收入，通过计算期望可以轻松看出：
- en: '*E*(revenues) = 0.8 × $155K + 0.2 × $0 = $124K'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '*E*(收入) = 0.8 × 155K美元 + 0.2 × 0 = 124K美元'
- en: Which offer would you make? Comparing the uncertain discount ($124K in expectation)
    with the certain marketing campaign ($131K), we see that the latter has larger
    revenues and decide to move forward with it.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 您会选择哪个报价？将不确定的折扣（期望为124K美元）与确定的营销活动（131K美元）进行比较，我们看到后者有更高的收入，决定继续前进。
- en: 'At this point you may be tempted to say that *under any circumstance* you would
    prefer the certain action (marketing campaign) since it’s better to have this
    “mediocre” outcome than nothing. In this case you may be acting as a *risk-averse*
    person—in a somewhat extreme version—and, consequently, you prefer the safe bet.
    But let me try to challenge this position by asking the following question: given
    these probabilities (80–20), is there any set of rewards that will make you accept
    the bet?'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您可能会认为*无论如何*您都更喜欢确定的行动（营销活动），因为有这个“平庸”的结果总比没有好。在这种情况下，您可能会表现得像一个*风险回避者*——或多或少是一个极端版本，并且因此您更喜欢安全赌注。但让我尝试通过以下问题来挑战这个立场：鉴于这些概率（80-20），是否有任何奖励可以使您接受赌注？
- en: Suppose that our data scientists reestimate the revenues from the price discount
    campaign at $164K. You can compute the expectation again (0.8 × $164K = $131.20K),
    compare it to the certain outcome, and see that now, under this expected value
    criterion, you should choose the price discount lever. [Figure 6-7](#fig6_expected_rev_price_disc)
    shows how the expected value varies with different possible revenue estimations
    for this campaign. Are you still unconvinced?
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们的数据科学家重新评估了价格优惠活动的收入，为164K美元。您可以再次计算期望值（0.8 × 164K美元 = 131.20K美元），将其与确定结果进行比较，现在根据这个期望值标准，您应该选择价格优惠杠杆。图6-7显示了预期值如何随着该活动不同可能的收入估计而变化。您还有犹豫吗？
- en: '![price discount campaign](assets/asai_0607.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![价格优惠活动](assets/asai_0607.png)'
- en: Figure 6-7\. Expected revenues for different outcomes of the price discount
    campaign
  id: totrans-61
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-7。价格优惠活动不同结果的预期收入
- en: What if our data scientists now estimate that the revenues from the discount
    campaign are $200K (expected value = $160K)? Or $500K ($400K in expectation) or
    $1 million ($800K in expectation)? I doubt that you are still reluctant to enter
    the bet, but we will talk more about this later in the chapter.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们的数据科学家现在估计折扣活动的收入为200K美元（期望值=160K美元）？或者500K美元（期望值=400K美元）或100万美元（期望值=800K美元）？我怀疑您仍然不愿进入赌局，但我们将在本章后面进一步讨论这个问题。
- en: Expected values allow us to compare uncertain outcomes, so this will be our
    criterion when facing decisions under uncertainty. Let us now delve deeper into
    the difficulties when making decisions under uncertainty.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 预期值允许我们比较不确定的结果，所以当面对不确定的决策时，这将是我们的标准。现在让我们更深入地探讨在面对不确定性时做出决策时的困难。
- en: Decisions Under Uncertainty
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不确定条件下的决策
- en: The main difficulty with uncertainty is that we can’t be sure about the outcome
    of our decision at the time we choose our actions. As it is commonly said, *uncertainty
    unravels once we’ve made a decision*, at which point we might regret our choice
    if the realization was not satisfactory.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 不确定性的主要困难在于我们在选择行动时无法确定决策结果。正如常说的那样，*一旦我们做出决策，不确定性就会揭示*，在这时我们可能会后悔自己的选择，如果实现不尽人意的话。
- en: '[Figure 6-9](#fig6_anatomy_uncertainty) shows the main difficulties and a solution
    when we make decisions under uncertainty. Starting from the top-left, Panel 1
    shows our choice and how our levers <math alttext="upper A comma upper B"><mrow><mi>A</mi>
    <mo>,</mo> <mi>B</mi></mrow></math> map to the uncertain consequences (accept/reject
    each offer). They accept lever <math alttext="upper A"><mi>A</mi></math> with
    probability <math alttext="p Subscript upper A"><msub><mi>p</mi> <mi>A</mi></msub></math>
    and lever <math alttext="upper B"><mi>B</mi></math> with probability <math alttext="p
    Subscript upper B"><msub><mi>p</mi> <mi>B</mi></msub></math> . This is the underlying
    uncertainty in this hypothetical scenario.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-9](#fig6_anatomy_uncertainty)显示了在我们面对不确定性时所面临的主要困难及其解决方案。从左上角开始，第1面板展示了我们的选择以及我们的杠杆
    <math alttext="upper A comma upper B"><mrow><mi>A</mi> <mo>,</mo> <mi>B</mi></mrow></math>
    如何映射到不确定的后果（接受/拒绝每个提议）。它们以概率 <math alttext="p Subscript upper A"><msub><mi>p</mi>
    <mi>A</mi></msub></math> 接受杠杆 <math alttext="upper A"><mi>A</mi></math> ，以概率 <math
    alttext="p Subscript upper B"><msub><mi>p</mi> <mi>B</mi></msub></math> 接受杠杆 <math
    alttext="upper B"><mi>B</mi></math> 。这是这个假设情景中的潜在不确定性。'
- en: '![anatomy of uncertainty](assets/asai_0609.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![不确定性的解剖](assets/asai_0609.png)'
- en: Figure 6-9\. Anatomy of a decision under uncertainty
  id: totrans-68
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-9\. 不确定性的解剖
- en: 'Panel 2 shows the main problem we face: we must make the decision *before*
    the uncertainty is resolved, commonly referred as the *ex-ante* stage. Ideally,
    if we had been able to see the actual outcome after uncertainty is resolved, we
    could have made the *ex-post* optimal decision, but this is not how decisions
    under uncertainty work. We must deal with the fact that decisions are made *before*
    uncertainty is resolved.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 第2面板显示我们面临的主要问题：我们必须在不确定性得到解决之前做出决策，通常称为*前期*阶段。理想情况下，如果我们能在不确定性解决后看到实际结果，我们可以做出*事后*最优决策，但这并不是在不确定性下做出决策的方式。我们必须面对在不确定性解决之前做出决策这一事实。
- en: 'Panel 3 shows how we make choices under uncertainty: we evaluate each of the
    alternatives (our levers) by computing their expected values and choose the one
    that maximizes the expectation. It must be clear that this does not guarantee
    ex-post optimality: we may choose the option that maximizes the expected value,
    but still end up with a suboptimal outcome once uncertainty is resolved.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 第3面板展示了我们在不确定性下做出选择的方式：我们通过计算每个替代方案（我们的杠杆）的预期值来评估它们，并选择最大化期望的那个。必须明确的是，这并不保证事后最优性：我们可能会选择最大化预期值的选项，但在不确定性解决后仍然得到次优结果。
- en: Why can this happen? It could very well be that we didn’t have good estimates
    of our probabilities, either because of lack of good data, because we just didn’t
    make the best use of our machine learning toolkit, or because we didn’t spend
    enough time understanding the sources of our underlying uncertainty. But *even
    if we did*, sometimes we really just have bad luck.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么会这样？很可能是因为我们对概率没有良好的估计，要么是因为缺乏良好的数据，要么是因为我们没有充分利用我们的机器学习工具包，或者是因为我们没有花足够的时间理解我们潜在不确定性的来源。但*即使我们做了*，有时候我们真的只是运气不好。
- en: Is This the Best We Can Do?
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 这是我们能做到的最好吗？
- en: The expected value methodology has become the standard when making decisions
    under uncertainty. But is this the best we can do ex-ante, or before uncertainty
    is resolved? Let’s explore some alternatives.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在面对不确定性时，期望值方法已成为标准。但在前期或在不确定性解决之前，这是我们能做到的最好吗？让我们探讨一些替代方案。
- en: 'Suppose that instead of pulling the lever that maximizes the expected value,
    we neglect uncertainty and always choose the alternative with the highest payoff.
    If you only encounter this decision once, sometimes you’ll regret it and some
    times you won’t: it really depends on the values of the probabilities and the
    exact realization.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们不是选择最大化预期值的杠杆，而是忽视不确定性并始终选择具有最高回报的替代方案。如果你只遇到这种决策一次，有时你会后悔，有时你不会：这实际上取决于概率值和确切实现的情况。
- en: Since repeating the decision once wasn’t conclusive, imagine that we encounter
    the exact same bet many times as a frequentist would hold. If you compute the
    *cumulative* earnings for both methods, you would then be happy to conclude that
    maximizing the expected utility is unconditionally better in the long run.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 由于再次做出的决策并没有得出结论，假设我们像频率学家一样多次遇到完全相同的赌注。如果你计算两种方法的*累积*收益，你会很高兴地得出结论，即在长期内，最大化预期效用是无条件更好的。
- en: '[Figure 6-10](#fig6_diffmethods) shows the cumulative earnings from these two
    decision criteria if we faced the same decision 100 times. The code shown in [Example 6-2](#max-expected-values-long-run)
    was used to create the plot:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-10](#fig6_diffmethods)显示了如果我们面临同一决策100次，则从这两种决策标准中获得的累积收益。使用[示例 6-2](#max-expected-values-long-run)中显示的代码创建了该图：'
- en: Example 6-2\. Maximizing expected values is (second-best) optimal in the long
    run
  id: totrans-77
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 示例 6-2\. 在长期内，最大化期望值是（次佳）最优的
- en: '[PRE1]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The ex-post decision is sometimes called the *first-best*. This is because
    we effectively choose assuming away any uncertainty, as if we had a magic ball
    and know what the customer will accept. As such, this is always a good benchmark
    to compare any other decision criterion. I also show the simulated earnings for
    two additional criteria: maximizing the expected value (labeled *Ex-ante*) and
    always choosing the alternative with the highest certain payoff (labeled *Max-Value*,
    option B in our example).'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 次后决策有时被称为*第一最佳*。这是因为我们实际上是假设消除了任何不确定性，就像我们有一个魔球并知道客户将接受什么一样。因此，这总是一个比较任何其他决策标准的良好基准。我还展示了两种额外标准的模拟收益：最大化期望值（标记为*Ex-ante*）和始终选择具有最高确定收益的替代方案（标记为*Max-Value*，在我们的例子中是选项B）。
- en: '![decision methods](assets/asai_0610.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![决策方法](assets/asai_0610.png)'
- en: Figure 6-10\. Evaluating different decision criteria under uncertainty
  id: totrans-81
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-10\. 在不确定性下评估不同决策标准
- en: The left plot shows that the first-best is indeed the best possible outcome.
    In this simulation, choice B had a few good initial realizations, making it superior
    to the expected value calculation (“Ex-ante”) in the short term. But in the longer-term
    this behavior reverts, and had we been using the expected-value calculation, we
    could’ve made more revenues. The answer is that with this set of realizations,
    *we would’ve regretted not using the expected value criterion*.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 左图显示，第一最佳确实是最佳的可能结果。在这个模拟中，选择B在短期内由于几个良好的初始实现而优于期望值计算（“Ex-ante”）。但在长期内，这种行为会逆转，如果我们一直使用期望值计算，我们本可以获得更多的收入。答案是，使用这组实现，*我们会后悔没有使用期望值标准*。
- en: The right plot shows exactly the fraction of extra earnings we could’ve made.
    At the beginning the few good initial realizations for choice B (with higher CLV)
    made the MaxValue criterion superior to the use of expected values. Since the
    frequency of occurrences converge to the probabilities in the long run, we start
    seeing that the ex-ante criterion starts dominating.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 右图显示了我们本可以赚取的额外收益的百分比。一开始，选择B的几个好的初步实现（具有更高的CLV）使得MaxValue标准优于使用期望值。由于发生的频率在长期内收敛到概率，我们开始看到Ex-ante标准开始占主导地位。
- en: Note that a similar argument can be made if your choice was based only on probabilities—say,
    always choose the lever with a higher probability of being accepted.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，如果你的选择仅基于概率——比如，总是选择有更高被接受概率的杠杆——可以提出类似的论点。
- en: But This Is a Frequentist Argument
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 但这是一个频率学的论点
- en: 'The previous example shows that maximizing the expected value is better than
    the two alternatives we have proposed: neglect uncertainty and choose the lever
    that gives the highest revenues if accepted, and neglect revenues and choose the
    lever with highest probability of acceptance. In both cases, we would have regretted,
    *in the long run*, using these decision criteria.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的例子表明，最大化期望值比我们提出的两种替代方案更好：忽略不确定性并选择如果被接受给出最高收入的杠杆，以及忽略收入并选择具有最高接受概率的杠杆。在这两种情况下，长期来看，我们将会对使用这些决策标准感到遗憾。
- en: 'But I argued previously that this frequentist interpretation may not be suitable
    in many realistic business scenarios: the whole idea of simulating many times
    the same decision *under the exact same conditions, only with different realizations
    of uncertainty* is problematic.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 但我之前提到过，这种频率学解释在许多现实业务场景中可能不合适：在完全相同条件下多次模拟同一决策*不同不确定性的实现*的整个想法是有问题的。
- en: Decision theorists have battled with this dilemma for decades, and the answer
    has been the so-called axiomatic approach. Under this solution we need not assume
    a frequentist rationale, but rather pose some behavioral axioms that when satisfied
    guarantee that we act *as if we maximized the expected value*. I will mention
    some references to this approach in the Further Reading section, but let me just
    finish by saying that it doesn’t follow from the axiomatic approach that maximizing
    expected values is the absolute best we can do. The axiomatic approach guarantees,
    however, that maximizing the expected value is the rational thing to do.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 决策理论家们几十年来一直在与这个困境作斗争，答案是所谓的公理化方法。在这种解决方案下，我们不需要假设一个频率主义的理由，而是提出一些行为公理，当满足时保证我们表现得*好像我们最大化了期望值*。在进一步阅读部分中，我将提到一些这种方法的参考文献，但我要说的是，并不是从公理化方法中得出最大化期望值是我们能做到的最好的。然而，公理化方法保证了，最大化期望值是理性的行为。
- en: Normative and Descriptive Theories of Decision-Making
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 决策制定的规范性和描述性理论
- en: 'The expected value criterion can be thought of as a theory of decision-making
    under uncertainty. When presented with a decision that involves uncertain outcomes,
    how *do* I decide? And how *should* I decide? These are two very different questions
    that we have already encountered: the former *describes* what is done and the
    latter provides a *prescription* or recommendation on what is the best course
    of action.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 可以将期望值准则视为不确定情况下决策制定的一种理论。当面对涉及不确定结果的决策时，我该*怎么*决定？而我应该*怎么*决定？这是我们已经遇到的两个非常不同的问题：前者*描述*了做什么，后者提供了一个*规范*或推荐最佳行动的建议。
- en: Since in our day-to-day choices most of us do not make expected value calculations,
    this necessarily implies that the theory of expected utility—as it’s called—isn’t
    an accurate description of how we make decisions. But is it a good *normative*
    theory, that is, if we were able to do such calculations, would we be better off?
    As discussed in the previous section, under the frequentist interpretation the
    answer is positive. *We will make better decisions for our companies if we adopt
    the expected utility criterion*. This is the reason why we include it in our analytical
    toolkit.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 由于在我们日常选择中，大多数人不做期望值计算，这必然意味着期望效用理论——如它所称呼的——并不是我们做决策的准确描述。但是它是一个好的*规范*理论吗？也就是说，如果我们能够做这样的计算，我们会更好吗？正如前一节讨论的那样，在频率主义解释下，答案是肯定的。*如果我们采纳期望效用准则，我们将为我们的公司做出更好的决策*。这就是为什么我们把它包括在我们的分析工具中的原因。
- en: Some Paradoxes in Decision-Making Under Uncertainty
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在不确定性下做出决策时的一些悖论
- en: 'Suppose you are presented with the following gamble: you can win a prize of
    $1 million with a probability of 0.001 and nothing otherwise. What is the maximum
    you should be willing to pay for this lottery ticket? As you might’ve expected
    (no pun intended), it’s the expected value of the gamble.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你面对以下的赌博：你有0.001的概率赢得100万美元的奖品，否则什么都没有。你愿意为这张彩票支付的最高金额是多少？正如你可能预料的那样（无意冒犯），它就是这个赌博的期望值。
- en: 'Let’s compute the *expected profits* for any given price we pay to participate
    ( <math alttext="y"><mi>y</mi></math> ):'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们计算任意给定的参与价格（ <math alttext="y"><mi>y</mi></math> ）的*预期利润*：
- en: <math alttext="upper E left-parenthesis profits right-parenthesis equals 0.001
    times normal dollar-sign 1 upper M negative y greater-than-or-equal-to 0" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>profits</mtext> <mo>)</mo> <mo>=</mo> <mtext>0.001</mtext> <mo>×</mo>
    <mi>$</mi> <mtext>1M</mtext> <mo>-</mo> <mi>y</mi> <mo>≥</mo> <mn>0</mn></mrow></math>
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis profits right-parenthesis equals 0.001
    times normal dollar-sign 1 upper M negative y greater-than-or-equal-to 0" display="block"><mrow><mi>E</mi>
    <mo>(</mo> <mtext>profits</mtext> <mo>)</mo> <mo>=</mo> <mtext>0.001</mtext> <mo>×</mo>
    <mi>$</mi> <mtext>1M</mtext> <mo>-</mo> <mi>y</mi> <mo>≥</mo> <mn>0</mn></mrow></math>
- en: 'The last inequality just states that for us to participate it should be better
    that we don’t lose in expectation. It follows that the maximum price we should
    pay can be found when we break even: <math alttext="y Superscript upper M"><msup><mi>y</mi>
    <mi>M</mi></msup></math> = $1,000.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个不等式表明，我们参与的条件应该是不亏损的预期结果更好。由此可知，我们应该支付的最高价格是在我们打平的情况下找到的：<math alttext="y
    上标 M"><msup><mi>y</mi> <mi>M</mi></msup></math> = $1,000。
- en: To make this example more realistic, let’s think about the Mega Millions lottery
    in the US, and take the probability of our lottery ticket being one of the lucky
    ones to be 1 in 302,575,350.^([3](ch06.html#idm46359805153816)) At the time of
    writing, the cost of each ticket is $2\. At this price, the minimum jackpot for
    which we should be willing to play is $605M.^([4](ch06.html#idm46359805152152))
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使这个例子更加现实，让我们考虑一下美国的Mega Millions彩票，并且假设我们的彩票中奖的概率是302,575,350分之一。[^3](ch06.html#idm46359805153816)
    在撰写本文时，每张彩票的成本为$2\. 在这个价格下，我们应该愿意参与的最低奖池是$605M。[^4](ch06.html#idm46359805152152)
- en: Many people play the lottery even when it’s not optimal according to the expected
    value criterion, so again, as a descriptive theory of decision-making it seems
    that it doesn’t do a great job.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人即使根据预期价值准则并不最优也会玩彩票，因此作为描述性决策理论似乎并没有做得很好。
- en: 'Now think of the following lottery: to participate you must pay all of your
    savings (say $100). With probability of <math alttext="1 upper E minus 6"><mrow><mn>1</mn>
    <mi>E</mi> <mo>-</mo> <mn>6</mn></mrow></math> you win 1,000,001 times your savings.
    With the remaining probability you don’t win anything (and thus you lose everything).^([5](ch06.html#idm46359805147192))'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 现在想象一下以下彩票：为了参与，你必须支付你所有的储蓄（比如100美元）。以<math alttext="1 upper E minus 6"><mrow><mn>1</mn>
    <mi>E</mi> <mo>-</mo> <mn>6</mn></mrow></math>的概率你赢得你的储蓄的1000001倍。其余的概率你什么也不赢（因此你失去了一切）。^([5](ch06.html#idm46359805147192))
- en: <math alttext="upper E left-parenthesis prize right-parenthesis equals 0.000001
    times left-parenthesis 1000001 times normal dollar-sign 100 right-parenthesis
    equals normal dollar-sign 100.0001" display="block"><mrow><mi>E</mi> <mo>(</mo>
    <mtext>prize</mtext> <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>.</mo> <mn>000001</mn>
    <mo>×</mo> <mo>(</mo> <mn>1000001</mn> <mo>×</mo> <mi>$</mi> <mn>100</mn> <mo>)</mo>
    <mo>=</mo> <mi>$</mi> <mn>100</mn> <mo>.</mo> <mn>0001</mn></mrow></math>
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis prize right-parenthesis equals 0.000001
    times left-parenthesis 1000001 times normal dollar-sign 100 right-parenthesis
    equals normal dollar-sign 100.0001" display="block"><mrow><mi>E</mi> <mo>(</mo>
    <mtext>prize</mtext> <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>.</mo> <mn>000001</mn>
    <mo>×</mo> <mo>(</mo> <mn>1000001</mn> <mo>×</mo> <mi>$</mi> <mn>100</mn> <mo>)</mo>
    <mo>=</mo> <mi>$</mi> <mn>100</mn> <mo>.</mo> <mn>0001</mn></mrow></math>
- en: The probabilities and prizes are chosen here so that, according to the expected
    utility criterion, it is *always better* to enter the gamble, independently of
    your savings. But would you enter? I know I wouldn’t.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这里选择的概率和奖励是根据预期效用准则，无论你的储蓄多少，参与赌博都*总是更好*。但是你会参与吗？我知道我不会。
- en: This leads to the most famous paradox in decision theory concerning uncertainty.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 这导致了关于不确定性的决策理论中最著名的悖论。
- en: The St. Petersburg Paradox
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 圣彼得堡悖论
- en: 'Suppose you are offered the following gamble: I will throw a fair coin—so that
    heads and tails are equally likely—and give you <math alttext="2 Superscript n"><msup><mn>2</mn>
    <mi>n</mi></msup></math> dollars if the first head appears on the n-th toss. Since
    this is a fair coin, the probability of a head appearing on the first toss is
    <math alttext="1 slash 2"><mrow><mn>1</mn> <mo>/</mo> <mn>2</mn></mrow></math>
    , on the second <math alttext="left-parenthesis 1 slash 2 right-parenthesis squared"><msup><mrow><mo>(</mo><mn>1</mn><mo>/</mo><mn>2</mn><mo>)</mo></mrow>
    <mn>2</mn></msup></math> —with probability <math alttext="1 slash 2"><mrow><mn>1</mn>
    <mo>/</mo> <mn>2</mn></mrow></math> the first toss shows a tail, and with the
    same probability, it shows the first head—and so the probability of the first
    head appearing on the n-th toss is <math alttext="left-parenthesis 1 slash 2 right-parenthesis
    Superscript n"><msup><mrow><mo>(</mo><mn>1</mn><mo>/</mo><mn>2</mn><mo>)</mo></mrow>
    <mi>n</mi></msup></math> .^([6](ch06.html#idm46359805112520)) Let’s compute the
    expected value for the prize:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你被提供以下赌博：我将抛一枚公平的硬币——因此正面和反面出现的概率均等——如果第一次正面朝上出现在第n次抛掷时，我将给你<math alttext="2
    Superscript n"><msup><mn>2</mn> <mi>n</mi></msup></math>美元。由于这是一枚公平的硬币，第一次抛掷出现正面的概率为<math
    alttext="1 slash 2"><mrow><mn>1</mn> <mo>/</mo> <mn>2</mn></mrow></math>，第二次抛掷的概率为<math
    alttext="left-parenthesis 1 slash 2 right-parenthesis squared"><msup><mrow><mo>(</mo><mn>1</mn><mo>/</mo><mn>2</mn><mo>)</mo></mrow>
    <mn>2</mn></msup></math>——在第一次抛掷显示尾部的概率为<math alttext="1 slash 2"><mrow><mn>1</mn>
    <mo>/</mo> <mn>2</mn></mrow></math>，并且以相同的概率显示第一个正面——因此第一次正面朝上出现在第n次抛掷的概率为<math
    alttext="left-parenthesis 1 slash 2 right-parenthesis Superscript n"><msup><mrow><mo>(</mo><mn>1</mn><mo>/</mo><mn>2</mn><mo>)</mo></mrow>
    <mi>n</mi></msup></math>。^([6](ch06.html#idm46359805112520)) 让我们计算奖金的期望值：
- en: <math alttext="upper E left-parenthesis prize right-parenthesis equals one-half
    2 plus one-fourth 4 plus one-eighth 8 plus ellipsis equals 1 plus 1 plus 1 plus
    ellipsis" display="block"><mrow><mi>E</mi> <mrow><mo>(</mo> <mtext>prize</mtext>
    <mo>)</mo></mrow> <mo>=</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mn>2</mn> <mo>+</mo>
    <mfrac><mn>1</mn> <mn>4</mn></mfrac> <mn>4</mn> <mo>+</mo> <mfrac><mn>1</mn> <mn>8</mn></mfrac>
    <mn>8</mn> <mo>+</mo> <mo>⋯</mo> <mo>=</mo> <mn>1</mn> <mo>+</mo> <mn>1</mn> <mo>+</mo>
    <mn>1</mn> <mo>+</mo> <mo>⋯</mo></mrow></math>
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis prize right-parenthesis equals one-half
    2 plus one-fourth 4 plus one-eighth 8 plus ellipsis equals 1 plus 1 plus 1 plus
    ellipsis" display="block"><mrow><mi>E</mi> <mrow><mo>(</mo> <mtext>prize</mtext>
    <mo>)</mo></mrow> <mo>=</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mn>2</mn> <mo>+</mo>
    <mfrac><mn>1</mn> <mn>4</mn></mfrac> <mn>4</mn> <mo>+</mo> <mfrac><mn>1</mn> <mn>8</mn></mfrac>
    <mn>8</mn> <mo>+</mo> <mo>⋯</mo> <mo>=</mo> <mn>1</mn> <mo>+</mo> <mn>1</mn> <mo>+</mo>
    <mn>1</mn> <mo>+</mo> <mo>⋯</mo></mrow></math>
- en: As you can tell, the probabilities and prizes are chosen so that the expected
    prize grows without bound. The paradox arises because no one would be willing
    to pay such an amount to enter this bet—usually called the *fair price* for the
    lottery.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可以看出，概率和奖励被选择得让预期奖金无限增长。这个悖论的产生是因为没有人愿意支付这样的金额参与这个赌注——通常称为*公平价格*。
- en: 'In the 18th century, mathematician Daniel Bernoulli proposed a solution: we
    shouldn’t value each prize at face value, rather, we should be using a utility
    function that displays the diminishing value that each extra dollar represents
    to us. The solution he proposed was to value each prize with the natural logarithm
    (a nice, concave function, thereby displaying diminishing marginal utility, and
    as we’ve already learned, risk aversion).'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在18世纪，数学家丹尼尔·伯努利提出了一个解决方案：我们不应该按面值估价每个奖品，而是应该使用一个展示每额外一美元对我们价值递减的效用函数。他提出的解决方案是用自然对数（一个很好的凹函数，因此显示出边际效用递减和我们已经学到的风险规避）来估价每个奖品。
- en: '[Figure 6-11](#fig6_stpetersburg) shows the expected values for the two alternatives.
    As shown previously, the expected utility for the linear case grows one-to-one
    with the number of tosses. On the other hand, the expected utility for the log
    case converges nicely to under 1.4 utils (the unit of measurement for utility),
    which is reached after around 15 realizations. It follows that we should pay to
    participate in at most 15 rounds of the bet. The incremental value after that
    is zero for us.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-11](#fig6_stpetersburg) 显示了两种选择的期望值。正如之前所示，线性情况下的期望效用随抛硬币次数成正比增长。另一方面，对数情况下的期望效用很好地收敛到小于1.4
    utils（效用的测量单位），大约在15次实现后达到这一水平。因此，我们应该支付参与不超过15轮的赌注。之后的增量价值对我们来说是零。'
- en: '![decision methods](assets/asai_0611.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![决策方法](assets/asai_0611.png)'
- en: Figure 6-11\. Expected values using a log and linear utility function
  id: totrans-110
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-11\. 使用对数和线性效用函数的期望值
- en: The paradox is important for us, because up to now we have been valuing our
    utility at face-value with the dollars we make. We have even found the maximum
    value—the fair value—using expected value calculations. The paradox reminds us
    that we should be careful when we use risk-neutral utility functions, as we may
    end up broke.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们来说，这个悖论很重要，因为到目前为止，我们一直按照我们赚的美元面值来评估我们的效用。我们甚至用期望值计算找到了最大值——公平值。这个悖论提醒我们，在使用风险中性效用函数时要小心，因为我们可能会破产。
- en: Risk Aversion
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 风险厌恶
- en: As the St. Petersburg paradox reminds us, sometimes it is important to model
    our choices with concave utility functions, as they not only display diminishing
    marginal utility but they also display risk-averse preferences. We briefly mentioned
    risk aversion previously, but it wasn’t clear why it matters in business applications,
    so let’s revisit the example in [Figure 6-6](#fig6_decision_uncertainty1) but
    change the probabilities ([Figure 6-12](#fig6_riskaversion_paradox)).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 正如圣彼得堡悖论提醒我们的那样，有时候用凹效用函数来建模我们的选择很重要，因为它们不仅显示出边际效用递减，而且显示出对风险的厌恶偏好。我们之前简要提到过风险厌恶，但在商业应用中为什么重要并不明显，所以让我们重新审视
    [图 6-6](#fig6_decision_uncertainty1) 的例子，但改变概率（[图 6-12](#fig6_riskaversion_paradox)）。
- en: '![risk aversion paradox](assets/asai_0612.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![风险厌恶悖论](assets/asai_0612.png)'
- en: Figure 6-12\. Revisiting the discount versus marketing campaign example
  id: totrans-115
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-12\. 重新审视折扣与营销活动的例子
- en: 'You can now check that the expected value of the risky decision equals the
    sure revenue from the marketing campaign. Strictly speaking, since both levers
    have the same mathematical expectation, we should be *indifferent* between the
    two. We could choose randomly between them, always the first, always the last,
    or use some other tie-breaking criterion that is extraneous to the expected value
    calculation. I don’t know about you, but I don’t feel comfortable with this recommendation:
    in my case I’d always prefer the certain outcome, so it would be amazing that
    this analytical machinery actually recommends that course of action.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以检查一下，冒险决策的期望值是否等于营销活动的确定收入。严格来说，由于两个杠杆的数学期望相同，我们对两者应该是*无差别*的。我们可以随机选择其中一个，始终选择第一个或最后一个，或者使用其他与期望值计算无关的决策标准。我不知道你怎么看，但我对这个建议并不满意：在我的情况下，我总是更喜欢确定的结果，所以这个分析机制实际上推荐这样的行动会让人惊讶。
- en: 'You may recall that up to now we have used linear (risk-neutral) utility functions
    that map each dollar to one unit of utility ( <math alttext="u left-parenthesis
    x right-parenthesis equals x"><mrow><mi>u</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo>
    <mo>=</mo> <mi>x</mi></mrow></math> ). But the previous discussion suggests that
    I’m not really risk neutral; as a matter of fact I’d avoid entering the gamble
    and get the certain revenue. So here lies the answer to our puzzle: we should
    replace our risk-neutral utility function with a concave one that better captures
    our preferences for risk. For the sake of the presentation let’s use Daniel Bernoulli’s
    proposed solution that maps dollars to log dollars.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 或许你还记得，到目前为止我们使用的是线性（风险中性）效用函数，将每个美元映射为一单位效用（ <math alttext="u left-parenthesis
    x right-parenthesis equals x"><mrow><mi>u</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo>
    <mo>=</mo> <mi>x</mi></mrow></math> ）。但前面的讨论表明，我并不真的是风险中性的；事实上，我会避免参与赌局并选择确定的收入。所以这里是我们谜题的答案：我们应该用一个凹函数来替换我们的风险中性效用函数，这个函数更能捕捉到我们对风险的偏好。为了表达清楚，让我们使用丹尼尔·伯努利提出的方案，将美元映射为对数美元。
- en: 'For the uncertain price discount we get:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 对于不确定价格折扣，我们得到：
- en: <math alttext="upper E left-parenthesis Revenue vertical-bar Discount right-parenthesis
    equals StartFraction 131 Over 155 EndFraction times log left-parenthesis 155 right-parenthesis
    equals 4.3" display="block"><mrow><mi>E</mi> <mrow><mo>(</mo> <mtext>Revenue|Discount</mtext>
    <mo>)</mo></mrow> <mo>=</mo> <mfrac><mn>131</mn> <mn>155</mn></mfrac> <mo>×</mo>
    <mo form="prefix">log</mo> <mrow><mo>(</mo> <mn>155</mn> <mo>)</mo></mrow> <mo>=</mo>
    <mn>4</mn> <mo>.</mo> <mn>3</mn></mrow></math>
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis Revenue vertical-bar Discount right-parenthesis
    equals StartFraction 131 Over 155 EndFraction times log left-parenthesis 155 right-parenthesis
    equals 4.3" display="block"><mrow><mi>E</mi> <mrow><mo>(</mo> <mtext>Revenue|Discount</mtext>
    <mo>)</mo></mrow> <mo>=</mo> <mfrac><mn>131</mn> <mn>155</mn></mfrac> <mo>×</mo>
    <mo form="prefix">log</mo> <mrow><mo>(</mo> <mn>155</mn> <mo>)</mo></mrow> <mo>=</mo>
    <mn>4</mn> <mo>.</mo> <mn>3</mn></mrow></math>
- en: 'And we already know how to compute the expected revenue for the marketing campaign:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经知道如何计算市场营销活动的预期收益：
- en: <math alttext="upper E left-parenthesis Revenue vertical-bar Mkt period Campaign
    right-parenthesis equals 1 times log left-parenthesis 131 right-parenthesis equals
    4.9" display="block"><mrow><mi>E</mi> <mo>(</mo> <mtext>Revenue|Mkt.Campaign</mtext>
    <mo>)</mo> <mo>=</mo> <mn>1</mn> <mo>×</mo> <mo form="prefix">log</mo> <mo>(</mo>
    <mn>131</mn> <mo>)</mo> <mo>=</mo> <mn>4</mn> <mo>.</mo> <mn>9</mn></mrow></math>
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-parenthesis Revenue vertical-bar Mkt period Campaign
    right-parenthesis equals 1 times log left-parenthesis 131 right-parenthesis equals
    4.9" display="block"><mrow><mi>E</mi> <mo>(</mo> <mtext>Revenue|Mkt.Campaign</mtext>
    <mo>)</mo> <mo>=</mo> <mn>1</mn> <mo>×</mo> <mo form="prefix">log</mo> <mo>(</mo>
    <mn>131</mn> <mo>)</mo> <mo>=</mo> <mn>4</mn> <mo>.</mo> <mn>9</mn></mrow></math>
- en: It now follows that we should go ahead with the marketing campaign. If you’re
    wondering if this will work for any other concave utility function, the answer
    is *yes* as it follows nicely from the definition of concavity.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们应该继续进行市场营销活动。如果你想知道这是否适用于任何其他凹函数，答案是*是*，因为它很好地遵循了凹性的定义。
- en: 'The good news, then, is that we can keep using the expected utility criterion
    to solve business problems. The bad news is that we have added another level of
    complexity and we may now need to choose a risk-averse utility function for our
    applications: we get crisper decisions but only at the cost of losing linearity.
    My recommendation is to start simple and assume risk neutrality (the linear world
    is just easier to deal with to begin with). Once you understand this simpler problem,
    you can try your best to understand the preferences for risk of your stakeholder,
    and if necessary do some calibration. If you’re interested, some utility functions
    commonly used to model risk aversion are listed in Equations 6-1 through 6-3\.
    The free parameters can be used for calibration.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，好消息是，我们可以继续使用期望效用准则来解决业务问题。坏消息是，我们增加了另一层复杂性，现在可能需要为我们的应用选择一个风险厌恶的效用函数：我们可以得到更清晰的决策，但只是以失去线性的代价。我的建议是从简单开始，假设风险中立（线性世界起步更容易）。一旦你理解了这个更简单的问题，你可以尽力理解你的利益相关者对风险的偏好，如果需要的话进行一些校准。如果你感兴趣，一些常用于模拟风险厌恶的效用函数列在方程
    6-1 到 6-3 中。可以用自由参数进行校准。
- en: Equation 6-1\. Logarithmic utility function (no free parameters)
  id: totrans-124
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 方程 6-1\. 对数效用函数（无自由参数）
- en: <math alttext="u left-parenthesis x right-parenthesis equals ln left-parenthesis
    x right-parenthesis" display="block"><mrow><mi>u</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo>
    <mo>=</mo> <mo form="prefix">ln</mo> <mo>(</mo> <mi>x</mi> <mo>)</mo></mrow></math>
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u left-parenthesis x right-parenthesis equals ln left-parenthesis
    x right-parenthesis" display="block"><mrow><mi>u</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo>
    <mo>=</mo> <mo form="prefix">ln</mo> <mo>(</mo> <mi>x</mi> <mo>)</mo></mrow></math>
- en: Equation 6-2\. Polynomial utility function
  id: totrans-126
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 方程 6-2\. 多项式效用函数
- en: <math alttext="u left-parenthesis x right-parenthesis equals x Superscript a
    Baseline for a element-of left-parenthesis 0 comma 1 right-parenthesis" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <msup><mi>x</mi> <mi>a</mi></msup>
    <mtext>for</mtext> <mi>a</mi> <mo>∈</mo> <mrow><mo>(</mo> <mn>0</mn> <mo>,</mo>
    <mn>1</mn> <mo>)</mo></mrow></mrow></math>
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u left-parenthesis x right-parenthesis equals x Superscript a
    Baseline for a element-of left-parenthesis 0 comma 1 right-parenthesis" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <msup><mi>x</mi> <mi>a</mi></msup>
    <mtext>for</mtext> <mi>a</mi> <mo>∈</mo> <mrow><mo>(</mo> <mn>0</mn> <mo>,</mo>
    <mn>1</mn> <mo>)</mo></mrow></mrow></math>
- en: 'Equation 6-3\. Exponential utility function: constant absolute risk aversion
    (CARA)'
  id: totrans-128
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 方程 6-3\. 指数效用函数：常绝对风险厌恶（CARA）
- en: <math alttext="u left-parenthesis x right-parenthesis equals 1 minus e Superscript
    minus a x Baseline for a greater-than 0" display="block"><mrow><mi>u</mi> <mrow><mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mn>1</mn> <mo>-</mo> <msup><mi>e</mi>
    <mrow><mo>-</mo><mi>a</mi><mi>x</mi></mrow></msup> <mtext>for</mtext> <mi>a</mi>
    <mo>></mo> <mn>0</mn></mrow></math>
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u left-parenthesis x right-parenthesis equals 1 minus e Superscript
    minus a x Baseline for a greater-than 0" display="block"><mrow><mi>u</mi> <mrow><mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mn>1</mn> <mo>-</mo> <msup><mi>e</mi>
    <mrow><mo>-</mo><mi>a</mi><mi>x</mi></mrow></msup> <mtext>for</mtext> <mi>a</mi>
    <mo>></mo> <mn>0</mn></mrow></math>
- en: We can combine a normalized version of the polynomial and the log utility functions
    to create a *constant relative risk aversion* function commonly used by economists.
    Coefficients of risk aversion depend on the relative curvature of the utility
    function. For instance, in the exponential case, <math alttext="a"><mi>a</mi></math>
    is the coefficient of absolute risk aversion. In the CRRA case shown in [Equation
    6-4](#CCRA-equation), <math alttext="rho"><mi>ρ</mi></math> is the coefficient
    of relative risk aversion. Please see the references listed in the Further Reading
    section if you’re interested in understanding the differences between the two.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以结合多项式和对数效用函数的归一化版本，创建经济学家常用的*常相对风险厌恶*函数。风险厌恶系数依赖于效用函数的相对曲率。例如，在指数情况下，<math
    alttext="a"><mi>a</mi></math> 是绝对风险厌恶的系数。在 [方程 6-4](#CCRA-equation) 中展示的CRRA情况下，<math
    alttext="rho"><mi>ρ</mi></math> 是相对风险厌恶的系数。如果你对了解这两者之间的区别感兴趣，请参阅进一步阅读部分中列出的参考文献。
- en: Equation 6-4\. Constant relative risk aversion (CRRA)
  id: totrans-131
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 方程 6-4\. 常相对风险厌恶（CRRA）
- en: <math alttext="u left-parenthesis x right-parenthesis equals StartFraction x
    Superscript 1 minus rho Baseline Over 1 minus rho EndFraction for rho not-equals
    1 and ln left-parenthesis x right-parenthesis for rho equals 1" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><msup><mi>x</mi>
    <mrow><mn>1</mn><mo>-</mo><mi>ρ</mi></mrow></msup> <mrow><mn>1</mn><mo>-</mo><mi>ρ</mi></mrow></mfrac>
    <mtext>for</mtext> <mi>ρ</mi> <mo>≠</mo> <mn>1</mn> <mtext>and</mtext> <mo form="prefix">ln</mo>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mtext>for</mtext> <mi>ρ</mi> <mo>=</mo>
    <mn>1</mn></mrow></math>
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u left-parenthesis x right-parenthesis equals StartFraction x
    Superscript 1 minus rho Baseline Over 1 minus rho EndFraction for rho not-equals
    1 and ln left-parenthesis x right-parenthesis for rho equals 1" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mfrac><msup><mi>x</mi>
    <mrow><mn>1</mn><mo>-</mo><mi>ρ</mi></mrow></msup> <mrow><mn>1</mn><mo>-</mo><mi>ρ</mi></mrow></mfrac>
    <mtext>for</mtext> <mi>ρ</mi> <mo>≠</mo> <mn>1</mn> <mtext>and</mtext> <mo form="prefix">ln</mo>
    <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow> <mtext>for</mtext> <mi>ρ</mi> <mo>=</mo>
    <mn>1</mn></mrow></math>
- en: '[Figure 6-13](#fig6_examples_riskav) shows how some of these alternatives look
    for different parametrizations. As you would have expected, different alternatives
    and parametrizations change the curvature of the utility functions, thereby providing
    systematic ways to model our preferences for risk.'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-13](#fig6_examples_riskav) 展示了一些不同参数化情况下的替代方案。正如你所期待的那样，不同的替代方案和参数化方式改变了效用函数的曲率，从而提供了系统建模我们对风险偏好的方式。'
- en: '![risk aversion examples](assets/asai_0613.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![风险厌恶示例](assets/asai_0613.png)'
- en: Figure 6-13\. Different ways to calibrate risk aversion
  id: totrans-135
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-13\. 不同的风险厌恶校准方式
- en: Putting it All into Practice
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 把所有这些应用到实践中
- en: By now I hope I’ve convinced you that the expected value criterion is a powerful,
    yet simple method to make decisions under uncertainty. I also hope I was able
    to convey some of the difficulties one may encounter. The simplicity comes from
    the fact that mathematical expectations are linear in the probabilities, and if
    you assume risk neutrality, also in the values for the uncertain outcome.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望到目前为止已经说服了你，期望值准则是一种强大而简单的方法，在不确定性下做出决策。我也希望我能够传达出一些可能会遇到的困难。这种简单性源于数学期望在概率上的线性性质，如果你假设风险中立，还有不确定结果的值。
- en: 'Let’s summarize the approach now:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们总结一下这个方法：
- en: Decision-Making Under Uncertainty
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在不确定性下的决策制定
- en: 'If we have two levers ( <math alttext="upper A comma upper B"><mrow><mi>A</mi>
    <mo>,</mo> <mi>B</mi></mrow></math> ) with uncertain consequences, we choose the
    one that maximizes the expected value of the metric under consideration:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们有两个杠杆（ <math alttext="upper A comma upper B"><mrow><mi>A</mi> <mo>,</mo>
    <mi>B</mi></mrow></math> ），带有不确定的后果，我们选择最大化所考虑度量的预期值的那一个：
- en: Choose <math alttext="upper A"><mi>A</mi></math> when <math alttext="upper E
    left-parenthesis x vertical-bar upper A right-parenthesis greater-than-or-equal-to
    upper E left-parenthesis x vertical-bar upper B right-parenthesis"><mrow><mi>E</mi>
    <mo>(</mo> <mi>x</mi> <mo>|</mo> <mi>A</mi> <mo>)</mo> <mo>≥</mo> <mi>E</mi> <mo>(</mo>
    <mi>x</mi> <mo>|</mo> <mi>B</mi> <mo>)</mo></mrow></math> .
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 <math alttext="upper E left-parenthesis x vertical-bar upper A right-parenthesis
    greater-than-or-equal-to upper E left-parenthesis x vertical-bar upper B right-parenthesis"><mrow><mi>E</mi>
    <mo>(</mo> <mi>x</mi> <mo>|</mo> <mi>A</mi> <mo>)</mo> <mo>≥</mo> <mi>E</mi> <mo>(</mo>
    <mi>x</mi> <mo>|</mo> <mi>B</mi> <mo>)</mo></mrow></math> 时选择 <math alttext="upper
    A"><mi>A</mi></math> 。
- en: Otherwise, choose <math alttext="upper B"><mi>B</mi></math> .
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，选择 <math alttext="upper B"><mi>B</mi></math> 。
- en: The same principle generalizes to cases with more than two levers.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 同样的原则适用于多于两个杠杆的情况。
- en: 'What role does AI play in this calculation? There are two approaches that can
    be followed depending on the type of problem you’re facing:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: AI 在这个计算中扮演什么角色？根据面对的问题类型，有两种方法可以采用：
- en: You can directly estimate the expected values using the ML toolkit (supervised
    regression models).
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以直接使用 ML 工具包（监督回归模型）来估计期望值。
- en: You can estimate the probabilities in the expected value calculation (supervised
    classification models).
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以在期望值计算中估计概率（监督分类模型）。
- en: I haven’t defined these models in the body of the text, but please consult the
    Appendix to get more information. I will start by describing the latter approach.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我在正文中尚未定义这些模型，但请参考附录获取更多信息。我将从描述后一种方法开始。
- en: Estimating the Probabilities
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 估计概率
- en: Expected values depend on probabilities and rewards for uncertain outcomes.
    We will first look at methods to estimate the probabilities.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 预期值依赖于不确定结果的概率和奖励。我们首先将探讨估计概率的方法。
- en: Estimating unconditional probabilities
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 估计无条件概率
- en: Going back to the frequentist interpretation of probabilities, we may want to
    start by estimating unconditional frequencies of occurrences. We have already
    discussed some of the problems with this method, but if we have historical data,
    it may be the way to start thanks to its simplicity. As a matter of fact, even
    if you do not plan to use this method, it is always good to start by plotting
    some frequencies of occurrences to gain some understanding of your data.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 回到概率的频率主义解释，我们可能希望从估计无条件发生频率开始。我们已经讨论了这种方法的一些问题，但如果有历史数据，这可能是一个开始的简单方式。事实上，即使您不打算使用此方法，通过绘制一些发生频率可以始终获得对数据的一些理解。
- en: '[Figure 6-14](#fig6_frequencies_accept) shows how such an approach may look
    for hypothetical historical data on conversion rates for retention campaigns.
    Here we see that, historically, 20% of our customers have accepted our retention
    campaigns. We can therefore use this as our base estimate to compute the expected
    value if we wanted to choose this lever or any other we may be analyzing.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-14](#fig6_frequencies_accept) 展示了这种方法在假设的历史数据中关于留存活动转化率的表现。在这里我们看到，历史上，20%
    的客户接受了我们的留存活动。因此，我们可以将此作为基本估计来计算期望值，如果我们想要选择这个杠杆或者我们分析的任何其他杠杆。'
- en: '![frequencies of accepting](assets/asai_0614.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![接受频率](assets/asai_0614.png)'
- en: Figure 6-14\. Historical conversion rates for retention campaigns
  id: totrans-154
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-14\. 留存活动转化率的历史数据
- en: 'The upside is its simplicity: if we have the data (that may be a big “if”)
    computing frequencies is almost immediate. There are several drawbacks, however.
    Assuming we have data, since we are pooling the information from possibly different
    campaigns with different samples of customers, we have no way to control for these
    differences. For instance, is the holiday campaign the same as our recurrent retention
    offers? Are the customers the same? The answers to these questions are most likely
    in the negative. Since we are not controlling for these factors, these are generally
    called *unconditional* probability estimates.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 其优点在于其简单性：如果我们有数据（这可能是一个大问题），计算频率几乎是立即完成的。然而，有几个缺点。假设我们有数据，因为我们汇总了可能不同的活动及不同样本客户的信息，我们无法控制这些差异。例如，假期活动是否与我们的定期留存优惠相同？客户是否相同？这些问题的答案很可能是否定的。因为我们没有控制这些因素，这些通常被称为*无条件*概率估计。
- en: One may start filtering out some campaigns, or slicing and dicing your data
    to get different estimates that may look similar to the ones in the figure, and
    of course, that will help your analysis. But other methods may prove more powerful
    if you want to control for observables in a systematic way.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以开始过滤一些活动，或者切分和分析数据以获得类似于图中的不同估计结果，当然，这将有助于你的分析。但如果你想系统地控制观察变量，其他方法可能更为有效。
- en: Estimating conditional probabilities
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 估计条件概率
- en: As described in the Appendix, the two main classes of methods in supervised
    machine learning are regression and classification. Classification is commonly
    used to predict discrete categories like the ones used in the previous examples
    (customer accepts or rejects an offer, churns or remains loyal, etc.). Leaving
    the details to the Appendix, to get these predictions we estimate conditional
    probabilities of these categories being true; these *conditional probability estimates*
    allow us to move away from broad generalizations and get closer to the realm of
    customization.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 如附录所述，监督学习中的两大主要方法类别是回归和分类。分类通常用于预测像之前示例中使用的离散类别（客户接受或拒绝提议，流失或保持忠诚等）。将详细内容留给附录，在这些预测中，我们估计这些类别为真的条件概率；这些*条件概率估计*使我们能够摆脱广泛概括，更接近定制领域。
- en: For instance, instead of using the aggregate churn rate, we can condition on
    the tenure of each customer (as it is quite common that customers that have been
    loyal to our company are less likely to switch companies, and vice versa). One
    can then estimate a classification model that depends on your customers’ tenure
    and other controls you consider relevant ([Equation 6-5](#conditioning-tenure-eq)).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们可以根据每位客户的任职时间（因为很常见，忠实于我们公司的客户较不可能转换公司，反之亦然），而不是使用聚合流失率。然后可以估计一个依赖于客户任职时间及其他你认为相关的控制变量的分类模型（参见[公式6-5](#conditioning-tenure-eq)）。
- en: Equation 6-5\. Conditioning on the tenure of your customers
  id: totrans-160
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 公式6-5\. 根据你的客户任职时间进行条件概率估计
- en: <math alttext="p left-parenthesis churn vertical-bar tenure in months right-parenthesis
    equals f left-parenthesis m o n t h s right-parenthesis" display="block"><mrow><mi>p</mi>
    <mo>(</mo> <mtext>churn|tenure</mtext> <mtext>in</mtext> <mtext>months</mtext>
    <mo>)</mo> <mo>=</mo> <mi>f</mi> <mo>(</mo> <mi>m</mi> <mi>o</mi> <mi>n</mi> <mi>t</mi>
    <mi>h</mi> <mi>s</mi> <mo>)</mo></mrow></math>
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="p left-parenthesis churn vertical-bar tenure in months right-parenthesis
    equals f left-parenthesis m o n t h s right-parenthesis" display="block"><mrow><mi>p</mi>
    <mo>(</mo> <mtext>churn|tenure</mtext> <mtext>in</mtext> <mtext>months</mtext>
    <mo>)</mo> <mo>=</mo> <mi>f</mi> <mo>(</mo> <mi>m</mi> <mi>o</mi> <mi>n</mi> <mi>t</mi>
    <mi>h</mi> <mi>s</mi> <mo>)</mo></mrow></math>
- en: If you allow for enough nonlinearity, you may end up with something like the
    pattern shown in [Figure 6-15](#fig6_churn_tenure). In this hypothetical scenario,
    customers that have been loyal for 18 months are the least likely to switch companies,
    but note that around 15% still leave.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你允许足够的非线性，你可能会得到类似于[图6-15](#fig6_churn_tenure)所示的模式。在这个假设情景中，18个月忠诚的客户最不可能转换公司，但请注意大约15%仍然会离开。
- en: Also notice that I’m not reporting any estimates of how uncertain we are about
    this hypothetically fitted function. It is a good practice to do so in your own
    work. I’ll have something to say about this later.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 同样要注意的是，我没有报告任何关于这个假设拟合函数不确定性的估计。在你自己的工作中这样做是一个好的实践。稍后我会谈一些关于这个问题的内容。
- en: '![churn tenure probability](assets/asai_0615.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![流失任职时间概率](assets/asai_0615.png)'
- en: Figure 6-15\. Hypothetical estimated conditional probability of churning
  id: totrans-165
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-15\. 流失的假设条件概率估计
- en: The important thing to remember is that classification models allow us to make
    conditional probability assessments. By conditioning on some observables we not
    only get a clearer picture about the heterogeneity of our sample of customers,
    but it also allows us to go one step toward customization of optimal decisions.
    We are no longer pooling every customer in our sample into the same bag, but we
    are starting to customize our estimates, and thereby our decisions.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要记住，分类模型允许我们进行条件概率评估。通过对一些可观察变量进行条件约束，我们不仅可以更清晰地了解我们客户样本的异质性，还可以向定制最优决策迈出一步。我们不再把我们样本中的每一个客户都放在同一个袋子里，而是开始定制我们的估计，从而定制我们的决策。
- en: A/B testing
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A/B 测试
- en: In [Chapter 2](ch02.html#ch02_introanalytics) I described some of the risks
    of using observational data, and in particular, I mentioned the fact that when
    customers self-select (or are selected by us) our estimates may display significant
    bias. The experimental method (A/B testing) allows us to eliminate the selection
    effect and provide better estimates.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 2 章](ch02.html#ch02_introanalytics)中，我描述了使用观察数据时的一些风险，特别是我提到了当客户自我选择（或被我们选择）时，我们的估计可能显示出显著的偏差。实验方法（A/B
    测试）可以帮助我们消除选择效应，提供更好的估计。
- en: Putting away some nuances that I will briefly touch upon later, operationalizing
    A/B testing to get probability estimates is straightforward. Once our test is
    over you can either use the frequency analysis or the conditional analysis already
    described.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 搁置一些我稍后将简要涉及的细微差别，将A/B 测试操作化以获取概率估计是直接的。一旦我们的测试结束，你可以使用已经描述的频率分析或条件分析。
- en: To summarize the pros and cons of testing, on the upside we already know that
    it allows us to estimate causal effects by eliminating the selection bias that
    is pervasive in observational data, and it is relatively easy to implement once
    you know how to choose sample sizes. On the downside, it is worth mentioning that
    A/B testing only allows us to estimate average effects for a sample of our customers
    (that we intend to extrapolate to the whole universe), so how to obtain personalized
    estimates for individual customers is not immediately clear. Also, there are times
    where you simply can’t do A/B testing or it’s forbiddingly costly (e.g., a customer
    churn experiment).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 总结测试的利弊，从积极方面来说，我们已经知道它通过消除观察数据中普遍存在的选择偏差来估计因果效应，一旦你知道如何选择样本大小，它也相对容易实施。从消极方面来说，值得一提的是，A/B
    测试只允许我们估计我们打算推广到整个宇宙的一部分客户的平均效应，因此如何为个别客户获得个性化的估计并不立即清晰。此外，有时你简单地无法进行A/B测试或者成本太高（例如，客户流失实验）。
- en: Bandit problems
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 赌徒问题
- en: Bandit problems are a class of *sequential decision problems* where we must
    make a choice that repeats over time, and as time goes on we are learning the
    workings of the underlying uncertainty, either by improving our probability estimates
    or the expected values themselves.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 赌徒问题是一类*序贯决策问题*，在这类问题中，我们必须做出重复选择，并随着时间推移学习基础不确定性的工作方式，无论是通过改进我们的概率估计还是预期值本身。
- en: 'I won’t go into the details, but I just want to mention the main trade-off
    we face with these sequential problems. The idea is simple: each time you make
    a choice to pull a lever, the outcome reveals some information about the underlying
    uncertainty, say the probabilities that our customers accept. Suppose you pull
    the price discount lever and find that your customers’ acceptance rate is 80%,
    making the expected revenue for this lever higher than a competing one. Since
    you have only made the decision once, there’s still considerable uncertainty about
    the estimated probabilities (put differently, maybe you were just very lucky on
    that first trial).'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 我不会深入细节，但我只想提一下我们在这些序贯问题中面临的主要权衡。理念很简单：每次你选择拉动一个杠杆，结果会揭示一些关于基础不确定性的信息，比如我们的客户接受的概率。假设你拉动了价格折扣杠杆，并发现你的客户接受率是80%，使得这个杠杆的预期收入高于竞争对手的一个。因为你只做了一次决策，对于估计的概率仍然存在相当大的不确定性（换句话说，也许你在第一次试验中只是非常幸运）。
- en: 'You now face a decision: you can keep pulling or exploiting the discount lever,
    or you can explore the untouched lever. It is not uncommon that our business stakeholders
    will pressure us to choose the former (first result was very good), but it may
    be better to experiment with the other one for a while and get better probability
    estimates. This is the famous *explore-exploit* trade-off pervasive in sequential
    problems of decision-making under uncertainty.'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '现在你面临一个决策：你可以继续拉动或利用折扣杠杆，或者你可以探索未触及的杠杆。我们的业务利益相关者通常会施压我们选择前者（第一个结果非常好），但也许暂时尝试另一个杠杆并获取更好的概率估计可能更好。这就是决策不确定性下的著名*探索-利用*权衡。  '
- en: This is a fascinating topic that deserves a book of its own, so I’ll stop now
    and provide references at the end of the chapter.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '这是一个值得一本专著的迷人主题，所以我现在要停下来，并在章节末提供参考资料。  '
- en: Estimating Expected Values
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 估计期望值
- en: The expected utility hypothesis says that under uncertainty we are better off
    choosing whichever lever maximizes the mathematical expectation of the object
    under analysis. We may use our machine learning toolkit and estimate the probabilities
    as described in the previous section, or we can directly estimate the expected
    values. Probabilities are instrumental to computing expected values, but depending
    on the problem, we may just skip this step and attempt to estimate the expectations.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '预期效用假设说，在不确定性下，我们最好选择最大化分析对象数学期望的杠杆。我们可以使用前面部分描述的机器学习工具包，并估计概率，或者我们可以直接估计期望值。概率对于计算期望值非常重要，但根据问题的不同，我们可以跳过这一步，尝试直接估计期望值。  '
- en: 'If the metric we wish to predict is continuous—like revenues, profits, lifetime
    values, or the like, we can then use *regression* algorithms. I’ll leave the more
    technical material for the Appendix, but just let me mention that statistically
    motivated regression algorithms usually allow us to estimate the conditional mathematical
    expectation of the object of interest: if the variable is continuous, we may end
    up with the necessary estimates to make our decision, and if it’s categorical,
    the outcome will be an estimate of the conditional probability.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '如果我们希望预测的指标是连续的——比如收入、利润、生命周期价值等，那么我们可以使用*回归*算法。我会把更技术性的材料留在附录中，但是让我提一下，统计学驱动的回归算法通常允许我们估计感兴趣对象的条件数学期望：如果变量是连续的，我们可能会得出必要的估计以做出决策，如果是分类的，结果将是条件概率的估计。  '
- en: Frequentist and Bayesian Methods
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '频率学派与贝叶斯方法  '
- en: We have already encountered some of the differences between the Bayesian and
    frequentist (or classical) schools of thought, starting with the alternative interpretations
    of probabilities and expected values. One way to put it is that the Bayesian interpretation
    has a bottom-up feeling while frequentists approach the problem from a top-down
    perspective.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '我们已经接触到贝叶斯学派和频率学派（或经典学派）思想的一些差异，从对概率和期望值的替代解释开始。一种表达方式是，贝叶斯解释有一种自下而上的感觉，而频率学派则从自上而下的视角解决问题。  '
- en: In classical statistics, probabilities are an objective truth in nature, and
    we can therefore imagine repeating an experiment many times. In this case, the
    relative frequencies of occurrences *converge* to the corresponding probabilities,
    like in the coin-flipping example. It is not a coincidence that limit theorems—what
    happens when we repeat an experiment an infinite number of times—are of fundamental
    value for this school of thought (think of weak or strong laws of large numbers).
    In a sense, we *uncover* these probabilities by repeating an experiment under
    the exact same conditions.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '在经典统计学中，概率是自然界中的客观真理，因此我们可以想象多次重复实验。在这种情况下，事件发生的相对频率*收敛*到相应的概率，就像抛硬币的例子一样。不是巧合的是，极限定理——当我们无限次重复实验时会发生什么——对这种思想流派具有基本价值（想想弱大数定律或强大数定律）。在某种意义上，我们通过在完全相同的条件下重复实验来*揭示*这些概率。  '
- en: Bayesians, on the other hand, build their theory from the ground up, starting
    with each individual assessment of the likelihood of something taking place. As
    such, they seek conditions (axioms) such that this ignorance can be quantified
    with the standard calculus of probability (including Bayes’ theorem, from which
    the label is derived). Probabilities here are subjective in the sense that two
    people may have different assessments on the likelihood of an event, and need
    not agree with any long-run frequencies.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，贝叶斯学派从头开始建立他们的理论，从每个单独的评估可能性开始。因此，他们寻找这种无知可以用概率的标准演算法量化的条件（公理），包括贝叶斯定理，从而得到标签。在这里的概率是主观的，因为两个人可能对事件发生的可能性有不同的评估，也不必同意任何长期频率。
- en: I have tried my best to give a practical introduction to the topic, with the
    hope that the interested reader can go to the references and fill in the many
    details left out, and as such, I would do no justice to this topic if I try to
    go deeper in just a few paragraphs. I do want to say that we need to think hard
    about where uncertainty comes from and how to model it.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我已尽力为这个主题提供了实用的介绍，希望感兴趣的读者可以参考文献，并填补留下的许多细节，如果我试图在几段中深入讨论这个主题，我会对这个主题一无所知。我确实想说，我们需要认真思考不确定性来自何处，以及如何对其建模。
- en: Take the example of how the churn probability varies with the tenure of our
    customers ([Figure 6-15](#fig6_churn_tenure)). The pattern in the data is hypothetical,
    but it is not unlike what you would find in real-life data from your business.
    But is there really evidence that our customers behave like this?
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 以我们客户的服务期限变化来看流失概率的例子([图 6-15](#fig6_churn_tenure))。数据中的模式是假设的，但在你的业务数据中，你可能会找到类似的情况。但真的有证据表明我们的客户行为像这样吗？
- en: In most applications we report confidence intervals when describing this type
    of evidence, and at a minimum we should do so. But let me just point out that
    there are many difficulties when you try to interpret these intervals from a probabilistic
    perspective (as well as with p-values). Again, I’ll do some hand-waving and point
    to the references at the end of the chapter.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数应用中，当描述这类证据时，我们报告置信区间，并且至少应该这样做。但我想指出的是，在尝试从概率角度解释这些区间（以及 p 值）时，会遇到许多困难。再次，我会做一些粗略的描绘，并在本章末尾指向参考资料。
- en: Revisiting Our Use Cases
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 重新审视我们的使用案例
- en: It’s time to start analyzing each of our selected use cases. In what follows
    keep in mind that I have simplified away many uncertainties that are not of interest
    or of first-order for each specific problem.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候开始分析我们选择的每一个使用案例了。在接下来的内容中，请记住我已经简化掉了许多不感兴趣或者不是每个具体问题的一级不确定性。
- en: Customer Churn
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 客户流失
- en: Consider first the case of making a single retention offer—that is, we may neglect
    for now the case of competing offers since, from the point of view of the intrinsic
    uncertainty, all may be analyzed in the same way. The underlying uncertainty in
    this scenario is whether our customers churn or not, possibly depending on whether
    we made the offer or not, as seen in [Figure 6-16](#fig6_uc_churn).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 首先考虑做一个单一的保留提议的情况——也就是说，我们现在可以忽略竞争性报价的情况，因为从固有不确定性的角度来看，所有这些情况都可以以同样的方式分析。在这种情况下的潜在不确定性是我们的客户是否流失，可能取决于我们是否提出了报价，如[图
    6-16](#fig6_uc_churn)所示。
- en: '![churn tenure probability](assets/asai_0616.png)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![客户流失期概率](assets/asai_0616.png)'
- en: 'Figure 6-16\. Underlying uncertainty: customer churn'
  id: totrans-191
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-16\. 潜在的不确定性：客户流失
- en: Let’s delve a little bit deeper into the sources of uncertainty here. To start,
    we don’t know if a customer is likely to leave. As mentioned in [Chapter 4](ch04.html#ch04_actionslevers),
    customers usually like quality, price (offer), and customer experience, and are
    generally willing to trade these off, at least to a certain degree.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们深入探讨这里的不确定性源。首先，我们不知道客户是否可能离开。如在[第四章](ch04.html#ch04_actionslevers)中提到的，客户通常喜欢质量、价格（报价）和客户体验，并且通常愿意在这些方面进行权衡，至少在一定程度上。
- en: So our first source of uncertainty is their satisfaction relative to their expectations
    on each of these dimensions. We also don’t know how they rank them—that is, how
    sensitive they are to changes in each one—and to what extent they’re willing to
    substitute one for the other.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们第一个不确定性来源是他们对每个维度的满意度相对于他们的期望。我们也不知道他们如何排名这些维度——也就是说，他们对每个维度的变化有多敏感，以及他们愿意在多大程度上用一个维度替代另一个维度。
- en: 'To give you an idea of how we can model uncertainty here, let’s simplify and
    consider first only the case of one dimension, say, quality. It sounds reasonable
    to imagine that customer satisfaction increases with quality: mathematically,
    you can think of a utility or satisfaction function that depends on their perception
    of quality, <math alttext="u left-parenthesis q right-parenthesis"><mrow><mi>u</mi>
    <mo>(</mo> <mi>q</mi> <mo>)</mo></mrow></math> , and this function is increasing.
    We can also include some of the findings in the behavioral economics literature
    (see [Chapter 4](ch04.html#ch04_actionslevers)), and imagine that customers judge
    perceived quality relative to their expectations or a reference point, say <math
    alttext="q 0"><msub><mi>q</mi> <mn>0</mn></msub></math> , so that <math alttext="u
    left-parenthesis q minus q 0 right-parenthesis"><mrow><mi>u</mi> <mo>(</mo> <mi>q</mi>
    <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow></math> .'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让你了解我们如何在这里模拟不确定性，让我们简化并且首先考虑只有一个维度的情况，比如质量。想象客户满意度随质量增加是合理的：在数学上，你可以考虑一个依赖于他们对质量感知的效用或满意度函数，<math
    alttext="u left-parenthesis q right-parenthesis"><mrow><mi>u</mi> <mo>(</mo> <mi>q</mi>
    <mo>)</mo></mrow></math> ，并且这个函数是增加的。我们还可以包括一些行为经济学文献中的发现（见[第4章](ch04.html#ch04_actionslevers)），并且想象客户相对于他们的期望或者一个参考点，比如
    <math alttext="q 0"><msub><mi>q</mi> <mn>0</mn></msub></math> ，来判断感知质量，以至于 <math
    alttext="u left-parenthesis q minus q 0 right-parenthesis"><mrow><mi>u</mi> <mo>(</mo>
    <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow></math>
    。
- en: We now have a theory of how satisfaction varies with quality, and we may proceed
    to link this to their decision to switch companies or not. At this point, it is
    convenient to assume that each of us has a threshold level, that is, a minimum
    satisfaction level that we find acceptable. Below that level, when we just can’t
    take it anymore, we decide to switch companies.^([7](ch06.html#idm46359804830024))
    Since this unknown level varies from customer to customer, it is a case where
    uncertainty follows from the heterogeneity of preferences.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了一个关于满意度如何随质量变化的理论，并且我们可以继续将其链接到他们是否决定转换公司。在这一点上，假设每个人都有一个阈值水平是方便的，即，我们认为可接受的最低满意水平。在这个未知水平因客户而异的情况下，这是一个由于偏好异质性导致的不确定性的案例。
- en: 'Let’s put all the pieces together and formulate a very first model of why customers
    churn:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们把所有的要素整合在一起，形成第一个关于客户流失原因的模型：
- en: <math alttext="u left-parenthesis q minus q 0 right-parenthesis equals alpha
    0 plus alpha 1 left-parenthesis q minus q 0 right-parenthesis plus epsilon" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow>
    <mo>=</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub>
    <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow>
    <mo>+</mo> <mi>ϵ</mi></mrow></math>
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u left-parenthesis q minus q 0 right-parenthesis equals alpha
    0 plus alpha 1 left-parenthesis q minus q 0 right-parenthesis plus epsilon" display="block"><mrow><mi>u</mi>
    <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow>
    <mo>=</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub>
    <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow>
    <mo>+</mo> <mi>ϵ</mi></mrow></math>
- en: In this simple behavioral model, customer satisfaction increases linearly with
    quality (we expect <math alttext="alpha 1 greater-than-or-equal-to 0"><mrow><msub><mi>α</mi>
    <mn>1</mn></msub> <mo>≥</mo> <mn>0</mn></mrow></math> ), and we allow for differences
    across customers by including a random term <math alttext="epsilon"><mi>ϵ</mi></math>
    . Note that this is not mathematical formalism for its own sake, rather, it allows
    us to think clearly about heterogeneity, and our task would then be to make assumptions
    that describe the *shape* of the distribution here (a normal distribution if we
    think that this is symmetric and the tails aren’t long).
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个简单的行为模型中，客户满意度与质量呈线性增长（我们预期 <math alttext="alpha 1 greater-than-or-equal-to
    0"><mrow><msub><mi>α</mi> <mn>1</mn></msub> <mo>≥</mo> <mn>0</mn></mrow></math>
    ），并且通过包含一个随机项 <math alttext="epsilon"><mi>ϵ</mi></math> 来允许客户之间的差异。注意，这并不是为了数学形式主义本身，而是让我们能够清晰地思考异质性，我们的任务将是做出描述这里分布形状的假设（如果我们认为这是对称的并且尾部不长，可能是正态分布）。
- en: 'Finally, a customer will churn whenever this unobserved (or latent, as it’s
    called in the literature) satisfaction level falls beneath a threshold level:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，当这个未观察到的（或者在文献中称为潜在的）满意水平低于一个阈值时，客户会流失：
- en: <math alttext="Customer churns if alpha 0 plus alpha 1 left-parenthesis q minus
    q 0 right-parenthesis plus epsilon Subscript i Baseline less-than k Subscript
    i Baseline" display="block"><mrow><mtext>Customer</mtext> <mtext>churns</mtext>
    <mtext>if</mtext> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>+</mo> <msub><mi>ϵ</mi> <mi>i</mi></msub> <mo><</mo> <msub><mi>k</mi>
    <mi>i</mi></msub></mrow></math>
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="Customer churns if alpha 0 plus alpha 1 left-parenthesis q minus
    q 0 right-parenthesis plus epsilon Subscript i Baseline less-than k Subscript
    i Baseline" display="block"><mrow><mtext>Customer</mtext> <mtext>churns</mtext>
    <mtext>if</mtext> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>+</mo> <msub><mi>ϵ</mi> <mi>i</mi></msub> <mo><</mo> <msub><mi>k</mi>
    <mi>i</mi></msub></mrow></math>
- en: 'Since the threshold level <math alttext="k Subscript i"><msub><mi>k</mi> <mi>i</mi></msub></math>
    is also unobserved and varies from customer to customer, we may want to combine
    it with the random source of heterogeneity <math alttext="epsilon Subscript i"><msub><mi>ϵ</mi>
    <mi>i</mi></msub></math> and just say that:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 由于阈值水平 <math alttext="k Subscript i"><msub><mi>k</mi> <mi>i</mi></msub></math>
    也是未观察到的并且因客户而异，我们可能需要将其与异质性的随机来源 <math alttext="epsilon Subscript i"><msub><mi>ϵ</mi>
    <mi>i</mi></msub></math> 结合起来，并且简单地表示：
- en: <math alttext="Customer churns if alpha 0 plus alpha 1 left-parenthesis q minus
    q 0 right-parenthesis plus eta Subscript i Baseline less-than 0" display="block"><mrow><mtext>Customer</mtext>
    <mtext>churns</mtext> <mtext>if</mtext> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo>
    <msub><mi>α</mi> <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi>
    <mn>0</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <msub><mi>η</mi> <mi>i</mi></msub>
    <mo><</mo> <mn>0</mn></mrow></math>
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="Customer churns if alpha 0 plus alpha 1 left-parenthesis q minus
    q 0 right-parenthesis plus eta Subscript i Baseline less-than 0" display="block"><mrow><mtext>Customer</mtext>
    <mtext>churns</mtext> <mtext>if</mtext> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo>
    <msub><mi>α</mi> <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi>
    <mn>0</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <msub><mi>η</mi> <mi>i</mi></msub>
    <mo><</mo> <mn>0</mn></mrow></math>
- en: 'This simple behavioral model allows us to build from the ground up a method
    to estimate our churn probabilities. Once we make a distribution assumption on
    our source of uncertainty ( <math alttext="eta Subscript i"><msub><mi>η</mi> <mi>i</mi></msub></math>
    ), we are now ready to estimate the probability as:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这个简单的行为模型使我们能够从头开始构建一个估计客户流失概率的方法。一旦我们对不确定性来源（<math alttext="eta Subscript i"><msub><mi>η</mi>
    <mi>i</mi></msub></math>）做出分布假设，我们现在就可以估计概率如下：
- en: <math alttext="upper P r o b left-parenthesis Customer churns right-parenthesis
    equals upper P r o b left-parenthesis alpha 0 plus alpha 1 left-parenthesis q
    minus q 0 right-parenthesis plus eta Subscript i Baseline less-than 0 right-parenthesis
    equals upper F left-parenthesis minus alpha 0 minus alpha 1 left-parenthesis q
    minus q 0 right-parenthesis right-parenthesis equals 1 minus upper F left-parenthesis
    alpha 0 plus alpha 1 left-parenthesis q minus q 0 right-parenthesis right-parenthesis"
    display="block"><mrow><mi>P</mi> <mi>r</mi> <mi>o</mi> <mi>b</mi> <mrow><mo>(</mo>
    <mtext>Customer</mtext> <mtext>churns</mtext> <mo>)</mo></mrow> <mo>=</mo> <mi>P</mi>
    <mi>r</mi> <mi>o</mi> <mi>b</mi> <mrow><mo>(</mo> <msub><mi>α</mi> <mn>0</mn></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo>
    <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <msub><mi>η</mi>
    <mi>i</mi></msub> <mo><</mo> <mn>0</mn> <mo>)</mo></mrow> <mo>=</mo> <mi>F</mi>
    <mrow><mo>(</mo> <mo>-</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>-</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>)</mo></mrow> <mo>=</mo> <mn>1</mn> <mo>-</mo> <mi>F</mi>
    <mrow><mo>(</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>)</mo></mrow></mrow></math>
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper P r o b left-parenthesis Customer churns right-parenthesis
    equals upper P r o b left-parenthesis alpha 0 plus alpha 1 left-parenthesis q
    minus q 0 right-parenthesis plus eta Subscript i Baseline less-than 0 right-parenthesis
    equals upper F left-parenthesis minus alpha 0 minus alpha 1 left-parenthesis q
    minus q 0 right-parenthesis right-parenthesis equals 1 minus upper F left-parenthesis
    alpha 0 plus alpha 1 left-parenthesis q minus q 0 right-parenthesis right-parenthesis"
    display="block"><mrow><mi>P</mi> <mi>r</mi> <mi>o</mi> <mi>b</mi> <mrow><mo>(</mo>
    <mtext>Customer</mtext> <mtext>churns</mtext> <mo>)</mo></mrow> <mo>=</mo> <mi>P</mi>
    <mi>r</mi> <mi>o</mi> <mi>b</mi> <mrow><mo>(</mo> <msub><mi>α</mi> <mn>0</mn></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo>
    <msub><mi>q</mi> <mn>0</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <msub><mi>η</mi>
    <mi>i</mi></msub> <mo><</mo> <mn>0</mn> <mo>)</mo></mrow> <mo>=</mo> <mi>F</mi>
    <mrow><mo>(</mo> <mo>-</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>-</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>)</mo></mrow> <mo>=</mo> <mn>1</mn> <mo>-</mo> <mi>F</mi>
    <mrow><mo>(</mo> <msub><mi>α</mi> <mn>0</mn></msub> <mo>+</mo> <msub><mi>α</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <mi>q</mi> <mo>-</mo> <msub><mi>q</mi> <mn>0</mn></msub>
    <mo>)</mo></mrow> <mo>)</mo></mrow></mrow></math>
- en: where <math alttext="upper F left-parenthesis right-parenthesis"><mrow><mi>F</mi>
    <mo>(</mo> <mo>)</mo></mrow></math> is the cumulative distribution function for
    our random variable <math alttext="eta Subscript i"><msub><mi>η</mi> <mi>i</mi></msub></math>
    .
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper F left-parenthesis right-parenthesis"><mrow><mi>F</mi>
    <mo>(</mo> <mo>)</mo></mrow></math> 是我们随机变量 <math alttext="eta Subscript i"><msub><mi>η</mi>
    <mi>i</mi></msub></math> 的累积分布函数。
- en: If you’re wondering, this is how applied microeconomists estimate models of
    discrete choice, a method popularized by Nobel Prize in Economics-winner, Daniel
    McFadden and many others.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想知道的话，这就是应用微观经济学家们估计离散选择模型的方法，这种方法由诺贝尔经济学奖得主丹尼尔·麦克法登及许多其他人推广开来。
- en: Before going on, let’s discuss several points. First, you may be wondering if
    it’s really necessary to write down everything mathematically and be very explicit
    about uncertainty. The answer is that the vast majority of practitioners do not
    go through the trouble of formalizing everything. I think it’s a good practice
    because it forces you to think really hard about the sources of uncertainty and
    how to model each of them, as well as the simplifying assumptions made. Also,
    since you model behavior and uncertainty from the ground up, this guarantees that
    your estimates will be *interpretable*. This is how I usually start in my own
    work, and depending on time constraints and the complexity, I may proceed with
    a simpler approach.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，让我们讨论几个要点。首先，你可能会想知道是否真的有必要把一切都用数学方式写下来，并对不确定性进行详细说明。答案是，绝大多数从业者并不会费力去形式化一切。我认为这是一个好习惯，因为它迫使你非常深入地思考不确定性的来源以及如何对每一个进行建模，以及所做的简化假设。此外，由于你从基础开始模拟行为和不确定性，这保证了你的估计是*可解释的*。这是我在自己的工作中通常的开始方式，根据时间限制和复杂性的不同，我可能会继续采用更简单的方法。
- en: 'A second point has to do with making the model more realistic: here we assumed
    that customers care only about quality, but I argued that they also care (and
    trade-off) about price and customer experience. Once you understand each of these
    and measure everything in terms of a common standard—utility or satisfaction—you
    can proceed and combine them together to get an aggregate measure of customer
    satisfaction. Note that different functional assumptions (say, additivity) imply
    different rates of substitution between each dimension.'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 第二点与使模型更加现实有关：这里我们假设客户只关心质量，但我认为他们也关心（并权衡）价格和客户体验。一旦你理解了每一个维度，并用一个共同的标准——效用或满意度——来衡量一切，你就可以继续将它们结合在一起，得到客户满意度的总体度量。请注意，不同的功能性假设（比如可加性）意味着不同维度之间的替代率不同。
- en: Finally, we are back at the problem of estimating our probabilities. If you
    take uncertainty seriously, you would need to make distributional assumptions
    for the sources of uncertainty and proceed to estimate accordingly. For instance,
    if you assume normality, you end up with a *probit* model. Logistic models are
    appropriate if you assume that uncertainty follows a logistic distribution, and
    so on. Of course, first you may do some hand-waving and put everything into a
    black box with the hope that you get both interpretability and predictive power.
    In my experience this is rarely the case, though.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们又回到了估计概率的问题。如果你认真对待不确定性，你需要为不确定性来源做出分布假设，并据此进行估计。例如，如果你假设正态性，你就会得到一个*probit*模型。如果你假设不确定性遵循
    logistic 分布，那 logistic 模型就是合适的，等等。当然，首先你可能会做一些手势，并把一切都放到一个黑匣子里，希望既能理解又有预测能力。但根据我的经验，这种情况很少发生。
- en: Cross-Selling
  id: totrans-210
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 交叉销售
- en: '[Figure 6-17](#fig6_uc_xsell) shows one way to analyze the problem of cross-selling
    different products to our customers. For each product (lever) we have to decide
    to make an offer that our customer may then accept or not. The problem is more
    interesting the more levers we analyze, but for the present discussion, we can
    just think of a unique lever, as that is where the main underlying uncertainty
    is. We will tackle the more general problem in [Chapter 7](ch07.html#ch07_optimization),
    so for now, let’s start by recognizing where uncertainty is found and how we may
    proceed to approximate it.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-17](#fig6_uc_xsell) 展示了分析向客户交叉销售不同产品问题的一种方法。对于每种产品（杠杆），我们必须决定是否提供客户可能接受或拒绝的提议。分析更多杠杆的问题更有趣，但在目前的讨论中，我们可以只考虑一个唯一的杠杆，因为这是主要的潜在不确定性所在。我们将在[第 7 章](ch07.html#ch07_optimization)
    中讨论更一般的问题，所以现在让我们开始意识到不确定性的存在，并考虑如何进行近似。'
- en: '![cross selling](assets/asai_0617.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![交叉销售](assets/asai_0617.png)'
- en: Figure 6-17\. Underlying uncertainty for the case of cross-selling
  id: totrans-213
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-17\. 关于交叉销售案例的潜在不确定性
- en: 'At the risk of stating the obvious, customers buy products they want and can
    afford, and we don’t really know what any of these are. The good thing about cross-selling,
    however, is that we already have information about our customers’ previous purchase
    history, so we can use this knowledge to approximate the probability of their
    accepting our cross-selling offer. Note, however, that this alone won’t suffice
    to estimate the probabilities: we need variation across customers who have purchased
    and those who haven’t purchased each product.'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 显而易见的是，客户购买他们想要且能够承担的产品，我们并不真正知道这些产品是什么。然而，关于交叉销售的好处在于，我们已经了解到客户的先前购买历史信息，因此我们可以利用这些知识来近似他们接受我们的交叉销售提议的概率。然而，请注意，这仅此一点不足以估计概率：我们需要跨购买和未购买每种产品的客户之间的差异。
- en: 'To sum up, it is necessary that we have a sample of customers who have and
    haven’t purchased each product. We can then try to model such choices: for instance,
    what else have they purchased before? Are there sequences of purchases that arise
    more frequently, probably because of the similarity of the products, or the type
    of value they create? Remember that we are trying to unravel our customers’ preferences
    and budget constraints, and the data may reveal some interesting patterns if we
    ask the right questions and know where to look for the answers.'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，我们需要有购买和未购买每种产品的客户样本。我们可以尝试建模这些选择：例如，他们之前还购买了什么？是否有更频繁出现的购买序列，可能是因为产品的相似性或者所创造的价值类型？请记住，我们试图揭示客户的偏好和预算约束，如果我们问对了问题并且知道在哪里寻找答案，数据可能会揭示一些有趣的模式。
- en: Before going to the next use case, it is good to recall that observational data
    may have biases that can significantly affect the quality of our probability estimates.
    Take the case of deciding to make a credit card offer. Since banks have historically
    denied access to credit to specific demographics for which they don’t have enough
    information to make a risk assessment, most models we fit will end up reflecting
    exactly that low probability of “accepting.” The problem here is that for these
    groups the offer was never made, so there was no “rejection of the offer.” From
    an ethical point of view, the risk is creating a vicious circle where our machine
    learning models estimate low probabilities of acceptance for minority groups that
    have traditionally been denied access. From a business point of view, we may systematically
    be denying ourselves higher profits just because of this bias.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在进入下一个用例之前，回顾一下观察数据可能存在的偏见，这些偏见可能会显著影响我们概率估计的质量是件好事。以信用卡提供为例。由于银行历史上拒绝为某些人群提供信用，因为他们没有足够的信息来进行风险评估，大多数我们适配的模型最终将反映出“接受”的低概率。问题在于，对于这些群体，从道德角度来看，风险是创造一个恶性循环，在这些传统上被拒绝进入的少数群体中，我们的机器学习模型估计接受的低概率。从商业角度来看，由于这种偏见，我们可能会系统性地拒绝自己的更高利润。
- en: The solution? Before *exploiting* a lever, you may want to spend some time *exploring*
    other potential levers, even if costly in the short run. For instance, you may
    consider doing some A/B testing to circumvent some of the selection biases prevalent
    in observational data.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案呢？在*利用*某个杠杆之前，您可能希望花一些时间*探索*其他潜在的杠杆，即使在短期内成本高昂。例如，您可以考虑进行一些A/B测试，以避免观察数据中普遍存在的选择偏见。
- en: CAPEX Optimization
  id: totrans-218
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: CAPEX 优化
- en: As we have stated the problem before, we seek to allocate investment budget
    across different buckets—say geographies—with the objective to get the largest
    possible ROI. It is customary for companies to use the whole budget, so this problem
    is equivalent to getting the largest possible incremental revenues.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前所述的问题，我们试图跨不同的存储桶（例如地理位置）分配投资预算，目标是获得尽可能大的投资回报率。公司通常会使用整个预算，因此这个问题等同于获取尽可能大的增量收入。
- en: 'Where is the underlying uncertainty here? Our action is how much to invest
    in each bucket, and the metric we seek to move is revenues. There is clearly a
    big gap to fill in: why would revenues increase with higher capital allocation?
    Since this varies across companies and across sectors, there is no unique answer
    to provide. But we can proceed as discussed in [Chapter 5](ch05.html#ch05_simplify)
    and imagine a hypothetical scenario. Suppose that the extra capital expenditure
    is allocated to the improvement of our physical or digital stores. It is easier
    to understand now how CAPEX may affect revenues: presumably, better or larger
    stores can increment the volume or the ticket of the sales (otherwise, you wouldn’t
    affect revenues directly).'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的基本不确定性在哪里？我们的行动是在每个存储桶中投资多少，我们试图移动的指标是收入。显然有很大的填补空白的工作要做：为什么收入会随着更高的资本分配而增加？因为这种情况在公司和行业之间有所不同，所以无法提供唯一的答案。但是我们可以按照[第5章](ch05.html#ch05_simplify)中讨论的方式继续，并设想一个假设场景。假设额外的资本支出用于改善我们的实体或数字店铺。现在更容易理解CAPEX可能如何影响收入：可以推测，更好或更大的店铺可以增加销售的数量或票务（否则，你不会直接影响收入）。
- en: 'In general, it must be that for each bucket something like the following takes
    place:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，对于每个存储桶，必须发生类似以下情况：
- en: <math alttext="upper R left-parenthesis x right-parenthesis equals upper P times
    upper Q times left-parenthesis 1 plus g left-parenthesis x right-parenthesis right-parenthesis"
    display="block"><mrow><mi>R</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo> <mo>=</mo> <mi>P</mi>
    <mo>×</mo> <mi>Q</mi> <mo>×</mo> <mo>(</mo> <mn>1</mn> <mo>+</mo> <mi>g</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo> <mo>)</mo></mrow></math>
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper R left-parenthesis x right-parenthesis equals upper P times
    upper Q times left-parenthesis 1 plus g left-parenthesis x right-parenthesis right-parenthesis"
    display="block"><mrow><mi>R</mi> <mo>(</mo> <mi>x</mi> <mo>)</mo> <mo>=</mo> <mi>P</mi>
    <mo>×</mo> <mi>Q</mi> <mo>×</mo> <mo>(</mo> <mn>1</mn> <mo>+</mo> <mi>g</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo> <mo>)</mo></mrow></math>
- en: 'Here, <math alttext="g left-parenthesis x right-parenthesis"><mrow><mi>g</mi>
    <mo>(</mo> <mi>x</mi> <mo>)</mo></mrow></math> is the incremental factor that
    depends on the size of the investment <math alttext="x"><mi>x</mi></math> ; that
    is, it is a growth rate that we may want to estimate, and that may include both
    the price or ticket effect. As it includes both effects, and there is underlying
    uncertainty with each one, you may want to be more specific before going on:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，<math alttext="g left-parenthesis x right-parenthesis"><mrow><mi>g</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow></math>是依赖于投资大小<math alttext="x"><mi>x</mi></math>的增量因子；也就是说，这是我们可能想要估计的增长率，可能包括价格或票务效果。由于它包括两种效应，并且每种效应都存在潜在不确定性，在继续之前，你可能需要更具体：
- en: <math alttext="upper R left-parenthesis x right-parenthesis equals upper P left-parenthesis
    1 plus g Subscript upper P Baseline left-parenthesis x right-parenthesis right-parenthesis
    times upper Q left-parenthesis 1 plus g Subscript upper Q Baseline left-parenthesis
    x right-parenthesis right-parenthesis" display="block"><mrow><mi>R</mi> <mrow><mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mi>P</mi> <mrow><mo>(</mo> <mn>1</mn>
    <mo>+</mo> <msub><mi>g</mi> <mi>P</mi></msub> <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow>
    <mo>)</mo></mrow> <mo>×</mo> <mi>Q</mi> <mrow><mo>(</mo> <mn>1</mn> <mo>+</mo>
    <msub><mi>g</mi> <mi>Q</mi></msub> <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper R left-parenthesis x right-parenthesis equals upper P left-parenthesis
    1 plus g Subscript upper P Baseline left-parenthesis x right-parenthesis right-parenthesis
    times upper Q left-parenthesis 1 plus g Subscript upper Q Baseline left-parenthesis
    x right-parenthesis right-parenthesis" display="block"><mrow><mi>R</mi> <mrow><mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow> <mo>=</mo> <mi>P</mi> <mrow><mo>(</mo> <mn>1</mn>
    <mo>+</mo> <msub><mi>g</mi> <mi>P</mi></msub> <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow>
    <mo>)</mo></mrow> <mo>×</mo> <mi>Q</mi> <mrow><mo>(</mo> <mn>1</mn> <mo>+</mo>
    <msub><mi>g</mi> <mi>Q</mi></msub> <mrow><mo>(</mo> <mi>x</mi> <mo>)</mo></mrow>
    <mo>)</mo></mrow></mrow></math>
- en: If you’re wondering what we’ve gained from being specific about the two effects,
    remember that data doesn’t speak for itself; we need to ask the right questions,
    and in this case, at least keeping in mind that price and quantity effects may
    both be prevalent will allow us to look at ticket and volume data separately.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想知道我们从明确指出两种效应中获得了什么，记住数据本身并不能说明问题；我们需要提出正确的问题，在这种情况下，至少要记住价格和数量效应可能都很显著，这将允许我们分别查看票务和销量数据。
- en: In [Chapter 2](ch02.html#ch02_introanalytics) we showed that even when we understand
    all potential drivers of incremental revenues, selection effects are pervasive
    with observational data. In this case, using historical data may bias our estimates
    since our previous CAPEX may have been allocated in buckets with below-average
    performance (cities, locations, etc.), so even if there is a positive effect,
    our output metric may remain subpar relative to the rest of the sample of buckets.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第2章](ch02.html#ch02_introanalytics)中，我们展示了即使我们理解所有潜在的增量收入驱动因素，选择效应在观察数据中仍然普遍存在。在这种情况下，使用历史数据可能会偏离我们的估计，因为我们以前的CAPEX可能已经分配到表现低于平均水平的存储桶（城市，位置等），所以即使存在正面效应，我们的输出度量可能仍然不如存储桶样本的其余部分。
- en: There is no simple solution to this problem, and A/B testing may be forbiddingly
    costly in the case of CAPEX allocation. If this is the case, you may try finding
    some synthetic controls, do some matching or difference-in-difference, or some
    other method that is appropriate to your specific problem.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在CAPEX分配的情况下，没有简单的解决方案，A/B测试可能成本过高。如果是这种情况，可以尝试找到一些合成控制，进行匹配或差异法，或者适合你具体问题的其他方法。
- en: Store Locations
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 门店位置
- en: We are trying to decide where to open our next store, with the objective to
    get the largest ROI. Since our choice is the location of a store ( <math alttext="l
    o c"><mrow><mi>l</mi> <mi>o</mi> <mi>c</mi></mrow></math> ), ideally we would
    want to know how profits vary with different locations, <math alttext="Profits
    left-parenthesis l o c right-parenthesis"><mrow><mtext>Profits</mtext> <mo>(</mo>
    <mi>l</mi> <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math> . *Without uncertainty*
    the first-best would be to open the stores with the largest profits.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在尝试决定在哪里开设我们的下一个店铺，目标是获得最大的投资回报率。由于我们的选择是店铺的位置（ <math alttext="l o c"><mrow><mi>l</mi>
    <mi>o</mi> <mi>c</mi></mrow></math> ），理想情况下，我们希望知道利润如何随不同地点变化， <math alttext="Profits
    left-parenthesis l o c right-parenthesis"><mrow><mtext>利润</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math> 。*没有不确定性*，第一选择将是开设利润最大的店铺。
- en: 'Notice that we have done some considerable simplifying, since profits don’t
    just appear out of nowhere when we open a store: it usually takes some time for
    our investments to reach a break-even (not to say the highest potential) and that
    time may be correlated to factors that vary with locations. So what are these
    factors?'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 注意我们已经进行了一些相当大的简化，因为当我们开设店铺时，利润并不会从天而降：通常需要一段时间让我们的投资达到盈亏平衡（更不用说达到最大潜力了），而这段时间可能与随地点变化的因素相关联。那么，这些因素是什么呢？
- en: 'To start, profits are revenues minus costs, so:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '要开始，利润等于收入减去成本，因此： '
- en: <math alttext="Profits left-parenthesis l o c right-parenthesis equals Revenues
    left-parenthesis l o c right-parenthesis minus Cost left-parenthesis l o c right-parenthesis"
    display="block"><mrow><mtext>Profits</mtext> <mo>(</mo> <mi>l</mi> <mi>o</mi>
    <mi>c</mi> <mo>)</mo> <mo>=</mo> <mtext>Revenues</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>Cost</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math>
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="Profits left-parenthesis l o c right-parenthesis equals Revenues
    left-parenthesis l o c right-parenthesis minus Cost left-parenthesis l o c right-parenthesis"
    display="block"><mrow><mtext>Profits</mtext> <mo>(</mo> <mi>l</mi> <mi>o</mi>
    <mi>c</mi> <mo>)</mo> <mo>=</mo> <mtext>Revenues</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>Cost</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math>
- en: 'As in the previous use case, revenues depend on the price we charge and the
    volume that corresponds to that price, and these, of course, vary with location.
    Costs may be fixed (e.g., rent) or variable (e.g., labor, electricity), and these
    also vary across locations:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 如同之前的使用案例一样，收入取决于我们所收取的价格以及相应价格对应的销量，当然，这些因素会因地点而异。成本可以是固定的（例如租金）或者是可变的（例如劳动力、电费），这些成本在不同地点也会有所不同。
- en: <math alttext="Profits left-parenthesis l o c right-parenthesis equals upper
    P left-parenthesis l o c right-parenthesis times upper Q left-parenthesis l o
    c right-parenthesis minus FC left-parenthesis l o c right-parenthesis minus VC
    left-parenthesis l o c right-parenthesis" display="block"><mrow><mtext>Profits</mtext>
    <mo>(</mo> <mi>l</mi> <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>=</mo> <mi>P</mi> <mo>(</mo>
    <mi>l</mi> <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>×</mo> <mi>Q</mi> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>FC</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>VC</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math>
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="Profits left-parenthesis l o c right-parenthesis equals upper
    P left-parenthesis l o c right-parenthesis times upper Q left-parenthesis l o
    c right-parenthesis minus FC left-parenthesis l o c right-parenthesis minus VC
    left-parenthesis l o c right-parenthesis" display="block"><mrow><mtext>Profits</mtext>
    <mo>(</mo> <mi>l</mi> <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>=</mo> <mi>P</mi> <mo>(</mo>
    <mi>l</mi> <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>×</mo> <mi>Q</mi> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>FC</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo> <mo>-</mo> <mtext>VC</mtext> <mo>(</mo> <mi>l</mi>
    <mi>o</mi> <mi>c</mi> <mo>)</mo></mrow></math>
- en: If necessary, you can decompose the costs even further, but this level of aggregation
    suffices to understand what the underlying uncertainty is and the potential drivers.
    For instance, if you choose to open a store in a mall, other things being equal,
    the volume of your purchases should be higher than non-mall locations, since potential
    customers are attracted because of the variety of supply (malls are natural two-sided
    platforms or marketplaces). But even across malls you’ll find variation in terms
    of the price you may charge, depending on the neighborhood’s income level, say,
    among many other factors.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 如果必要，你可以进一步分解成本，但这种聚合水平足以理解基础不确定性及潜在的驱动因素。例如，如果你选择在购物中心开设店铺，其他条件相同的情况下，你的销售量应该会高于非购物中心地点，因为潜在顾客会因供应的多样性而被吸引（购物中心是天然的双边平台或市场）。但即使在购物中心之间，你也会发现不同地点的价格可能会有所不同，这取决于社区的收入水平等许多其他因素。
- en: 'Now suppose that you have a dataset with historical profits for all of the
    stores you have opened in the past. There are two potential strategies here: you
    can directly estimate expected profits (the lefthand side of the last equation)
    as a function of factors that vary across locations, or you can estimate each
    of the components on the righthand side and plug them in to obtain estimated profits
    for different locations. It really depends on how precisely you can estimate each
    of the drivers of profits separately: if you can do it, this approach will be
    more interpretable and will force you to think hard about the underlying uncertainty
    and economic fundamentals of the problem.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 现在假设你有一个包含过去所有开设店铺历史利润的数据集。这里有两种潜在策略：你可以直接估计预期利润（方程式的左侧）作为随地点变化的因素的函数，或者你可以估计右侧每个组成部分，并将它们插入以获得不同地点的预估利润。这实际上取决于你能够多么精确地单独估计利润驱动因素：如果你可以做到这一点，这种方法将更具解释性，并将迫使你深思问题的基础不确定性和经济基本面。
- en: Who to Hire
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 招聘谁
- en: 'One of the hardest problems we face in our companies is the decision to hire
    someone, since there are many relevant uncertainties. We may simplify away the
    ones that are not of first-order for our current problem and consider the following
    three:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们公司面临的最难的问题之一是决定雇佣谁，因为有许多相关的不确定性。我们可以简化掉对当前问题不是第一顺位的不确定性，并考虑以下三个因素：
- en: Will they be productive?
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们会高效吗？
- en: How long will they stay with the company?
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们将与公司保持多长时间？
- en: Will there be a good fit with their teams and with the company values?
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们将能否与他们的团队和公司的价值观良好匹配？
- en: We have already discussed some of the difficulties in trying to answer these
    questions. For instance, do we have hard productivity metrics, such as the number
    of sales per month or quarter? Or do we rely on softer metrics, such as a performance
    review done by the manager or a 360 questionnaire? Depending on the answer to
    these questions the demands on our data may be higher.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了试图回答这些问题时遇到的一些困难。例如，我们是否有硬性的生产力指标，如每月或每季度的销售数量？或者我们依赖于更软性的指标，如经理进行的绩效评估或360度问卷调查？根据这些问题的答案，我们对数据的需求可能会更高。
- en: 'Let’s consider the case of candidates for a sales position: the advantage here
    is that our productivity measure is hard, as we can directly observe individual-level
    performance. To take into account the first two sources of uncertainty, we may
    try and estimate the present value of each salesperson’s profits for a given tenure,
    that is, their *employee lifetime value*. For now neglect the third type of uncertainty.'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一下销售职位的候选人的情况：这里的优势在于我们的生产力度量是硬性的，因为我们可以直接观察到个体水平的表现。为了考虑前两种不确定性源，我们可以尝试估计每位销售人员在给定任期内的现值，即他们的*员工终身价值*。现在先忽略第三种不确定性。
- en: Why do we have such a wide distribution of sales performance across our sales
    force? We need to understand these factors if we want to approximate the underlying
    uncertainty. It could be that some salespeople have larger and better networks,
    or that they better understand our product, have better communication skills,
    or are naturally highly motivated. These and any other factors we consider important
    have to be assessed at the ex-ante stage, that is, before we decide to make an
    offer or not. Moreover, by thinking hard about it we can prepare the interviews
    so that we get a high signal-to-noise ratio.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的销售团队的销售业绩分布如此广泛，是为什么呢？如果我们想要近似这种潜在的不确定性，我们需要了解这些因素。可能是一些销售人员拥有更大更好的人际网络，或者他们更好地理解我们的产品，具有更好的沟通技巧，或者天生高度自我激励。我们必须在事前阶段对这些以及任何我们认为重要的其他因素进行评估，即在我们决定是否提出报价之前。此外，通过认真思考，我们可以准备面试，以便获得高信噪比。
- en: Easier said than done, but we are now getting better at estimating models that
    allow us to predict employee lifetime values for different tasks or positions.
    As before, we must be *extra careful* with inherent biases that are prevalent
    in our data, since we want to give equal chances to candidates from different
    groups.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然说起来容易，但现在我们在估计允许我们预测不同任务或职位的员工终身价值模型方面变得更加精通。与以往一样，由于我们希望给予来自不同群体的候选人平等的机会，我们必须*特别小心*处理我们数据中普遍存在的固有偏见。
- en: 'Before going on, let’s talk briefly about the the third source of uncertainty:
    how can we assess ex-ante if a candidate will be a good fit? We should start by
    asking ourselves why we care about it, and presumably this is because a bad fit
    may either have subpar performance (this depends on motivation, and our energy
    levels and motivation really depend on feeling happy about our workplace, our
    teammates, our boss, etc), or may negatively affect the team’s productivity. We
    may try addressing the former as we briefly discussed already—using historical
    data, which hopefully also includes some psychometric tests —but the latter needs
    a different output metric: we not only care about individual performance, but
    we also care about a team’s *aggregate* performance. This is harder to model,
    and the demands on the data we need are considerably higher. Just to make this
    point, consider the problem of even measuring the corresponding team lifetime
    value: a team can go on indefinitely, but individual members may change teams
    or even quit and move to another company. In principle we should have data on
    each of these moves so that we can control for changes *within* the team.'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，让我们简要讨论一下第三种不确定性的情况：我们如何事前评估候选人是否适合？我们应该首先问自己为什么我们关心这个问题，显然这是因为不合适可能会导致表现不佳（这取决于动机，我们的能量水平和动机确实取决于对工作场所、队友、老板等感到满意），或者可能会对团队的生产力产生负面影响。我们可以尝试解决前者，就像我们已经简要讨论过的那样——使用历史数据，希望这些数据中也包括一些心理测验，但后者需要不同的输出度量：我们不仅关心个体表现，还关心团队的*总体*表现。这更难建模，对我们需要的数据的需求更高。为了说明这一点，考虑一下甚至测量相应团队终身价值的问题：团队可以无限期存在，但个体成员可能会改变团队或甚至辞职并转到另一家公司。原则上，我们应该有关于每一次变动的数据，以便我们可以控制团队*内部*的变化。
- en: Here’s an example where we know that this underlying uncertainty matters, but
    because of the complexity of the task, we may decide to simplify and neglect team
    effects at least until we really feel comfortable with individual performance
    estimates.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个例子，我们知道这种潜在的不确定性很重要，但由于任务的复杂性，我们可能决定简化，并且至少在我们真正对个体绩效估计感到满意之前，我们可能会忽略团队效应。
- en: Delinquency Rates
  id: totrans-248
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 违约率
- en: 'At the simplest level, given a loan we want to know if it will be repaid completely
    or not. At the next level, we may want to know how this probability changes with
    the size of the loan and the interest rate we charge. Note, however, that there
    are many reasons people will default on their debts. It could be that:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在最简单的层面上，考虑到贷款，我们希望知道它是否会完全偿还。在下一个层次上，我们可能希望知道这种概率如何随着贷款规模和我们收取的利率变化而变化。然而，请注意，人们违约的原因有很多。可能是因为：
- en: Customer wants to pay but just can’t make it
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户想付款，但就是无法完成
- en: Customer has the funds but doesn’t want to pay
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户有资金但不愿付款
- en: 'These are very different reasons, and in order to make an ex-ante assessment
    we need very different data: the former presumes honesty and the uncertainty comes
    from short- or medium-term shocks to the household finances (e.g., unemployment,
    delays in getting paid, other unexpected expenses such as healthcare and hospital
    charges, etc.), and the latter has to do with the underlying motivation.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是非常不同的原因，为了进行前置评估，我们需要非常不同的数据：前者假设诚实，并且不确定性来自家庭财务的短期或中期冲击（例如失业、支付延迟、其他意外支出，如医疗和医院费用等），而后者与潜在动机有关。
- en: 'Take credit scoring data: someone who has never defaulted on their obligations
    will have great credit history, so from this data it will be very hard to make
    probability assessments on their near-future family finances. Needless to say,
    if you’ve never been granted credit, you won’t even have a history and will thereby
    continue to be rejected. Presumably, an individual’s credit history may help assess
    the second type of motivation, assuming that this is a structural permanent characteristic:
    if you’re the type of person who tries to take advantage of others and systematically
    neglects your obligations, this will be reflected in your credit score. But many
    times customers won’t pay because they don’t think it is *fair* given how they’ve
    been treated or the quality of the service they have received. A credit score
    will not be informative enough in this case.'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 使用信用评分数据：从未违约过的人将拥有很好的信用历史，因此从这些数据中很难对他们未来家庭财务的概率做出评估。不用说，如果你从未获得过信用，你甚至不会有信用历史，因此会继续被拒绝。可以假定，个人的信用历史可能有助于评估第二种类型的动机，假设这是一个结构性的永久特征：如果你是那种试图占别人便宜并系统地忽视你的义务的人，这将反映在你的信用评分中。但是，很多时候客户不付款是因为他们认为这不公平，考虑到他们所受到的对待或者所接受的服务质量。在这种情况下，信用评分将不会提供足够的信息。
- en: Stock Optimization
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 库存优化
- en: We have already mentioned that the cost of overstocking is the opportunity cost
    of a foregone sale elsewhere or the direct depreciation cost of units being stored
    for a longer-than-needed time. With understocking the cost is foregone sales that
    could’ve taken place had we had enough stock in that specific location.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经提到，库存过剩的成本是在其他地方放弃销售的机会成本，或者因为存放时间超过所需时间而直接产生的折旧成本。库存不足的成本是因为没有足够的库存在特定位置，导致放弃的销售机会。
- en: 'This discussion suggests that the main source of uncertainty we face is the
    volume of demand in each period. Is this enough? Let’s assume that *we know* how
    many units will be purchased any day. Is our stock optimization problem resolved?
    The answer in this case is negative in general: what are the transportation costs?
    How much will our units depreciate? Similarly, are there risks of robbery? Notice
    how the trick of assuming away one specific type of uncertainty allows us to quickly
    identify other factors that didn’t initially appear to be of first-order, but
    after further consideration are now important.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 这一讨论表明我们面临的主要不确定性来源是每个时期的需求量。这足够吗？让我们假设我们知道任何一天会购买多少单位。我们的库存优化问题解决了吗？在这种情况下，一般来说答案是否定的：运输成本是多少？我们的单位会折旧多少？同样，有抢劫的风险吗？请注意，假设掉过一种特定类型的不确定性的技巧允许我们快速识别其他一开始看起来不是第一顺序的因素，但经过进一步考虑现在变得重要了。
- en: Key Takeaways
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 主要结论
- en: '*Uncertainty is everywhere*: most complex decisions we make are done under
    conditions of uncertainty. This means that at the time of making a decision we
    can’t be completely sure of what outcome will result. Since uncertainty is everywhere,
    we had better embrace it.'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*不确定性无处不在*：我们做出的大多数复杂决策都是在不确定条件下完成的。这意味着在做出决定时，我们不能完全确定结果会是什么。由于不确定性无处不在，我们最好接受它。'
- en: '*The calculus of probabilities allows us to quantify and work with uncertainty*:
    we should become familiarized with the calculus of probabilities. At its core,
    it has addition and multiplication properties: the former allows us to compute
    the probability of one *or* several events taking place. The latter allows us
    to compute the probability of several events taking place simultaneously, and
    gives rise to the famous Bayes’ rule.'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*概率的微积分允许我们量化和处理不确定性*：我们应该熟悉概率的微积分。在其核心，它具有加法和乘法性质：前者允许我们计算一个或多个事件发生的概率。后者允许我们计算多个事件同时发生的概率，并引出著名的贝叶斯定理。'
- en: '*The second tool we need is expected values*: since we use them all the time
    we must first learn to calculate and manipulate expected values. The expected
    value of a random variable is the weighted average of the values it takes, with
    weights equal to the corresponding probabilities. It’s important for us because
    we usually calculate expected utilities.'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*我们需要的第二个工具是期望值*：因为我们经常使用它们，我们必须首先学会计算和操作期望值。随机变量的期望值是它取值的加权平均，其中权重等于相应的概率。这对我们很重要，因为我们通常计算期望效用。'
- en: '*To make decisions under uncertainty we compute expected utilities*: a utility
    function allows us to rank decisions. In many cases we take the utility function
    to be the *identity function* so the expected utility of a random variable like
    profits is just its weighted average, with weights being the corresponding probabilities.
    In certain applications we may wish to allow for risk aversion so we parametrize
    a utility function that is concave.'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在不确定性下做决策，我们计算期望效用*：效用函数允许我们对决策进行排名。在许多情况下，我们将效用函数视为*恒等函数*，因此随机变量（如利润）的期望效用只是其加权平均，权重是相应的概率。在某些应用中，我们可能希望考虑风险厌恶，因此我们参数化一个凹函数的效用函数。'
- en: '*AI is our tool to quantify uncertainty*: we can use supervised regression
    models to directly estimate the expected utility from pulling one lever. Alternatively,
    we can use classification models to estimate the probabilities that each uncertain
    consequence arises and plug these estimates into our expected value calculation.'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*AI 是我们量化不确定性的工具*：我们可以使用监督回归模型直接估计从拉动一个杠杆中获得的预期效用。或者，我们可以使用分类模型来估计每个不确定后果发生的概率，并将这些估计值插入我们的期望值计算中。'
- en: Further Reading
  id: totrans-263
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: The study of uncertainty is the study of the calculus of probability. There
    are several introductions to probability theory out there, but Sheldon Ross’s
    *A First Course in Probability* (Pearson) could be a good place to start. A classical
    reference at a more advanced level is Volume 1 of William Feller’s *An Introduction
    to Probability Theory and Its Applications* (Wiley). Both references, as well
    as most introductory probability textbooks, provide a presentation of classical
    or frequentist probability and statistics.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 不确定性的研究是概率微积分的研究。有几本介绍概率论的书籍，但Sheldon Ross的《概率论初阶》（Pearson）可能是一个很好的开始。更高级别的经典参考书是William
    Feller的《概率论及其应用导论》第一卷（Wiley）。这两本参考书，以及大多数介绍性的概率统计教材，提供了经典或频率主义概率和统计学的阐述。
- en: 'If you want to delve into Bayesian probability theory, you may find Joseph
    Kadane’s *Principles of Uncertainty* (Chapman and Hall/CRC) useful, and at the
    time of writing, it’s available for free [online](https://oreil.ly/Yw-k_). Alternatively,
    you can check out E.T. Jaynes’s *Probability Theory: The Logic of Science* (Cambridge
    University Press). Dennis V. Lindley’s “The Philosophy of Statistics” article
    that appeared in the *Journal of the Royal Statistical Society* provides a great
    discussion on foundational topics and describes in great depth the differences
    between frequentist and Bayesian statistics (but written from a Bayesian perspective).
    Different axiomatic derivations of subjective probability can be found in Peter
    Fishburn’s article, “The Axioms of Subjective Probability,” published in *Statistical
    Science*. Morris DeGroot’s *Optimal Statistical Decisions* (Wiley-Interscience)
    has a fantastic presentation of this topic, as well as other advanced topics in
    Bayesian decision theory.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想深入研究贝叶斯概率论，你可能会发现Joseph Kadane的《不确定性原理》（Chapman and Hall/CRC）很有用，在撰写时，可以在[线上](https://oreil.ly/Yw-k_)免费获取。或者，你可以查阅E.T.
    Jaynes的《概率论：科学的逻辑》（剑桥大学出版社）。Dennis V. Lindley在《皇家统计学会杂志》上发表的“统计哲学”文章，从贝叶斯的角度出发，对基础主题进行了深入的讨论，并详细描述了频率主义和贝叶斯统计之间的差异。有关主观概率的不同公理推导可以在Peter
    Fishburn的文章《主观概率的公理》中找到，该文章发表在《统计科学》上。Morris DeGroot的《最优统计决策》（Wiley-Interscience）对这一主题有着极好的介绍，以及贝叶斯决策理论的其他高级主题。
- en: 'There are many great discussions online on how to interpret classical confidence
    intervals and p-values. You can search on Andrew Gelman’s blog for many such references
    (for example: [*https://oreil.ly/vaIam)*](https://oreil.ly/vaIam)).'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在网上有很多关于如何解释经典置信区间和p值的精彩讨论。你可以在Andrew Gelman的博客上搜索许多这样的参考资料（例如：[*https://oreil.ly/vaIam)*](https://oreil.ly/vaIam))。
- en: 'On a lighter note, David Lindley’s *Uncertainty* (Anchor) is a great read if
    you want to understand the role that uncertainty plays in science, and specifically,
    how quantum theory challenged all preconceived notions about it in the physical
    sciences. To this day, it is hard to find any other truly uncertain phenomena
    in the sciences. In a similar vein, Peter Bernstein’s *Against the Gods: The Remarkable
    Story of Risk* (Wiley) provides a historical account of decision making under
    uncertainty, and you’ll find many great references to some of the topics mentioned
    in this chapter.'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 轻松一点，David Lindley的《不确定性》（Anchor）是一本很好的读物，如果你想要理解不确定性在科学中的角色，尤其是量子理论如何挑战了物理科学中所有的先入为主的观念。直到今天，在科学中很难找到任何其他真正的不确定现象。类似地，Peter
    Bernstein的《逆天而行：风险的非凡故事》（Wiley）提供了决策在不确定性下的历史记录，你会在本章提到的一些主题中找到许多优秀的参考文献。
- en: Classical references for objective and subjective axiomatic decision theory
    are von Neumman and Morgenstern’s *The Theory of Games and Economic Behavior*
    (Princeton University Press) or Leonard Savage’s *The Foundations of Statistics*
    (Dover), respectively. You need not go to these groundbreaking pieces, however.
    David Kreps’s *Notes on the Theory of Choice* (Routledge) is a great reference,
    as well as Luce and Raiffa’s *Games and Decisions* (Dover). Ariel Rubinstein’s
    *Lecture Notes in Microeconomic Theory* (Princeton University Press), which is
    also available for free on his webpage after registration, provides a great introduction
    to the topic. See also Ken Binmore’s *Rational Decisions* (Princeton University
    Press).
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 关于客观和主观公理决策理论的经典参考文献分别是von Neumman和Morgenstern的《博弈论与经济行为理论》（普林斯顿大学出版社）或Leonard
    Savage的《统计基础》（Dover）。然而，你不必去阅读这些开创性的作品。David Kreps的《选择理论笔记》（Routledge）是一个很好的参考书，以及Luce和Raiffa的《博弈与决策》（Dover）。Ariel
    Rubinstein的《微观经济理论讲义》（普林斯顿大学出版社）在注册后也可以在他的网页上免费获取，为这个主题提供了很好的介绍。另见Ken Binmore的《理性决策》（普林斯顿大学出版社）。
- en: Any microeconomics textbook will provide a presentation on the expected utility
    hypothesis, risk aversion, and many economic applications. As before, I recommend
    David Kreps’s *A Course in Microeconomic Theory* (Princeton University Press).
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 任何微观经济学教科书都会对预期效用假设、风险厌恶以及许多经济应用进行介绍。与之前相同，我推荐David Kreps的《微观经济理论课程》（普林斯顿大学出版社）。
- en: 'Further discussion of calibration of risk aversion models can be found in Ted
    O’Donoghue and Jason Somerville’s “Modeling Risk Aversion in Economics,” which
    appeared in *The Journal of Economic Perspectives*, but Kadane’s book referenced
    above has a good discussion too. On prospect theory and loss aversion, Daniel
    Kahneman and Amos Tversky’s “Prospect Theory: An Analysis of Decision Under Risk,”
    published in *Econometrica*, provides many experimental examples as well as an
    alternative solution to several of the paradoxes described here. On this same
    topic, you can also consult Mark Machina’s “Choice Under Uncertainty: Problems
    Solved and Unsolved,” published in *The Journal of Economic Perspectives*.'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 进一步讨论风险厌恶模型的校准可参考Ted O’Donoghue和Jason Somerville的“在经济学中建模风险厌恶”，该文发表于《经济展望杂志》，但上述提到的Kadane的书也有很好的讨论。关于前景理论和损失厌恶，Daniel
    Kahneman和Amos Tversky的“前景理论：在风险下决策的分析”，发表于《经济计量学》，提供了许多实验例子以及对这里描述的几个悖论的替代解决方案。在同一主题上，您还可以参考Mark
    Machina的“在不确定性下的选择：已解决和未解决的问题”，发表于《经济展望杂志》。
- en: John Myles White’s *Bandit Algorithms for Website Optimization* (O’Reilly) provides
    a great discussion on the exploration versus exploitation trade-off as well as
    a very applied and down-to-earth presentation of bandit algorithms. In a slightly
    different vein, but also applied and with code you can download and use, is Allen
    Downey’s presentation of Bayesian statistics in *Think Bayes* (O’Reilly).
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: John Myles White的《网站优化的强盗算法》（O’Reilly）很好地讨论了探索与利用的权衡，以及强盗算法的实用和贴近实际的演示。稍微不同的方向，但同样应用并可下载和使用代码的是Allen
    Downey在《Bayes的思维》（O’Reilly）中对贝叶斯统计的展示。
- en: 'At an operational level, you may want to go beyond the classical statistical
    toolkit of computing confidence intervals and p-values. In that case it will be
    necessary to use Bayesian methods. Andrew Gelman and Jennifer Hill’s *Data Analysis
    Using Regression and Multilevel/Hierarchical Models* (Cambridge University Press)
    is a good introduction; see also Gelman’s *Bayesian Data Analysis* (Chapman and
    Hall/CRC). Kevin Murphy’s *Machine Learning: A Probabilistic Perspective* (MIT
    Press) goes into the arduous task of providing Bayesian foundations to many commonly
    used methods. Finally, you may wish to search online for material on *probabilistic
    programming*, a recent label given to Bayesian methods that can be used at scale.'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 在操作层面上，你可能希望超越计算置信区间和p值的经典统计工具包。在这种情况下，有必要使用贝叶斯方法。Andrew Gelman和Jennifer Hill的《使用回归和多层次/分层模型进行数据分析》（剑桥大学出版社）是一个很好的入门；此外，还可以参考Gelman的《贝叶斯数据分析》（Chapman
    and Hall/CRC）。Kevin Murphy的《机器学习：概率观点》（MIT出版社）深入探讨了为许多常用方法提供贝叶斯基础的艰巨任务。最后，您可能希望在网上搜索关于*概率编程*的材料，这是一个最近赋予贝叶斯方法的标签，可以在规模上使用。
- en: 'If you’re interested in *microfounded* discrete choice models as we briefly
    discussed when talking about how to model customer churn, you can check out any
    microeconometrics textbook: Colin Cameron and Pravin Trivedi’s *Microeconometrics:
    Methods and Applications* (Cambridge University Press) might be a good place to
    go, but Kenneth Train’s *Discrete Choice with Simulations* (Cambridge University
    Press) is more detailed on this specific topic.'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对微基础离散选择模型感兴趣，正如我们在讨论客户流失建模时简要提到的，你可以查阅任何一本微计量经济学教材：Colin Cameron和Pravin
    Trivedi的《微计量经济学：方法与应用》（剑桥大学出版社）可能是一个不错的选择，但Kenneth Train的《具有模拟的离散选择》（剑桥大学出版社）在这个特定主题上更为详细。
- en: 'Biases in observational studies is by now an already mature area of study,
    and there are even startups that supposedly help companies to systematically *debias*
    their data. Cathy O’Neil’s *Weapons of Math Destruction: How Big Data Increases
    Inequality and Threatens Democracy* (Broadway Books) makes a strong point on the
    ethical risks of using big data and algorithms that may magnify the biases in
    the data and have profound societal effects.'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 观察性研究中的偏差现在已经成为一个成熟的研究领域，甚至有一些初创公司据称帮助企业系统地*去偏差*他们的数据。Cathy O’Neil的《数学毁灭武器：大数据如何增加不平等并威胁民主》（百Broadway
    Books）强调了使用大数据和算法可能放大数据中的偏差并产生深远社会影响的伦理风险。
- en: ^([1](ch06.html#idm46359808180968-marker)) In most of our business examples
    a satisfactory outcome will be the one that we want to take place.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch06.html#idm46359808180968-marker)) 在我们的大多数商业示例中，满意的结果将是我们希望发生的结果。
- en: ^([2](ch06.html#idm46359808017400-marker)) This example is commonly known as
    the one-dimensional drunkard random walk, and it can be shown that our gambler
    will recover *infinitely many times*.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch06.html#idm46359808017400-marker)) 这个例子通常被称为一维醉汉随机漫步，我们可以证明我们的赌徒将会*无限次*恢复。
- en: ^([3](ch06.html#idm46359805153816-marker)) In October 2018, these were the odds
    of winning the Mega Millions lottery in the US. See [this article on CNBC’s website](https://oreil.ly/VJh4W).
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: ^([3](ch06.html#idm46359805153816-marker)) 2018年10月，这些是美国赢得Mega Millions彩票的几率。参见[CNBC网站上的这篇文章](https://oreil.ly/VJh4W)。
- en: ^([4](ch06.html#idm46359805152152-marker)) It’s even higher, as there could
    be more than one winner and you would have to split the jackpot.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: ^([4](ch06.html#idm46359805152152-marker)) 实际上它更高，因为可能会有多名赢家，你必须分割头奖。
- en: ^([5](ch06.html#idm46359805147192-marker)) This example was taken from E.T.
    Jaynes’s book. See the Further Reading section at the end of the chapter.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: ^([5](ch06.html#idm46359805147192-marker)) 这个例子摘自E.T. Jaynes的书。请参阅章节末的进一步阅读部分。
- en: ^([6](ch06.html#idm46359805112520-marker)) Just to be sure you’re following,
    the key thing to notice is that each toss is *independent* of the others, so that
    the probability of a sequence such as TTTTH arising after five tosses is the product
    of the probabilities of each occurrence.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: ^([6](ch06.html#idm46359805112520-marker)) 为了确保您能够跟上，关键要注意的是每次投掷都是*独立的*，因此在五次投掷后出现TTTTH这样的序列的概率是每次发生的概率的乘积。
- en: ^([7](ch06.html#idm46359804830024-marker)) In practice I am neglecting the possibility
    that customers compare their current satisfaction with us relative to what they
    expect to get elsewhere. Even if you try to get a more realistic model that includes
    this effect, it will be hard to have data that allows us to put it into practice.
    Sometimes simplification follows from the purest sense of pragmatism.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: ^([7](ch06.html#idm46359804830024-marker)) 在实际操作中，我忽略了顾客比较他们当前对我们的满意度与他们期望从其他地方得到的满意度的可能性。即使您试图得到一个包括这种效应的更真实的模型，也很难有数据可以让我们付诸实践。有时简化来自于最纯粹的实用主义意义。
