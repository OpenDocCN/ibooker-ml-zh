# 第八章：结语

在最近的几章中，我们涵盖了大量内容。分析工具箱如此多样，以至于许多技能可能看起来毫无关联。让我们通过放大视角来总结一下这些部分是如何串联起来的。我们还将讨论一些可能遇到的困难，并以我对未来可能发展的看法结束。

# 分析技能

在前面的每一章中，我们至少涵盖了一个技能。让我们总结一下，将一切放入透视，并讨论前方依旧存在的一些挑战。

## 提出指导性问题

我们首先需要学会提出业务问题，具体来说，我们需要学会提出*指导性*的业务问题。要做到这一点，我们首先必须学会区分这种分析类型与其描述性和预测性对应物，并且这是需要实践的。

好消息是，我们总是在做决定，所以我们可以通过不断审视我们在工作和生活中所做的选择来学习和实践这一技能。我们的分析力量就像任何其他力量一样，我们只需要始终保持并有意识地锻炼它。

如果你想要练习并进一步发展这种技能，下面是你可以提出的问题类型的总结：

+   我们首先为什么要做这个决定？

+   我们想要解决的问题是什么？

+   我们为什么关心这个问题，我们关心的结果又是什么？

+   我们可以采取哪些行动来达到这些结果？

+   我们在过去的表现如何？

+   我们需要什么理想数据集来详细了解我们的行动及其与结果的关系？

+   我们的行动会带来什么后果，这些后果又依赖于什么？

+   隐藏的不确定性是什么，我们又该如何在没有不确定性的情况下做出这个决定？

这些问题适用于我们做出的任何决定，所以从你最基础的日常决策开始工作，并尝试回答每一个问题。

描述性分析对我们来说是最自然的，但做好*优秀的*描述性分析是我们必须发展的技能。如果做得正确，它可以启发我们，因为它帮助我们重定向初步理论，解释事物为什么会如此运作，并展示我们可能遇到的因果陷阱。大多数高级从业者遵循的一个经验法则是从问题开始，逆向搜索数据以寻找答案。

当然，你必须从*正确*的问题开始。正如我之前所说，识别正确问题的重要性不言而喻，这一技能与学习机器学习算法的工作原理及其应用同样重要。无论算法有多好，数据看起来有多棒，从错误问题开始必然会导致死胡同。

单靠预测分析并不能创造价值，除非我们的决策本来就已经是最优或者非常好的。预测是我们决策过程的输入，而当前的机器学习和人工智能技术正是来支持我们的。

提出规范性问题将迫使我们：

+   关注我们希望影响的正确指标或目标。

+   质疑并扩展我们目前可以使用的杠杆机制。

我们如何学会提出规范性问题？我认为我们必须从质疑我们追求的目标开始。这本质上就是*为什么*问题序列所做的事情。

## 理解因果关系。

一旦确定了业务目标，你可以专注于实现这些目标的过程。你想确保自己问以下问题：

+   我们目前有哪些杠杆？

+   它们为什么有效以及如何工作？

+   需要什么样的理论或假设？

提出这些问题必然会带我们到因果关系的问题。*理解*因果关系与*测试*因果关系当然是不同的。前者涉及我们创造连接我们行动与业务目标的理论能力。“通过拉动这个杠杆，那个结果将随之而来，从而影响我们的目标。”但为什么会出现这种结果？有哪些隐藏的或不那么隐藏的假设？

从实证上来看，解开因果关系通常非常困难，就像我们在第四章中看到的那样。在投资获取这种技能之前，学习*质疑*我们认为是因果关系发现的东西是很好的。我们可以提出反事实的解释吗？一旦我们控制了它们，还有其他变量可以解释结果吗？有选择效应吗？

回答这些问题类型的问题比估计因果效应要容易。通过采用实验方法，也就是系统地进行 A/B 测试，可以快速地做到这一点。大多数数据驱动型公司每年运行数千次实验，只是为了建立更好的决策基础。如果实验不可行，因为成本太高，例如，有很多统计方法可以测试因果关系。为了让这些方法起作用，你的数据需要满足一个或多个假设，因此通常需要一些专业知识来学习和应用这些方法。

但是一旦你开始提出并测试理论，你会发现世界可能与你计划的截然不同。举个例子，2019 年诺贝尔经济学奖授予了三位研究贫困和经济发展的研究者，他们在研究中采用了实验方法，并[多次失败](https://oreil.ly/WF9sW)。因此，要做好多次失败的准备。

### 跳出固有思维模式。

反复失败会迫使您打破常规思维。通常情况下，我们会从最明显的杠杆选择开始测试。然后，当事情不如预期时，我们开始质疑我们对业务和人性的最基本理解。

然而，有时我们发现，我们越是发展分析能力，就越难以创造性地思考。分析推理往往是非常线性和系统化的，这可能与创造性思维的能力相去甚远。我们必须时刻记住可能会出现这种情况。建立强大的实验文化可能有助于缓解这些影响。但是，跨职能团队的运作，拥有多样化技能的团队也应该有所帮助。

## 简化

无论我们的大脑多么强大，企业的运作——更不用说整个世界了——总是难以一次理解透彻的。如果我们不得不简化，那将会很好，因为这样我们就能做出绝对最佳的决策。

在这种意义上，我们的解决方案通常是*局部*最优解。这意味着很可能有更好的决策可以做，但目前解决这个更一般的问题就太复杂了。

这很好。我们的目标是击败竞争对手，而他们的企业也是由人类管理的，无论他们有多聪明或拥有多少计算能力或数据。我们都在寻找局部最优解的领域内。开始简化，解决手头的问题，并在成本效益可行时迭代到下一个复杂级别。

## 拥抱不确定性

*所有*我们的决策都是在不确定性下做出的。这很重要，因为当我们拉动一个杠杆或做出一个决定时，我们无法确定随后会发生什么。

我们应始终在假设没有不确定性的情况下解决问题。这不仅有助于我们更好地理解杠杆和关键的底层不确定性——这是我们问题的一级要素——而且还可以作为比较在不确定性下决策质量的基准。

话虽如此，在处理不确定性决策时至少有三种方法：

+   无为而治

+   使用以数据驱动的强力方法

+   使用基于模型驱动的方法

### 无为而治的方法

您可能会决定处理不确定性成本太高。学习概率计算绝非易事。需要时间才能内化其逻辑并使其直观化。但总体来说，其好处通常更大，您始终可以雇佣具备此技能的人。我们企业的任务是创建具有互补技能的团队。

由于无为而治的方法通常不是最优的，因此投资一些时间和金钱来获取公司所需的正确技能是有道理的。此外，当前人工智能和机器学习的进步使得找到这些技能相对便宜：许多人正在不断学习和改进数据科学家的工具箱，而（更大）计算能力的价格已经大幅下降。总之，处理不确定性的成本从未像今天这样便宜过。

### 数据驱动的方法

许多公司都在这条路上前行：拥有数据，投资正确的技术，并雇佣人才。这种方法的基本原则是，数据本身将告诉我们如何处理不确定性。但单靠数据是不足够的。或者更好地说，数据可以讲述很多不同的故事，我们不知道哪一个适合我们的用例。

要处理不确定性——就像创建关于为什么某些杠杆起作用的理论一样——我们需要做出假设，创建模型。

### 以模型驱动的方法为例

模型驱动的方法对不确定性的来源和工作方式作出了强有力、可反驳的假设。我们首先识别每一个这些来源，对其进行分类，并专注于对我们问题第一序的那些来源。

下一步是对相关的基础不确定性进行分布假设。这可以通过观察数据来完成。它是均匀分布的吗？它是否遵循正态钟形曲线？它是否有长尾巴？

或者，我们可以从白纸开始，*不*查看数据，认真思考不确定性的来源。由于大多数不确定性并非纯粹，比如量子不确定性，而是我们的无知、异质性、我们需要简化或复杂交互的结果，我们应该始终从理解每个来源开始，并考虑我们是否可以做出分布假设来处理它。

想象一下抛硬币：在数据驱动的方法中，我们观察多次重复抛硬币实验的结果，并估计平均而言正反面出现的可能性是相等的。但我们也可以从看到的事实出发，认为在一个公平的硬币上，没有任何应该使结果偏向任何一边的因素。在这里，我们从对称性假设出发，提出一个简化的理论，并用数据验证我们的理论。

如果还不清楚模型驱动方法的工作原理，可以考虑在第七章中对*最佳人员配置问题*提出的解决方案。在确认了不确定性的主要来源是客户进入和退出的速率后，我们对这些如何分布做出了强烈的假设。

无论是频率主义还是贝叶斯方法，我们都对数据进行分布假设，但后者使得对不确定性的思考过程更加明确。

## 解决优化问题

规定性分析都关乎优化。如果我们旨在做出*最佳*可能的决策，我们必须能够对备选方案进行排名。

但优化是困难的。让我们回顾一下通常会遇到的一些困难。

### 理解目标函数

目标函数将我们的操作或控制杆映射到我们想要优化的业务目标或度量。我们应始终深思这一目标函数：

+   它看起来像什么？绘制超过两个操作或决策变量的目标函数可能很困难，但通常最好绘制每个决策变量相对于其他决策变量*保持不变*或固定在某些值时的目标函数。

+   它是否“平滑”？您能在任何地方求导数吗？如果您计划使用数值梯度方法，这将很重要。

+   它是否有很多局部最优解？

+   即使它表现良好，它在最优点或其他某个范围内是否相对平坦？这可能会影响您使用的任何算法的收敛速度。

与不确定性一样，我们可以通过模型和数据驱动的方式来推导目标函数。数据驱动方法可以像处理任何其他监督学习任务一样执行：我们的特征是我们的控制杆或操作，以及我们认为重要的任何其他控制因素，而要预测的结果则是我们的业务目标或度量。不用说，为了使用这种方法，我们需要观察控制杆和业务目标，并且在控制杆中有足够的变化以提供可靠的估计。此外，您可能需要一种监督方法，允许您估计非线性效应，以使问题更为真实。

数据驱动方法存在两个问题。首先，没有任何东西能保证结果在商业角度上是合理的。这是因为我们通常不在监督学习算法中对预测问题施加任何业务结构或限制。相关性并不意味着因果关系，而预测技术通常捕捉相关性，优化则关乎从操作到目标的因果关系。

此外，由操作到业务目标的预测值组成的目标函数可能不满足任何优化的期望属性。例如，如果你在进行最大化操作，我们可能希望有一个凹函数的目标函数。然而，预测算法中没有任何东西能保证这一点成立。

为了理解这一点，请考虑价格和收入优化（第七章）。根据我们确切的业务目标，数据驱动方法将估计依赖于价格（和其他控制变量）的预测模型，如收入、利润或贡献利润率，并使用这种预测关系作为我们的目标函数。或者，我们可以通过思考经济基本原理来*建模*我们的目标函数：收入等于价格乘以数量，这本身又通过需求法则依赖于价格，等等。通过给问题加上结构，我们可以确保它既符合商业逻辑，又具有理想的特性。

### 处理局部最优解

我们可能已经找到了解决方案，但我们怎么知道这是我们能做到的最好的？这个问题在数值优化算法中特别显著，因为它们往往在无法进一步改进时停止。我们首先需要检查确实我们的解决方案是一个最小化器/最大化器，根据我们的业务问题，然后尝试不同的初始猜测或解决方案，看看是否可以找到其他的极值点。

### 对初始猜测的敏感性

正如之前提到的，处理多个局部最优解的一种方法是尝试不同的起始点来初始化我们的优化算法。在找到数值解的稳健性方面存在缺乏标准化的问题，我们应始终检查我们的解决方案对替代初始猜测的稳健性。

### 规模化和生产问题

规模问题是指解决优化问题的时间和复杂度是否随着数据增加而不成比例增加。这是机器学习中众所周知的问题，很多时候我们选择将可扩展的算法投入生产，这些算法可能在预测性能上并非最先进。

让我们简要讨论一些常见的权衡：

+   如果有新的或更多的数据进来，我们应该重新解决优化问题吗？

+   如果我们这样做，我们能否足够快地作出反应？也就是说，我们能够及时解决优化问题吗？

+   如果我们不能，我们的最优推荐对新信息或更多信息有多敏感？我们应该多频繁地重新解决优化问题？

这些问题并不容易回答。例如，如果我们的最优行动结果是依赖于其他信息的*映射*或函数，我们可能只需在新信息上重新评估这些映射，这可能并不需要大量计算资源。

为了理解这一点，想象一下航空公司的最佳定价问题。在这种情况下，最佳定价规则依赖于出发前的时间（即预订和乘坐航班之间的时间差）。如果我们知道这个函数的样子，我们可以简单地评估该函数，并在任何给定时间设置最佳价格。另一方面，如果我们每次想设置价格都需要解决优化问题，这可能很难扩展或投入生产。

# 未来的人工智能驱动企业

未来的 AI 驱动企业会是什么样子？虽然我不从事未来预测的业务，但讨论由于 *当前* 技术可利用的机会仍然是值得的。为此，让我们从重新阐述本书的三个主要观点开始：

+   我们通过做出决策来创造企业价值。

+   预测是做出更好决策的一个输入。

+   还有其他与预测技术互补的技能，因此在企业决策性能的提升中是必不可少的。

## 回到 AI

当前的人工智能是预测技术，支持着日益强大的机器学习算法，需要大量的数据和计算能力。当然，人工智能远不止如此，但当前的热点主要集中在深度学习算法上。一个自然的问题是，我们能否利用当前技术做出更好的决策。这里提出的一个途径是，在明确定义的决策问题中使用来自机器学习算法的预测作为输入，特别是用它们来包容不确定性。

但我们能否以其他方式使用它？大多数成功采纳 AI 范式的公司在将业务问题转化为可以用当前技术解决的预测问题上表现出色。我们能否将决策阶段中的任何一个阶段转化为预测问题？

### 学习如何做决策

让我们想象一个假设情景，将决策问题转化为预测问题。输出变量是决策的结果，由我们的业务度量或目标来衡量。或者，我们可以将其转化为分类问题，其中每个决策都标记为 *好决策* 或 *坏决策*。

现在，机器学习算法通过数据学习，所以让我们继续想象我们也有过去决策的数据集。我们不仅有之前描述的输出变量，还有我们所拉动的杠杆或行动（以及它们被拉动的程度）。因为决策是在不同的背景下做出的，我们还需要尽可能多的背景信息作为输入。背景信息不仅允许我们将我们的决策与背景互动，还能近似不确定性。

数学上，我们的监督学习算法会尝试学习从决策 <math alttext="upper D"><mi>D</mi></math> 到业务结果 <math alttext="y"><mi>y</mi></math> 的映射，给定一些背景信息 <math alttext="upper X"><mi>X</mi></math> ：

<math alttext="y equals f left-parenthesis upper X comma upper D right-parenthesis" display="block"><mrow><mi>y</mi> <mo>=</mo> <mi>f</mi> <mo>(</mo> <mi>X</mi> <mo>,</mo> <mi>D</mi> <mo>)</mo></mrow></math>

原则上，在这些条件下，我们可以训练一个机器学习算法来做出这些决策。如果结果变量是一个连续的业务指标，比如*利润*，在训练模型后，我们可以只是打开和关闭数据集中的每个可能的操作杆（矩阵<math alttext="upper D"><mi>D</mi></math>中的每个虚拟变量），模拟预期的利润，并选择返回最大利润的那个。如果我们已将输出变量转换为一些类别标签，如*好决策*或*坏决策*，我们将重复拉动杆的模拟，并选择得分最高的那个。

让我们以自动驾驶汽车为例，我们自动记录了人类驾驶员做出的每个决策，以及各种传感器捕获的所有可用上下文信息。然后我们可以使用这种方法来做驾驶决策。关于自动驾驶汽车示例的好处在于数据集可以自动生成，因此它作为该方法的一个很好的基准。

### 这种自动决策制定方法存在一些问题

第一个问题是创建数据集，因为我们遇到的大多数决策问题并不像自动驾驶汽车示例那样容易存储。但即使我们可以创建这样的数据集，它可能没有所需的因果推断所需的理想属性。

请记住，机器学习算法通过相关性创建预测，因此它们是强大的模式识别设备。理想情况下，我们应该系统地随机化我们的选择或操作到不同的上下文信息，但这当然可能是昂贵甚至危险的。

此外，数据中的任何偏见都将反映在这些算法做出的决策中，这可能引起严重的伦理关切。

最后，我们面临的问题是可解释性。强大的学习算法是黑匣子，很难解释为什么做出了预测。在我们的情况下，由于预测变成了决策，这个问题甚至更为严重。

如果你在其他地方已经阅读过当前人工智能面临的问题，你可能会立即在这个列表中认出它们。用于自动化我们决策的预测技术将必然继承当前技术的所有缺点。

### 伦理

我在上一节中简要提到了道德维度，但这是一个值得单独讨论的话题。

从人工智能驱动决策的角度来看，伦理关切的主要来源在于预测阶段，我们使用大量数据进行预测。当数据存在偏见时，机器学习预测很可能会强化这种偏见。让我们看看这个过程是如何运作的。

假设你想要预测某银行对新信用卡的接受情况，目的是做出是否放贷的决定。由于大多数银行传统上保守，许多缺乏足够信用数据的少数民族群体要么从一开始就被阻止，要么被允许进入筛选流程，但最终被拒绝信用。机器学习算法非常快速地找到了一个模式：“少数民族潜在客户被拒绝信用。”它不深入研究，当然也不做成本效益的商业案例。

自然地，如果我们使用预测算法的结果，我们最终将拒绝向受影响的人群提供信用，从而强化已经存在的有偏信用决策。这与信用风险无关。这完全取决于数据的性质，以及如何正确地去偏数据的问题，在机器学习社区中正在积极研究这个问题。这也可能通过负面报道来影响公司。¹

另一个较少讨论的问题涉及 A/B 测试中的情况，因为其难以扩展。在这种情况下，我们随机将一种处理方式分配给一个组，并将另一种方式分配给另一个对照组。对于世界各地许多大学的学术研究人员，每当他们想要对人类进行实验时，他们都必须从机构审查委员会或伦理委员会获得批准。虽然大多数公司不需要委员会批准进行测试，但我们应该始终记住，测试对个人有后果。

考虑一下在网页上展示两种不同布局的情况。一个随机选取的客户组将查看传统布局，另一个将查看您想要测试的新版本。您想要测量的结果是转化率，即有多少观众最终购买了您的产品。这种简单的设置可能引发伦理问题：您是否对某一群体造成了负面影响？当然，如果您只是尝试不同的颜色，这种担忧可能是没有根据的，但您可以想象许多现实场景并不那么清晰（例如，展示虐待儿童或战争受害者的图片）。

伦理问题在于很难以明确、清晰的方式区分某事物是否在道德上是错的。要看到这一点，想想一个手机制造商想要估算坏硬件或软件对其收入（通过客户流失）的影响。硬件故障难以预测，质量控制成本高，但我们可能希望找到对公司最有利的百分比，比如 3%或 4%。该公司决定进行以下 A/B 测试：向一组客户生产并随机销售故障手机，并测量相对于对照组的客户流失的影响。如果测试设计正确，它将提供有关硬件故障和客户流失因果效应的清晰估算，然后我们可以回头找到我们想要的最佳质量控制水平。

你对这个实验有什么感觉？我与同事和学生讨论过几种实验的变体，大多数人发现这令人恶心，即使故事包括一个专注的客户支持服务，以确保事后客户和对照组中的客户一样好甚至更好。

结束时，使用分析工具箱中的某些工具时会引发伦理关切，我们至少要在意这一点，并尽量消除可能影响特定人群或群体的结果的偏见。

# 一些最终的思考

自从大数据革命开始以来，我们已经走了很长的路，其承诺是为我们的公司创造越来越多的利润。多亏了它和计算能力的进步，AI 革命随之而来，我们才刚刚开始理解能够做到多少。

本书的主要观点是价值是通过做决策而不是数据或预测来创造的。但数据和预测是做 AI 和数据驱动决策所必需的输入。

为了以系统化和可扩展的方式创造价值并做出更好的决策，我们需要提高我们的分析能力。作为一个在不同公司担任从业者和决策者的人，我已经描述了我发现最有用的那些能力。我还发现学生、商业人士和从业者都渴望更好地理解从这些新技术中创造价值的方法，因此我希望这本书能引导他们朝这个方向发展。

我们可以期待在不久的将来自动化决策吗？在某种意义上，许多简单的决策已经自动化了，就像在没有任何变化的简单环境中一样。但是在不久的将来，通过某种类型的人工通用智能自动化人类般复杂的决策是不太可能的。在那之前，我们有足够的空间为我们的公司和整个社会创造更多的价值。

¹ 举一个最近的例子，请参阅《“Apple Card Investigated After Gender Discrimination Complaints”》（New York Times）。
