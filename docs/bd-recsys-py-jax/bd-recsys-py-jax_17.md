# 第四部分：服务

> *哎呀，你不能这样推荐！有时候最好的推荐并不一定是正确的。*

其中一位作者 Bryan 对亚马逊推荐团队有一个很大的问题：“你认为我需要多少个吸尘器？”仅仅因为 Bryan 买了一台时髦的戴森来清理他的狗，并不意味着他很快就会再买一台，但他的亚马逊主页似乎非常坚决地推荐它。事实上，你总是需要包括业务逻辑 —— 或者你希望在推荐系统流程中包括的基本人类逻辑，以防止愚蠢的情况发生。无论你面对的是情境不合适的推荐、业务不可行的推荐，还是简单地需要让推荐集合显得不那么专一，最后一步的排序都可以关键地改善推荐结果。

但是慢下来！不要认为订购步骤只是全部转换情况和手动覆盖推荐系统。你的排名和服务之间需要存在协同作用。Bryan 还有一个关于他为服装建立的特定基于查询的推荐系统的故事：他想在推荐中实施一个超级简单的多样性过滤器 —— 检查推荐的服装是否属于不同的商品类别。他让他的评分模型的输出按商品类别堆栈排名推荐，这样他可以从每个类别中挑选几个来服务。不可思议的是，投入生产的第一周，他推荐了 10 个推荐中的 3 个、4 个，甚至 5 个背包。用户可能很用心，但这似乎是错误的，并且需要进行一些质量保证。他的错误在哪里？背包可以是多达三种商品类别的成员，因此它们可以潜入多个多样性类别！

在这本书的这一部分，我们将讨论理论与生产推荐相遇的棘手问题。我们将像这个例子中那样谈论多样化的推荐，但我们也将讨论其他重要的业务优先事项，这些事项对推荐管道的服务部分起到了作用。
