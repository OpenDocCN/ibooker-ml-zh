# 4 å¤šæ ·æ€§é‡‡æ ·

æœ¬ç« æ¶µç›–

+   ä½¿ç”¨å¼‚å¸¸æ£€æµ‹æ¥é‡‡æ ·å½“å‰æ¨¡å‹æœªçŸ¥çš„æ•°æ®

+   åœ¨æ ‡æ³¨å¼€å§‹ä¹‹å‰ï¼Œä½¿ç”¨èšç±»æ¥é‡‡æ ·æ›´å¤šæ ·åŒ–çš„æ•°æ®

+   ä½¿ç”¨ä»£è¡¨æ€§é‡‡æ ·æ¥é’ˆå¯¹ä¸æ¨¡å‹éƒ¨ç½²ä½ç½®æœ€ç›¸ä¼¼çš„æ•°æ®

+   é€šè¿‡åˆ†å±‚é‡‡æ ·å’Œä¸»åŠ¨å­¦ä¹ æé«˜ç°å®ä¸–ç•Œçš„å¤šæ ·æ€§

+   ä½¿ç”¨ä¸åŒç±»å‹çš„æœºå™¨å­¦ä¹ æ¶æ„è¿›è¡Œå¤šæ ·æ€§é‡‡æ ·

+   è¯„ä¼°å¤šæ ·æ€§é‡‡æ ·çš„æˆåŠŸ

åœ¨ç¬¬ä¸‰ç« ä¸­ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•è¯†åˆ«æ¨¡å‹çš„ä¸ç¡®å®šæ€§ï¼šæ¨¡å‹â€œçŸ¥é“å®ƒä¸çŸ¥é“â€çš„åœ°æ–¹ã€‚åœ¨æœ¬ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•è¯†åˆ«æ¨¡å‹ä¸­ç¼ºå¤±çš„éƒ¨åˆ†ï¼šæ¨¡å‹â€œä¸çŸ¥é“å®ƒä¸çŸ¥é“â€çš„â€œæœªçŸ¥æœªçŸ¥â€ï¼Œæˆ–ç§°ä¸ºâ€œæœªçŸ¥æœªçŸ¥â€ã€‚è¿™ä¸ªé—®é¢˜å¾ˆæ£˜æ‰‹ï¼Œå› ä¸ºæ¨¡å‹éœ€è¦çŸ¥é“çš„ä¿¡æ¯é€šå¸¸æ˜¯ä¸€ä¸ªåœ¨ä¸æ–­å˜åŒ–çš„ä¸–ç•Œä¸­çš„ç§»åŠ¨ç›®æ ‡ã€‚å°±åƒäººç±»æ¯å¤©éƒ½ä¼šå­¦ä¹ æ–°å•è¯ã€æ–°ç‰©ä½“å’Œæ–°è¡Œä¸ºæ¥é€‚åº”ä¸æ–­å˜åŒ–çš„ç¯å¢ƒä¸€æ ·ï¼Œå¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•éƒ½æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ç¯å¢ƒä¸­éƒ¨ç½²çš„ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥åˆ†ç±»æˆ–å¤„ç†äººç±»è¯­è¨€ï¼Œæˆ‘ä»¬é€šå¸¸æœŸæœ›åº”ç”¨èƒ½å¤Ÿé€‚åº”æ–°å•è¯å’Œæ–°å«ä¹‰ï¼Œè€Œä¸æ˜¯ä¿æŒé™ˆæ—§ï¼Œåªç†è§£å†å²æŸä¸ªæ—¶é—´ç‚¹çš„è¯­è¨€ã€‚åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨è¯­éŸ³è¯†åˆ«å’Œè®¡ç®—æœºè§†è§‰ä¸­çš„å‡ ä¸ªç”¨ä¾‹ï¼Œä»¥è¯´æ˜å¤šæ ·æ€§é‡‡æ ·å¯¹ä¸åŒç±»å‹æœºå™¨å­¦ä¹ é—®é¢˜çš„ä»·å€¼ã€‚

å‡è®¾ä½ çš„å·¥ä½œæ˜¯æ„å»ºä¸€ä¸ªå¯ä»¥ä¸ºå°½å¯èƒ½å¤šçš„ç”¨æˆ·æˆåŠŸçš„è¯­éŸ³åŠ©æ‰‹ã€‚ä½ å…¬å¸çš„é¢†å¯¼æœŸæœ›ä½ çš„æœºå™¨å­¦ä¹ ç®—æ³•æ¯”ä»»ä½•ä¸€ä¸ªäººéƒ½æ‹¥æœ‰æ›´å¹¿æ³›çš„çŸ¥è¯†ã€‚å…¸å‹çš„è‹±è¯­ä½¿ç”¨è€…çŸ¥é“å¤§çº¦ 40,000 ä¸ªå•è¯ï¼Œå è‹±è¯­ 20 ä¸‡è¯æ±‡é‡çš„ 20%ï¼Œä½†ä½ çš„æ¨¡å‹åº”è¯¥æ¥è¿‘ 100%çš„è¦†ç›–ç‡ã€‚ä½ æœ‰å¾ˆå¤šæœªæ ‡è®°çš„å½•éŸ³å¯ä»¥æ ‡è®°ï¼Œä½†å…¶ä¸­ä¸€äº›å•è¯çš„ä½¿ç”¨é¢‘ç‡å¾ˆä½ã€‚å¦‚æœä½ éšæœºé‡‡æ ·è¿™äº›å½•éŸ³ï¼Œä½ ä¼šé”™è¿‡è¿™äº›ç½•è§çš„å•è¯ã€‚å› æ­¤ï¼Œä½ éœ€è¦æ˜ç¡®å°è¯•è·å–å°½å¯èƒ½è¦†ç›–ä¸åŒå•è¯çš„è®­ç»ƒæ•°æ®ã€‚ä½ ä¹Ÿå¯èƒ½æƒ³äº†è§£äººä»¬åœ¨ä¸å…¶è¯­éŸ³åŠ©æ‰‹äº¤è°ˆæ—¶æœ€å¸¸ä½¿ç”¨çš„å•è¯ï¼Œå¹¶é‡‡æ ·æ›´å¤šè¿™äº›å•è¯ã€‚

ä½ è¿˜æ‹…å¿ƒäººå£ç»Ÿè®¡å­¦ä¸Šçš„å¤šæ ·æ€§ã€‚å½•éŸ³ä¸»è¦æ¥è‡ªä¸€ä¸ªæ€§åˆ«ï¼Œä»¥åŠç”Ÿæ´»åœ¨å°‘æ•°å‡ ä¸ªåœ°åŒºçš„äººï¼Œå› æ­¤ç”Ÿæˆçš„æ¨¡å‹å¯èƒ½åªå¯¹é‚£ä¸ªæ€§åˆ«å’ŒæŸäº›å£éŸ³æ›´å‡†ç¡®ã€‚ä½ å¸Œæœ›å°½å¯èƒ½å…¬å¹³åœ°ä»ä¸åŒçš„ç¾¤ä½“ä¸­é‡‡æ ·ï¼Œä»¥ä½¿æ¨¡å‹å¯¹æ‰€æœ‰ç¾¤ä½“éƒ½åŒæ ·å‡†ç¡®ã€‚

æœ€åï¼Œè®¸å¤šäººä¸ä¼šè¯´è‹±è¯­ï¼Œä½†å¸Œæœ›æœ‰ä¸€ä¸ªè¯­éŸ³åŠ©æ‰‹ï¼Œä½†ä½ å‡ ä¹æ²¡æœ‰éè‹±è¯­æ•°æ®ã€‚ä½ å¯èƒ½ä¸å¾—ä¸å…¬å¼€è¯šå®åœ°æ‰¿è®¤è¿™ç§å¤šæ ·æ€§æ–¹é¢çš„é™åˆ¶ã€‚

è¿™ä¸ªé—®é¢˜æ¯”ä»…ä»…çŸ¥é“æ¨¡å‹ä½•æ—¶å›°æƒ‘æ›´éš¾ï¼Œå› æ­¤å¤šæ ·æ€§é‡‡æ ·çš„è§£å†³æ–¹æ¡ˆæœ¬èº«åœ¨ç®—æ³•ä¸Šæ¯”ä¸ç¡®å®šæ€§é‡‡æ ·çš„è§£å†³æ–¹æ¡ˆæ›´åŠ å¤šæ ·åŒ–ã€‚

## 4.1 äº†è§£ä½ æ‰€ä¸çŸ¥é“çš„ï¼šè¯†åˆ«æ¨¡å‹çŸ¥è¯†ä¸­çš„å·®è·

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†å››ç§å¤šæ ·æ€§é‡‡æ ·çš„æ–¹æ³•ï¼š

+   *åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·*â€”ç¡®å®šåœ¨å½“å‰çŠ¶æ€ä¸‹æ¨¡å‹ä¸çŸ¥é“å“ªäº›é¡¹ç›®ï¼ˆä¸ç¬¬ä¸‰ç« ä¸­çš„ä¸ç¡®å®šç›¸æ¯”ï¼‰ã€‚åœ¨æˆ‘ä»¬çš„è¯­éŸ³åŠ©æ‰‹ä¾‹å­ä¸­ï¼ŒåŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·å°†æœ‰åŠ©äºè¯†åˆ«æˆ‘ä»¬çš„è¯­éŸ³åŠ©æ‰‹ä¹‹å‰æœªæ›¾é‡åˆ°è¿‡çš„å•è¯ã€‚

+   *åŸºäºèšç±»çš„é‡‡æ ·*â€”ä½¿ç”¨ç‹¬ç«‹äºä½ çš„æ¨¡å‹çš„ç»Ÿè®¡æ–¹æ³•æ¥æ‰¾åˆ°ç”¨äºæ ‡è®°çš„å¤šæ ·åŒ–é¡¹ç›®é€‰æ‹©ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒåŸºäºèšç±»çš„é‡‡æ ·å°†æœ‰åŠ©äºè¯†åˆ«æ•°æ®ä¸­çš„è‡ªç„¶è¶‹åŠ¿ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¡®ä¿ä¸é—æ¼ä»»ä½•ç½•è§ä½†æœ‰æ„ä¹‰çš„å˜åŒ–ã€‚

+   *ä»£è¡¨æ€§é‡‡æ ·*â€”æ‰¾åˆ°ä¸ä½ çš„ç›®æ ‡é¢†åŸŸæœ€ç›¸ä¼¼çš„æœªæ ‡è®°é¡¹ç›®æ ·æœ¬ï¼Œä¸ä½ çš„è®­ç»ƒæ•°æ®ç›¸æ¯”ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè®©æˆ‘ä»¬å‡è®¾äººä»¬ä¸»è¦ä½¿ç”¨ä½ çš„è¯­éŸ³åŠ©æ‰‹æ¥è¯·æ±‚æ­Œæ›²ã€‚å› æ­¤ï¼Œä»£è¡¨æ€§é‡‡æ ·å°†é’ˆå¯¹æ­Œæ›²è¯·æ±‚çš„ç¤ºä¾‹ã€‚

+   *é’ˆå¯¹ç°å®ä¸–ç•Œå¤šæ ·æ€§çš„é‡‡æ ·*â€”ç¡®ä¿æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ä¸­åŒ…å«å„ç§ç°å®ä¸–ç•Œå®ä½“çš„å¤šæ ·æ€§ï¼Œä»¥å‡å°‘ç°å®ä¸–ç•Œçš„åå·®ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™ç§æ–¹æ³•å¯èƒ½åŒ…æ‹¬é’ˆå¯¹å°½å¯èƒ½å¤šçš„å£éŸ³ã€å¹´é¾„å’Œæ€§åˆ«è¿›è¡Œå½•éŸ³ã€‚

æ­£å¦‚ä½ åœ¨æœ¬ä¹¦çš„å¼•è¨€ä¸­æ‰€å­¦åˆ°çš„ï¼ŒçŸ­è¯­*ä¸ç¡®å®šæ€§é‡‡æ ·*åœ¨ä¸»åŠ¨å­¦ä¹ ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œä½†*å¤šæ ·æ€§é‡‡æ ·*åœ¨ä¸åŒé¢†åŸŸæœ‰ä¸åŒçš„åç§°ï¼Œé€šå¸¸åªè§£å†³éƒ¨åˆ†é—®é¢˜ã€‚ä½ å¯èƒ½çœ‹åˆ°å¤šæ ·æ€§é‡‡æ ·è¢«ç§°ä¸ºåˆ†å±‚é‡‡æ ·ã€ä»£è¡¨æ€§é‡‡æ ·ã€å¼‚å¸¸æ£€æµ‹æˆ–å¼‚å¸¸æ£€æµ‹ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”¨äºå¤šæ ·æ€§é‡‡æ ·çš„ç®—æ³•æ˜¯ä»å…¶ä»–ç”¨ä¾‹å€Ÿç”¨çš„ã€‚ä¾‹å¦‚ï¼Œå¼‚å¸¸æ£€æµ‹ä¸»è¦ç”¨äºè¯†åˆ«å¤©æ–‡æ•°æ®åº“ä¸­çš„æ–°ç°è±¡æˆ–æ£€æµ‹å®‰å…¨ä¸­çš„å¼‚å¸¸ç½‘ç»œæ´»åŠ¨ç­‰ä»»åŠ¡ã€‚

ä¸ºäº†ä¸æ··æ·†éä¸»åŠ¨å­¦ä¹ ç”¨ä¾‹å¹¶æä¾›ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨â€œå¤šæ ·æ€§é‡‡æ ·â€è¿™ä¸ªçŸ­è¯­ã€‚è¿™ä¸ªçŸ­è¯­æ•…æ„å”¤èµ·æ•°æ®ä¸­ä»£è¡¨çš„äººå£çš„å¤šæ ·æ€§ã€‚å°½ç®¡æˆ‘ä»¬æ˜ç¡®é’ˆå¯¹çš„æ˜¯ç¬¬å››ç§å¤šæ ·æ€§é‡‡æ ·ï¼Œæ—¨åœ¨å®ç°äººå£å¤šæ ·æ€§ï¼Œä½†å…¶ä»–ä¸‰ç§ç±»å‹ä¸çœŸå®ä¸–ç•Œçš„å¤šæ ·æ€§ç›¸å…³ã€‚ä½ çš„æœªæ ‡è®°æ•°æ®å¯èƒ½åå‘äºæœ€æœ‰ç‰¹æƒçš„ç¾¤ä½“ï¼šæ¥è‡ªæœ€å¯Œè£•å›½å®¶çš„è¯­è¨€ã€æ¥è‡ªæœ€å¯Œè£•ç»æµä½“çš„å›¾åƒã€ç”±æœ€å¯Œè£•çš„ä¸ªäººåˆ›å»ºçš„è§†é¢‘ï¼Œä»¥åŠå…¶ä»–ç”±æƒåŠ›ä¸å¹³è¡¡äº§ç”Ÿçš„åè§ã€‚å¦‚æœä½ åªåŸºäºéšæœºé‡‡æ ·çš„åŸå§‹æ•°æ®æ„å»ºæ¨¡å‹ï¼Œå¯èƒ½ä¼šæ”¾å¤§è¿™ç§åè§ã€‚ä»»ä½•å¢åŠ ä½ ä¸ºä¸»åŠ¨å­¦ä¹ é‡‡æ ·çš„é¡¹ç›®å¤šæ ·æ€§çš„æ–¹æ³•ï¼Œéƒ½å¯èƒ½å¢åŠ ä»è¿™äº›æ•°æ®æ„å»ºçš„æ¨¡å‹ä¸­å—ç›Šçš„äººçš„å¤šæ ·æ€§ã€‚

å³ä½¿ä½ ä¸åœ¨æ„äººå£ç»Ÿè®¡å­¦ä¸Šçš„åè§ï¼Œä½ å¯èƒ½ä»ç„¶æƒ³è¦å…‹æœæ•°æ®ä¸­çš„æ ·æœ¬åå·®ã€‚å¦‚æœä½ æ­£åœ¨å¤„ç†å†œä¸šå›¾åƒï¼Œå¹¶ä¸”ä½ çš„åŸå§‹æ•°æ®ä¸­æ°å¥½æœ‰ä¸€ç§ä½œç‰©è¿‡åº¦ä»£è¡¨ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªé‡‡æ ·ç­–ç•¥æ¥é‡æ–°å¹³è¡¡æ•°æ®ï¼Œä»¥ä»£è¡¨è®¸å¤šç±»å‹çš„ä½œç‰©ã€‚æ­¤å¤–ï¼Œè¿˜å¯èƒ½å­˜åœ¨ä¸äººç¾¤ç›¸å…³çš„æ›´æ·±å±‚æ¬¡çš„åè§ã€‚å¦‚æœä½ æœ‰ä¸€ç§ä½œç‰©çš„ä¾‹å­æ›´å¤šï¼Œè¿™ç§ä½œç‰©åœ¨å¯Œè£•å›½å®¶æ˜¯å¦æ›´å¸¸è§ï¼Œä½ æ˜¯å¦æœ‰æ›´å¤šçš„ç…§ç‰‡ï¼Œå› ä¸ºå¯Œè£•å›½å®¶çš„æ‹–æ‹‰æœºæ›´æœ‰å¯èƒ½é…å¤‡æ‘„åƒå¤´ï¼Ÿå½“æˆ‘ä»¬æ·±å…¥æŒ–æ˜æ—¶ï¼Œæ•°æ®åå·®å’Œç°å®ä¸–ç•Œåå·®å¾€å¾€å¯†åˆ‡ç›¸å…³ã€‚å›¾ 4.1 é‡å¤äº†ä½ åœ¨ç¬¬ä¸€ç« ä¸­çœ‹åˆ°çš„å¤šæ ·æ€§é‡‡æ ·ç¤ºä¾‹ã€‚

![å›¾ç‰‡](img/CH04_F01_Munro.png)

å›¾ 4.1 å¤šæ ·æ€§é‡‡æ ·ï¼Œå±•ç¤ºäº†è¢«é€‰ä¸­çš„ç”¨äºæ ‡è®°çš„é¡¹ç›®ï¼Œè¿™äº›é¡¹ç›®ä¸ç°æœ‰çš„è®­ç»ƒé¡¹ç›®ä»¥åŠå½¼æ­¤ä¹‹é—´å·®å¼‚æœ€å¤§ã€‚ä½ æƒ³è¦é‡‡æ ·ä¸å½“å‰è®­ç»ƒæ•°æ®ä¸­çš„é¡¹ç›®ä¸åŒï¼Œå¹¶ä¸”å½¼æ­¤ä¹‹é—´ä¹Ÿä¸ç›¸ä¼¼çš„é¡¹ç›®ã€‚

å¯¹äºä¸ç¡®å®šæ€§é‡‡æ ·ï¼Œä½ åªæƒ³çœ‹åˆ°é è¿‘ä½ å½“å‰å†³ç­–è¾¹ç•Œçš„å†…å®¹ï¼Œæˆ–è€…åœ¨ä¸åŒé¢„æµ‹ä¸­å˜åŒ–æœ€å¤§çš„å†…å®¹â€”â€”ä¸€ä¸ªç›¸å¯¹è¾ƒå°ä¸”å®šä¹‰æ˜ç¡®çš„ç‰¹å¾ç©ºé—´ã€‚å¯¹äºå¤šæ ·æ€§é‡‡æ ·ï¼Œä½ æƒ³è¦æ¢ç´¢ç‰¹å¾ç©ºé—´ä¸­æ¯ä¸ªè§’è½çš„æ›´å¤§é—®é¢˜ï¼Œå¹¶å°†å†³ç­–è¾¹ç•Œæ‰©å±•åˆ°è¯¥ç©ºé—´çš„æ–°éƒ¨åˆ†ã€‚ä¸ç”¨è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨çš„ç®—æ³•é›†æ¯”ä¸ç¡®å®šæ€§é‡‡æ ·æ›´ä¸°å¯Œï¼Œæœ‰æ—¶ä¹Ÿæ›´å¤æ‚ã€‚

å¦‚æœä½ åªå…³æ³¨å­¦æœ¯æ•°æ®é›†ï¼Œå¯èƒ½ä¸éœ€è¦æ‹…å¿ƒæ¯ä¸ªæ•°æ®ç‚¹ï¼Œä½†åœ¨çœŸå®ä¸–ç•Œæ•°æ®é›†ä¸­ï¼Œå¤šæ ·æ€§é—®é¢˜æ›´ä¸ºå¸¸è§ã€‚è¯·å‚é˜…ä»¥ä¸‹ä¾§è¾¹æ ï¼Œäº†è§£æ›´å¤šå…³äºçœŸå®ä¸–ç•Œæ•°æ®é›†ä¸å­¦æœ¯æ•°æ®é›†ä¹‹é—´å·®å¼‚çš„ä¿¡æ¯ã€‚

å­¦æœ¯æ•°æ®ä¸çœŸå®ä¸–ç•Œæ•°æ®æ ‡æ³¨ä¹‹é—´çš„å·®å¼‚

*ä¸“å®¶è§‚ç‚¹ï¼Œæ¥è‡ªè´¾è‰*

åœ¨ç°å®ä¸–ç•Œä¸­éƒ¨ç½²æœºå™¨å­¦ä¹ æ¯”å­¦æœ¯ç ”ç©¶è¦å›°éš¾å¾—å¤šï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®ã€‚ç°å®ä¸–ç•Œçš„æ•°æ®æ‚ä¹±æ— ç« ï¼Œå¾€å¾€ç”±äºåˆ¶åº¦éšœç¢è€Œéš¾ä»¥è·å–ã€‚åœ¨å¹²å‡€ã€ä¸å˜çš„æ•°æ®é›†ä¸Šè¿›è¡Œç ”ç©¶æ˜¯å¯ä»¥çš„ï¼Œä½†å½“ä½ å°†è¿™äº›æ¨¡å‹å¸¦å…¥ç°å®ä¸–ç•Œæ—¶ï¼Œå¾ˆéš¾é¢„æµ‹å®ƒä»¬çš„æ€§èƒ½ã€‚

å½“æˆ‘åœ¨å¸®åŠ©æ„å»º ImageNet æ—¶ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒåœ¨ç°å®ä¸–ç•Œä¸­å¯èƒ½é‡åˆ°çš„æ¯ä¸€ä¸ªå¯èƒ½çš„å›¾åƒç±»åˆ«ã€‚æˆ‘ä»¬å¯ä»¥å°†æ•°æ®é™åˆ¶åœ¨ WordNet å±‚æ¬¡ç»“æ„ä¸­æ¦‚å¿µå­é›†çš„å›¾åƒã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰è¿™ç§å¥¢ä¾ˆã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ— æ³•æ”¶é›†å¤§é‡ä¸ç½•è§ç–¾ç—…ç›¸å…³çš„åŒ»å­¦å›¾åƒã€‚è¿™äº›å›¾åƒçš„æ ‡æ³¨è¿˜éœ€è¦é¢†åŸŸä¸“ä¸šçŸ¥è¯†ï¼Œè¿™å¸¦æ¥äº†æ›´å¤šçš„æŒ‘æˆ˜ã€‚ç°å®ä¸–ç•Œç³»ç»Ÿéœ€è¦ AI æŠ€æœ¯ä¸“å®¶å’Œé¢†åŸŸä¸“å®¶ç´§å¯†åˆä½œï¼Œä»¥æ¿€å‘ç ”ç©¶ã€æä¾›æ•°æ®å’Œæ•°æ®åˆ†æï¼Œå¹¶å¼€å‘ç®—æ³•æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚

*æä½³æ˜¯ Dawnlight åŒ»ç–—å…¬å¸çš„é¦–å¸­æ‰§è¡Œå®˜å’Œè”åˆåˆ›å§‹äººï¼Œè¯¥å…¬å¸ä½¿ç”¨æœºå™¨å­¦ä¹ ã€‚å¥¹ä¹‹å‰æ›¾é¢†å¯¼è¿‡ Googleã€Snap å’Œ Yahooï¼çš„ç ”ç©¶éƒ¨é—¨ï¼Œå¹¶åœ¨æ–¯å¦ç¦å¤§å­¦è·å¾—åšå£«å­¦ä½*ã€‚

### 4.1.1 å¤šæ ·æ€§é‡‡æ ·çš„ç¤ºä¾‹æ•°æ®

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†åŸºäºç¬¬äºŒç« ä¸­çš„ç¤ºä¾‹ï¼Œå³ç¾å®³å“åº”ä¿¡æ¯ã€‚å›æƒ³ä¸€ä¸‹ç¬¬äºŒç« ï¼Œæˆ‘ä»¬æƒ³è¦å°†æ–°é—»æ ‡é¢˜æ ‡æ³¨ä¸ºä¸ç¾å®³ç›¸å…³æˆ–ä¸ç›¸å…³ã€‚åœ¨é‚£ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåŸºæœ¬çš„å¼‚å¸¸æ£€æµ‹ç®—æ³•ï¼Œç°åœ¨æˆ‘ä»¬å°†é€šè¿‡æ›´å¤æ‚çš„å¤šæ ·æ€§é‡‡æ ·ç®—æ³•æ¥æ‰©å±•å®ƒã€‚ä»£ç ä½äºä¸ç¬¬äºŒç« ç›¸åŒçš„åº“ä¸­ï¼š[`github.com/rmunro/pytorch_active_learning`](https://github.com/rmunro/pytorch_active_learning)ã€‚æœ¬ç« æˆ‘ä»¬å°†ä½¿ç”¨çš„ä»£ç åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼šdiversity_sampling.py å’Œ active_learning.pyã€‚

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¤šç§å¤šæ ·æ€§é‡‡æ ·ç­–ç•¥ã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹æ•°æ®ï¼Œä½ å¯ä»¥æƒ³è±¡ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹åœ¨ç¾å®³å‘ç”Ÿæ—¶è¿›è¡Œè·Ÿè¸ªï¼Œä»¥åŠåŒºåˆ†ç›®å‡»è€…æŠ¥å‘Šå’ŒäºŒæ‰‹ï¼ˆæˆ–ä¸‰æ‰‹ï¼‰ä¿¡æ¯æ˜¯æœ‰ç”¨çš„ã€‚å¦‚æœä½ æƒ³è¦éƒ¨ç½²è¿™ç§ç³»ç»Ÿæ¥å®æ—¶è·Ÿè¸ªç¾å®³ï¼Œä½ å¸Œæœ›å°½å¯èƒ½æ‹¥æœ‰å¤šæ ·åŒ–çš„è¿‡å»è®­ç»ƒæ•°æ®é¡¹ã€‚ä¾‹å¦‚ï¼Œè¿‡å»è®­ç»ƒæ•°æ®ä¸­å¯èƒ½åªæœ‰ä¸€ä¸¤æ¡å…³äºæ´ªæ°´çš„æ–°é—»æŠ¥é“ï¼Œå¦‚æœä½ éšæœºé€‰æ‹©é¡¹ç›®ä¾›äººç±»æ ‡æ³¨ï¼Œå¾ˆå®¹æ˜“å°±ä¼šé—æ¼ã€‚

ä½ è¿˜å¯ä»¥æƒ³è±¡æ–°çš„ç¾å®³ç±»å‹ï¼Œä¾‹å¦‚å…·æœ‰ä»¥å‰æœªè§‚å¯Ÿåˆ°çš„æ„ŸæŸ“æ¨¡å¼çš„ç–¾ç—…çˆ†å‘ã€‚å¦‚æœäººä»¬ä»¥æ–°çš„æ–¹å¼è°ˆè®ºè¿™äº›æ–°ç¾å®³ï¼Œä½ æƒ³è¦ç¡®ä¿ä½ ä¸ä¼šé”™è¿‡è¿™äº›é¡¹ç›®ï¼Œå¹¶ä¸”è¿™äº›é¡¹ç›®èƒ½å¤Ÿå°½å¿«è·å¾—äººç±»æ ‡æ³¨ã€‚

æœ€åï¼Œä½ å¯èƒ½æƒ³è¦å¼€å§‹æ•´åˆæ–°çš„æ•°æ®æ¥æºã€‚å¦‚æœå…¶ä¸­ä¸€äº›æ–°æ¥æºæ˜¯ç¾å¼è‹±è¯­è€Œä¸æ˜¯è‹±å¼è‹±è¯­ï¼Œæˆ–è€…å®ƒä»¬ä½¿ç”¨ä¸åŒçš„ä¿šè¯­ï¼Œæˆ–è€…å®ƒä»¬ä¸æ˜¯è‹±è¯­ï¼Œé‚£ä¹ˆä½ çš„æ¨¡å‹åœ¨è¿™äº›æ–°çš„ä¿¡æ¯æ¥æºä¸Šå¯èƒ½ä¸ä¼šå‡†ç¡®ã€‚ä½ æƒ³è¦ç¡®ä¿ä½ çš„æ¨¡å‹èƒ½å¤Ÿå°½å¯èƒ½å¿«åœ°é€‚åº”è¿™äº›æ–°çš„æ•°æ®æ¥æºåŠå…¶é£æ ¼å·®å¼‚ï¼Œå› ä¸ºå®ƒæœ¬èº«ä¹Ÿåœ¨é€‚åº”æ–‡æœ¬ä¸­çš„æ–°ç±»å‹ä¿¡æ¯ã€‚

åœ¨æ¯ä¸ªæ­¥éª¤ä¸­å‡å°‘åå·®éƒ½å¾ˆé‡è¦ã€‚å¦‚æœä½ ä½¿ç”¨ä½ çš„æ¨¡å‹é¢„æµ‹æ¥æ‰¾åˆ°æ›´å¤šæ´ªæ°´ç¤ºä¾‹ï¼Œä½†ä½ çš„ç°æœ‰æ¨¡å‹åªæœ‰æ¥è‡ªæ¾³å¤§åˆ©äºšæ´ªæ°´çš„æ•°æ®ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šä»æ¾³å¤§åˆ©äºšè·å¾—æ›´å¤šæ´ªæ°´ç¤ºä¾‹ä¾›äººç±»å®¡æŸ¥ï¼Œè€Œæ¥è‡ªä¸–ç•Œå…¶ä»–åœ°æ–¹çš„ç¤ºä¾‹åˆ™æ²¡æœ‰ï¼Œå› æ­¤ä½ æ°¸è¿œæ— æ³•æ‘†è„±æ¨¡å‹ä¸­çš„åˆå§‹åå·®ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œå¤§å¤šæ•°å¤šæ ·æ€§é‡‡æ ·ç®—æ³•ä¸æˆ‘ä»¬ä½¿ç”¨çš„æ¨¡å‹æ— å…³ã€‚

### 4.1.2 è§£é‡Šç”¨äºå¤šæ ·æ€§é‡‡æ ·çš„ç¥ç»ç½‘ç»œæ¨¡å‹

å¯¹äºæœ¬ç« ä¸­çš„ä¸€äº›é‡‡æ ·ç­–ç•¥ï¼Œæˆ‘ä»¬éœ€è¦æ–°çš„æ–¹æ³•æ¥è§£é‡Šæˆ‘ä»¬çš„æ¨¡å‹ã€‚å¦‚æœä½ è®¿é—®ä½ æœ€ç»ˆå±‚çš„çº¿æ€§æ¿€æ´»å‡½æ•°çš„åŸå§‹è¾“å‡ºè€Œä¸æ˜¯ softmax è¾“å‡ºï¼Œä½ å¯ä»¥æ›´å‡†ç¡®åœ°åˆ†ç¦»çœŸæ­£çš„å¼‚å¸¸å€¼å’Œç”±å†²çªä¿¡æ¯å¯¼è‡´çš„é¡¹ç›®ã€‚åŒ…æ‹¬è´ŸèŒƒå›´çš„æ¿€æ´»å‡½æ•°ï¼Œå¦‚ Leaky ReLUï¼Œæ˜¯ç†æƒ³çš„ï¼›å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°å¾ˆå¤šå½’é›¶çš„åˆ†æ•°ï¼Œæ— æ³•ç¡®å®šå“ªä¸ªæ˜¯æœ€å¤§çš„å¼‚å¸¸å€¼ã€‚

ä½ å°†åœ¨ç¬¬ 4.1.3 èŠ‚ä¸­å­¦ä¹ å¦‚ä½•è®¿é—®å’Œè§£é‡Š PyTorch æ¨¡å‹çš„ä¸åŒå±‚ã€‚ä½†ä½ å¯èƒ½æ— æ³•å¯¹æœ€åä¸€å±‚çš„æ¿€æ´»å‡½æ•°æ¶æ„å‘è¡¨æ„è§ã€‚Softmax å¯èƒ½æ˜¯é¢„æµ‹æ ‡ç­¾æœ€å‡†ç¡®çš„æ¿€æ´»å‡½æ•°ï¼Œå› ä¸ºå®ƒå¯ä»¥å¿½ç•¥å…¶è¾“å…¥çš„ç»å¯¹å€¼ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä»ç„¶èƒ½å¤Ÿè¯´æœä½ çš„ç®—æ³•å›¢é˜Ÿå…¬å¼€å…¶ä»–å±‚ä»¥ä¾›åˆ†æã€‚

å¦‚æœæˆ‘ä¸æ§åˆ¶æˆ‘çš„æ¨¡å‹æ¶æ„æ€ä¹ˆåŠï¼Ÿ

å¦‚æœä½ æ— æ³•å¯¹é¢„æµ‹ç®—æ³•çš„æ¶æ„å‘è¡¨æ„è§ï¼Œä½ å¯èƒ½èƒ½å¤Ÿè¯´æœä½ çš„ç®—æ³•å›¢é˜Ÿå…¬å¼€ logits æˆ–ä»…ä½¿ç”¨ Leaky ReLU æ¿€æ´»å‡½æ•°é‡æ–°è®­ç»ƒæ¨¡å‹çš„æœ€åä¸€å±‚ã€‚é‡æ–°è®­ç»ƒæ¨¡å‹çš„æœ€åä¸€å±‚å°†æ¯”é‡æ–°è®­ç»ƒæ•´ä¸ªæ¨¡å‹å¿«å¾—å¤šã€‚è¿™ç§æ–¹æ³•åº”è¯¥ä¼šå¸å¼•é‚£äº›æ‹…å¿ƒé‡æ–°è®­ç»ƒæˆæœ¬çš„äººï¼šä»–ä»¬é€šè¿‡æ”¯æŒä¸€ä¸ªä¸éœ€è¦é¢å¤–å¤ªå¤šå·¥ä½œçš„æœ‰è¶£å¹¶è¡Œæ¶æ„æ¥æ”¯æŒä¸€ä¸ªæ–°çš„ç”¨ä¾‹ã€‚å¦‚æœä½ ä½¿ç”¨ Transformer æ¨¡å‹ï¼ŒåŒæ ·çš„æ¦‚å¿µä¹Ÿé€‚ç”¨ï¼Œä½†ä½ å°†è®­ç»ƒä¸€ä¸ªæ–°çš„æ³¨æ„åŠ›å¤´ã€‚ï¼ˆå¦‚æœä½ ä¸ç†Ÿæ‚‰ Transformer æ¨¡å‹ï¼Œä¸ç”¨æ‹…å¿ƒï¼›å®ƒä»¬å¯¹æœ¬ç« æ¥è¯´å¹¶ä¸é‡è¦ã€‚ï¼‰

å¦‚æœä½ é‡åˆ°å¯¹é‡æ–°è®­ç»ƒæœ€åä¸€å±‚æƒ³æ³•çš„é˜»åŠ›ï¼Œæˆ–è€…å¦‚æœå­˜åœ¨æŠ€æœ¯éšœç¢ï¼Œä½ çš„ä¸‹ä¸€ä¸ªæœ€ä½³é€‰æ‹©æ˜¯ä½¿ç”¨æ¨¡å‹çš„å€’æ•°ç¬¬äºŒå±‚ã€‚æ— è®ºå¦‚ä½•ï¼Œæ¯”è¾ƒæ¨¡å‹ä¸åŒå±‚çš„å¼‚å¸¸å€¼é‡‡æ ·æ–¹æ³•ï¼Œçœ‹çœ‹å“ªç§æ–¹æ³•æœ€é€‚åˆä½ çš„ç‰¹å®šæ•°æ®å’Œæ¨¡å‹æ¶æ„ï¼Œå¯èƒ½ä¼šå¾ˆæœ‰è¶£ã€‚è¿™ç±»æ¨¡å‹åˆ†ææ˜¯å½“ä»Šæœºå™¨å­¦ä¹ ç ”ç©¶ä¸­æœ€æ¿€åŠ¨äººå¿ƒçš„é¢†åŸŸä¹‹ä¸€ï¼ŒåŒæ—¶ä¹Ÿå…è®¸è¿ç§»å­¦ä¹ ï¼Œè¿™åœ¨å³å°†åˆ°æ¥çš„ç« èŠ‚ä¸­çš„æŠ€æœ¯ä¸­å¾—åˆ°äº†åº”ç”¨ã€‚

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†é™åˆ¶è‡ªå·±ä½¿ç”¨ç®€å•ä½†æœ‰æ•ˆçš„æ–¹å¼æ¥è§£é‡Šä½ çš„æ¨¡å‹ã€‚å›¾ 4.2 ä¸­çš„ä¸¤ç§åœºæ™¯è§£é‡Šäº†æœ€åä¸€å±‚æˆ–å€’æ•°ç¬¬äºŒå±‚ã€‚

ç¬¬äºŒç§æ–¹æ³•ï¼Œä½¿ç”¨å€’æ•°ç¬¬äºŒå±‚ï¼Œåœ¨æ›´æ·±å±‚çš„ç½‘ç»œä¸­æ•ˆæœæœ€å¥½ï¼Œå…¶ä¸­å€’æ•°ç¬¬äºŒå±‚æ›´æ¥è¿‘æœ€åä¸€å±‚ï¼Œå¹¶ä¸”è¯¥å±‚ä¸­çš„ç¥ç»å…ƒæ›´å°‘ã€‚æ›´å¤šçš„ç¥ç»å…ƒä¼šå¼•å…¥æ›´å¤šçš„éšæœºå˜å¼‚æ€§ï¼Œè¿™åœ¨ç»Ÿè®¡ä¸Šå¯èƒ½æ›´éš¾å…‹æœã€‚

æ— è®ºä½ ä½¿ç”¨å“ªç§æ¶æ„ï¼Œä½ éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªè¡¨ç¤ºä½ çš„é¢„æµ‹æ¨¡å‹è¾“å‡ºå¤„/é™„è¿‘çš„æ¿€æ´»æ°´å¹³çš„æ•°å­—é›†åˆï¼ˆå‘é‡/å¼ é‡ï¼‰ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸¤ä¸ªå‘é‡éƒ½ç§°ä¸º *z*ï¼Œå°½ç®¡ z é€šå¸¸ä»…ä¿ç•™è¡¨ç¤ºæœ€åä¸€å±‚çš„ logitsã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨ *n* æ¥è¡¨ç¤ºè¯¥å‘é‡çš„å¤§å°ï¼ˆç¥ç»å…ƒçš„æ•°é‡ï¼‰ï¼Œæ— è®ºå®ƒæ˜¯å¦æ°å¥½æ˜¯æœ€åä¸€å±‚ï¼Œå› æ­¤ä¹Ÿæ˜¯æ ‡ç­¾çš„æ•°é‡æˆ–ä¸­é—´å±‚ã€‚

*ä½æ¿€æ´»*æ„å‘³ç€è¿™ä¸ªé¡¹ç›®æ›´æœ‰å¯èƒ½æ˜¯å¼‚å¸¸å€¼ã€‚ä»æ•°å­¦ä¸Šè®²ï¼Œå¼‚å¸¸å€¼å¯ä»¥æ˜¯ä»»ä½•ä¸å¯»å¸¸çš„å‘é‡ï¼Œå¯èƒ½æ˜¯å¼‚å¸¸é«˜æˆ–å¼‚å¸¸ä½ã€‚ä½†å½“æˆ‘ä»¬è§£é‡Šæ¨¡å‹é¢„æµ‹ä»¥å¯»æ‰¾å¼‚å¸¸å€¼æ—¶ï¼Œæˆ‘ä»¬åªå…³æ³¨ä½æ¿€æ´»é¡¹â€”â€”å³æ¨¡å‹ä»Šå¤©å…³äºè¿™äº›é¡¹ç›®ä¿¡æ¯å¾ˆå°‘çš„é¡¹ã€‚

![å›¾ç‰‡](img/CH04_F02_Munro.png)

å›¾ 4.2 ä¸¤ç§ç¥ç»ç½‘ç»œæ¶æ„ä»¥åŠå¦‚ä½•è§£é‡Šå®ƒä»¬è¿›è¡Œå¼‚å¸¸å€¼æ£€æµ‹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨æ¨¡å‹å¾—åˆ†ï¼ˆç§°ä¸º z æˆ– logitsï¼‰ï¼Œåœ¨å®ƒä»¬é€šè¿‡ softmax å½’ä¸€åŒ–ä¹‹å‰ä¿ç•™å®ƒä»¬çš„ç»å¯¹å€¼ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œç”±äº softmax å‡½æ•°ï¼Œä½ åœ¨æœ€ç»ˆå±‚å¤±å»äº†ç»å¯¹å€¼ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨å€’æ•°ç¬¬äºŒå±‚çš„æ¿€æ´»æ¥ç¡®å®šä¸€ä¸ªé¡¹ç›®æ˜¯å¦æ˜¯å¼‚å¸¸å€¼ã€‚

### 4.1.3 ä» PyTorch çš„éšè—å±‚è·å–ä¿¡æ¯

è¦è·å–æ¨¡å‹éšè—å±‚ä¸­å€¼çš„ z å€¼ï¼ˆlogitsï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è®¿é—®è¿™äº›ä¿¡æ¯ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨ PyTorch ä¸­ï¼Œä»£ç å¾ˆç®€å•ã€‚é¦–å…ˆï¼Œä½œä¸ºæé†’ï¼Œä»¥ä¸‹æ˜¯ä½ åœ¨ç¬¬äºŒç« ä¸­ç”¨äºè®­ç»ƒä¸­çš„å‰é¦ˆæ­¥éª¤ä»¥åŠç”Ÿæˆæ¨ç†ä¸­çš„ç½®ä¿¡åº¦å’Œæ ‡ç­¾é¢„æµ‹çš„ä»£ç ï¼š

```
    def forward(self, feature_vec):
        # Define how data is passed through the model

        hidden1 = self.linear1(feature_vec).clamp(min=0) # ReLU
        output = self.linear2(hidden1)
        return F.log_softmax(output, dim=1)
```

æ‚¨å¯ä»¥çœ‹åˆ°ä¸­é—´å±‚å’Œè¾“å‡ºæ˜¯å˜é‡ï¼ˆ`hidden1` å’Œ `output`ï¼‰ï¼Œå®ƒä»¬ä¿å­˜äº†æ¯ä¸€å±‚çš„æ¿€æ´»ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ PyTorch å¼ é‡ï¼Œå®ƒä»¬å°†æ˜¯ 1D æ•°ç»„ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ·»åŠ ä¸€ä¸ªå‚æ•°æ¥è¿”å›æ‰€æœ‰å±‚ï¼Œå¹¶ç›¸åº”åœ°ä¿®æ”¹ä»£ç ã€‚

åˆ—è¡¨ 4.1 å…è®¸æˆ‘ä»¬çš„æ¨¡å‹è¿”å›é™¤äº† softmax å€¼ä¹‹å¤–çš„æ‰€æœ‰éšè—å±‚

```
    def forward(self, feature_vec, return_all_layers=False):
        # Define how data is passed through the model and what is returned

        hidden1 = self.linear1(feature_vec).clamp(min=0) # ReLU
        output = self.linear2(hidden1)
        log_softmax = F.log_softmax(output, dim=1)      â¶

        if return_all_layers:
            return [hidden1, output, log_softmax]       â·
        else:
            return log_softmax
```

â¶ ä¸è¿”å›å‡½æ•°ç›¸åŒï¼Œä½†è¢«æå–åˆ°ä¸€ä¸ªå˜é‡ä¸­

â· å½“ return_all_layers=True æ—¶ï¼Œå”¯ä¸€çš„çœŸæ­£æ–°è¡Œæ˜¯è¿”å›æ‰€æœ‰å±‚

å°±è¿™äº›äº†ï¼æ‚¨å°†åœ¨ active_learning.py ä¸­çœ‹åˆ°è¿™ä¸ªä¿®æ”¹åçš„ä»£ç ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å‹çš„ä»»ä½•éƒ¨åˆ†æ¥æ‰¾åˆ°æ¨¡å‹å†…çš„å¼‚å¸¸å€¼ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰å…¶ä»–æ–¹æ³•æ¥æŸ¥è¯¢æ¨¡å‹éšè—å±‚ã€‚Â¹ æˆ‘æ›´å–œæ¬¢åœ¨æ¨ç†å‡½æ•°ä¸­æ˜¾å¼ç¼–ç é€‰é¡¹ï¼Œå°±åƒåœ¨ `forward()` å‡½æ•°ä¸­ä¸€æ ·ã€‚æˆ‘ä»¬å°†åœ¨æœªæ¥çš„ç« èŠ‚ä¸­ä»¥å¤šç§æ–¹å¼æŸ¥è¯¢æˆ‘ä»¬çš„æ¨¡å‹ï¼Œè¿™ç§æ–¹æ³•ä½¿å¾—æ„å»ºæœ€ç®€å•çš„ä»£ç å˜å¾—ç®€å•ã€‚

ä¸»åŠ¨å­¦ä¹ çš„è‰¯å¥½ç¼–ç å®è·µ

ä½œä¸ºè‰¯å¥½ç¼–ç å®è·µçš„è¯´æ˜ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°† `forward()` å‡½æ•°ä¸­çš„ `return log_softmax` è¡Œæ›´æ”¹ä¸ºä¹Ÿè¿”å›ä¸€ä¸ªæ•°ç»„ï¼š`return [log_softmax]`ã€‚è¿™æ ·ï¼Œæ— è®ºä¼ é€’ç»™å‡½æ•°ä»€ä¹ˆå‚æ•°ï¼Œå‡½æ•°éƒ½è¿”å›ç›¸åŒçš„æ•°æ®ç±»å‹ï¼ˆä¸€ä¸ªæ•°ç»„ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›´å¥½çš„è½¯ä»¶å¼€å‘å®è·µã€‚ç¼ºç‚¹æ˜¯å®ƒä¸å…·æœ‰å‘åå…¼å®¹æ€§ï¼Œå› æ­¤æ‚¨å¿…é¡»æ›´æ”¹è°ƒç”¨è¯¥å‡½æ•°çš„æ¯ä¸€å—ä»£ç ã€‚å¦‚æœæ‚¨æ˜¯ç»éªŒä¸°å¯Œçš„ PyTorch ç”¨æˆ·ï¼Œæ‚¨å¯èƒ½ä¹ æƒ¯äºä½¿ç”¨å‡½æ•°ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½çŸ¥é“å®ƒå¤„äºè®­ç»ƒæ¨¡å¼æˆ–è¯„ä¼°æ¨¡å¼ã€‚è¿™ä¸ªåŠŸèƒ½å¯¹äºä¸€äº›å¸¸è§çš„æœºå™¨å­¦ä¹ ç­–ç•¥å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨è®­ç»ƒæ—¶å±è”½ç¥ç»å…ƒä½†é¢„æµ‹æ—¶ä¸å±è”½ã€‚ä½†è¯·æŠµåˆ¶åœ¨è¿™é‡Œä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„è¯±æƒ‘ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸è‰¯çš„è½¯ä»¶å¼€å‘ï¼Œå› ä¸ºå…¨å±€å˜é‡ä½¿å¾—ç¼–å†™å•å…ƒæµ‹è¯•æ›´åŠ å›°éš¾ï¼Œå¹¶ä¸”ä¼šä½¿æ‚¨çš„ä»£ç åœ¨ç‹¬ç«‹é˜…è¯»æ—¶æ›´éš¾ä»¥ç†è§£ã€‚ä½¿ç”¨å‘½åå‚æ•°ï¼Œå¦‚ `return_all_layers=True/False`ï¼›æ‚¨å¸Œæœ›ä»¥æœ€é€æ˜çš„æ–¹å¼æ‰©å±•ä»£ç ã€‚

é€šè¿‡æ·»åŠ ä»£ç ä»¥è®¿é—®æ¨¡å‹çš„æ‰€æœ‰å±‚è¿›è¡Œæ¨ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥ä»£ç æ¥ç¡®å®šå¼‚å¸¸å€¼ã€‚å›æƒ³ä¸€ä¸‹ï¼Œåœ¨ç¬¬äºŒç« ä¸­ï¼Œæ‚¨ä½¿ç”¨ä»¥ä¸‹è¡Œä»æ‚¨çš„æ¨¡å‹ä¸­è·å–äº†å¯¹æ•°æ¦‚ç‡ï¼š

```
log_probs = model(feature_vec)
```

ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨å‡½æ•°å¹¶ä½¿ç”¨ä»¥ä¸‹è¡Œæ¥é€‰æ‹©æ‚¨æƒ³è¦ä½¿ç”¨çš„æ¨¡å‹å±‚ï¼š

```
hidden, logits, log_probs = model(feature_vector, return_all_layers=True)
```

æ‚¨æœ‰éšè—å±‚ã€logitsï¼ˆzï¼‰å’Œæ¨¡å‹ç‰©å“çš„å¯¹æ•°æ¦‚ç‡ã€‚

å›æƒ³ç¬¬ä¸‰ç« å’Œé™„å½•ï¼Œæˆ‘ä»¬çš„ logitsï¼ˆæ¥è‡ªæœ€åä¸€å±‚çš„åˆ†æ•°ï¼‰åœ¨é€šè¿‡ softmax è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒæ—¶å¤±å»äº†å®ƒä»¬çš„ç»å¯¹å€¼ã€‚å›¾ 4.3 é‡æ–°ç”Ÿæˆäº†é™„å½•ä¸­ softmax æ‰©å±•éƒ¨åˆ†çš„ä¸€äº›ç¤ºä¾‹ã€‚

![](img/CH04_F03_Munro.png)

å›¾ 4.3 é€šè¿‡ softmaxï¼ˆä»¥ e ä¸ºåº•ï¼‰ä»ä¸åŒè¾“å…¥ä¸­å¯¼å‡ºçš„å››ä¸ªç›¸åŒçš„æ¦‚ç‡åˆ†å¸ƒ

å› æ­¤ï¼Œæˆ‘ä»¬çš„æ¦‚ç‡åˆ†å¸ƒå¹¶ä¸èƒ½å‘Šè¯‰æˆ‘ä»¬ä¸ç¡®å®šæ€§ä¹‹é—´çš„åŒºåˆ«ï¼Œè¿™ç§ä¸ç¡®å®šæ€§æºäºä¿¡æ¯ä¸è¶³ï¼ˆå¦‚å›¾ 4.3 å·¦ä¾‹æ‰€ç¤ºï¼‰å’Œç”±äºå†²çªä½†é«˜åº¦è‡ªä¿¡çš„ä¿¡æ¯ï¼ˆå¦‚å›¾ 4.3 å³ä¾‹æ‰€ç¤ºï¼‰ã€‚å› æ­¤ï¼Œä½¿ç”¨ logitsï¼ˆæœ€åä¸€å±‚çš„åˆ†æ•°ï¼‰æ¥åŒºåˆ†è¿™ä¸¤ç§ç±»å‹çš„ä¸ç¡®å®šæ€§ä¼šæ›´å¥½ã€‚

é™¤äº†ä¸ç¡®å®šæ€§ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰¾åˆ°é‚£äº›ç¡®å®šä½†é”™è¯¯çš„å¼‚å¸¸å€¼ã€‚æœ€å€¼å¾—æ ‡è®°çš„æ— æ ‡ç­¾é¡¹ç›®æ˜¯é‚£äº›é¢„æµ‹é”™è¯¯ä¸”è¿œç¦»å†³ç­–è¾¹ç•Œçš„é¡¹ç›®â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰æ¨¡å‹è‡ªä¿¡ä½†é”™è¯¯åœ°é¢„æµ‹çš„é¡¹ç›®ã€‚æ‰€æœ‰ç¥ç»å…ƒä½æ¿€æ´»é€šå¸¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¿¡å·ï¼Œè¡¨æ˜è¿˜æ²¡æœ‰è¶³å¤Ÿå¤šçš„è®­ç»ƒæ•°æ®åŒ…å«åœ¨è¯¥é¡¹ç›®ä¸­çš„ç‰¹å¾ã€‚

## 4.2 åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·

ç°åœ¨æˆ‘ä»¬èƒ½å¤Ÿè§£é‡Šæˆ‘ä»¬çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢æ¨¡å‹ä»¥æ‰¾åˆ°å¼‚å¸¸å€¼ã€‚åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œ*æ¨¡å‹å¼‚å¸¸å€¼*è¢«å®šä¹‰ä¸ºç»™å®šå±‚ä¸­æ¿€æ´»æœ€ä½çš„é¡¹ç›®ã€‚å¯¹äºæˆ‘ä»¬çš„æœ€åä¸€å±‚ï¼Œè¿™ç§æ¿€æ´»å°±æ˜¯ logitsã€‚

é€‰æ‹©ç”¨äºç¡®å®šå¼‚å¸¸å€¼çš„æ­£ç¡®æŒ‡æ ‡çš„æœ€å¤§éšœç¢æ˜¯äº†è§£ä½ ç¥ç»å…ƒå€¼çš„åˆ†å¸ƒã€‚ä½ åœ¨é«˜ä¸­æ—¶è¢«æ•™å¯¼ï¼Œä»»ä½•å¤§äºå¹³å‡æ•°ä¸‰ä¸ªæ ‡å‡†å·®çš„æ•°æ®ç‚¹éƒ½æ˜¯å¼‚å¸¸å€¼ï¼Œä½†è¿™åªé€‚ç”¨äºæ­£æ€åˆ†å¸ƒã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„çº¿æ€§æ¿€æ´»å‡½æ•°å¹¶æ²¡æœ‰åˆ›å»ºæ­£æ€åˆ†å¸ƒï¼šå¦‚æœå®ƒä»¬å‡†ç¡®æ¨¡æ‹Ÿä½ çš„ä»»åŠ¡ï¼Œå®ƒä»¬åº”è¯¥æ˜¯åŒå³°åˆ†å¸ƒçš„ã€‚å¦‚æœä½ è¿‡å»è°ƒæŸ¥è¿‡æ¨¡å‹ï¼Œä½ ä¹Ÿä¼šçŸ¥é“ä¸€äº›ç¥ç»å…ƒå¯èƒ½æ˜¯åœ¨æ¨¡æ‹Ÿå™ªå£°æˆ–ç®€å•é€šè¿‡å€¼ï¼Œå³ä½¿åœ¨ç›¸åŒçš„æ•°æ®ä¸Šè®­ç»ƒæ¨¡å‹ä¸¤æ¬¡ï¼Œå®ƒä»¬ä¹Ÿå¯èƒ½å˜åŒ–ã€‚æ­¤å¤–ï¼Œé™¤éä½ æœ‰ç®€å•çš„æ¶æ„ï¼Œå¦åˆ™ä½ ç½‘ç»œçš„å„ä¸ªéƒ¨åˆ†å°†å…·æœ‰ä¸åŒçš„æ¿€æ´»å‡½æ•°ï¼Œå› æ­¤å®ƒä»¬å°†æ— æ³•ç›´æ¥æ¯”è¾ƒã€‚

æ­£å¦‚æˆ‘ä»¬ä¸èƒ½ç›¸ä¿¡ä¸ç¡®å®šæ€§é‡‡æ ·çš„ç½®ä¿¡åº¦çš„ç»å¯¹å€¼ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½ç›¸ä¿¡æˆ‘ä»¬ç¥ç»å…ƒçš„ç»å¯¹å€¼æ¥ç¡®å®šå¼‚å¸¸å€¼ã€‚ä½†å°±åƒæˆ‘ä»¬å¯ä»¥ç›¸ä¿¡æ’åé¡ºåºçš„ç½®ä¿¡åº¦æ¥æ‰¾åˆ°æœ€ä¸ç¡®å®šçš„é¢„æµ‹ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›¸ä¿¡ç¥ç»å…ƒæ¿€æ´»çš„æ’åé¡ºåºæ¥æ‰¾åˆ°æœ€ä¸æ´»è·ƒçš„ã€‚æ’åé¡ºåºæ˜¯ä¸€ç§ç¨³å¥çš„æ–¹æ³•ï¼Œå®ƒè®©æˆ‘ä»¬é¿å…ç¡®å®šæ¯ä¸ªç¥ç»å…ƒä¸­æ¿€æ´»çš„å®é™…åˆ†å¸ƒã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç”¨äºç¡®å®šæŸä¸ªé¡¹ç›®æ˜¯å¼‚å¸¸å€¼åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚å‡è®¾æˆ‘ä»¬å¯¹ 10 ä¸ªé¡¹ç›®è¿›è¡Œäº†é¢„æµ‹ï¼Œå¹¶ä¸”è¿™äº›é¢„æµ‹æ˜¯ç”±ä¸€ä¸ªç¥ç»å…ƒäº§ç”Ÿçš„ï¼ŒæŒ‰ä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—ï¼ˆæ’åï¼‰ï¼š

```
[2.43, 2.23, 1.74, 1.12, 0.89, 0.44, 0.23, -0.34, -0.36, -0.42]
```

æ¿€æ´»å€¼ä¸º-0.36ï¼ˆä¸‹åˆ’çº¿ï¼‰çš„é¡¹ç›®æ˜¯ 10 ä¸ªé¡¹ç›®ä¸­çš„ç¬¬ä¹ä½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç»™å®ƒä¸€ä¸ªå¼‚å¸¸å€¼åˆ†æ•°ä¸º 9/10 = 0.9ã€‚åœ¨åˆ»åº¦çš„ä¸¤ç«¯ï¼Œæ¿€æ´»å€¼ä¸º-0.42 çš„é¡¹ç›®å°†å¾—åˆ° 1.0 çš„åˆ†æ•°ï¼Œè€Œæ¿€æ´»å€¼ä¸º 2.43 çš„é¡¹ç›®å°†å¾—åˆ° 0 çš„åˆ†æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªç¥ç»å…ƒçš„è¿™ç§æ¿€æ´»æ’åé¡ºåºè½¬æ¢ä¸ºåˆ»åº¦ã€‚é‚£ä¹ˆï¼Œé—®é¢˜æ˜¯ä»€ä¹ˆæ•°æ®ç”¨äºç”Ÿæˆæ’åã€‚

### 4.2.1 ä½¿ç”¨éªŒè¯æ•°æ®å¯¹æ¿€æ´»è¿›è¡Œæ’å

æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨è®­ç»ƒæ•°æ®æ¥æ’åï¼Œå› ä¸ºæ¨¡å‹å·²ç»åœ¨è¿™ä¸ªæ•°æ®ä¸Šè¿›è¡Œäº†è®­ç»ƒï¼Œä¸€äº›ç¥ç»å…ƒå¯èƒ½æ¯”å…¶ä»–ç¥ç»å…ƒæ›´å¤šåœ°è¿‡åº¦æ‹Ÿåˆäº†è¿™äº›æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®å…·æœ‰ç›¸åŒåˆ†å¸ƒçš„æ•°æ®ã€‚ä»å®ç°çš„è§’åº¦æ¥çœ‹ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«ï¼šæˆ‘ä»¬åªæ˜¯åœ¨éªŒè¯æ•°æ®ä¸Šè®¡ç®—æ’åï¼Œç„¶åä½¿ç”¨è¿™ä¸ªæ’åæ¥è·å–æˆ‘ä»¬æœªæ ‡è®°æ•°æ®çš„å¼‚å¸¸å€¼åˆ†æ•°ï¼Œæ­£å¦‚ä½ å°†åœ¨æœ¬èŠ‚ä¸­çœ‹åˆ°çš„é‚£æ ·ã€‚

ä¸»è¦çš„åŒºåˆ«æ˜¯æˆ‘ä»¬å°†è·å¾—æ’åä¸­ä¸¤ä¸ªå€¼ä¹‹é—´çš„æœªæ ‡è®°æ•°æ®å€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®€å•çš„çº¿æ€§æ’å€¼æ¥è®¡ç®—è¿™äº›å€¼ã€‚å‡è®¾æˆ‘ä»¬çš„éªŒè¯æ•°æ®åªåŒ…å« 10 ä¸ªé¡¹ç›®ï¼Œæ°å¥½ä¸ç¬¬ 4.2 èŠ‚ä¸­çš„ç›¸åŒï¼š

```
[2.43, 2.23, 1.74, 1.12, 0.89, 0.44, 0.23, -0.34,(-0.35) -0.36, -0.42]
```

ç°åœ¨æƒ³è±¡ä¸€ä¸ªæœªæ ‡è®°çš„é¡¹ç›®ï¼Œå…¶å€¼ä¸º-0.35ï¼ˆé«˜äºå…¶åœ¨æ’åä¸­çš„ä½ç½®ï¼‰ã€‚è¿™ä¸ªå€¼ä½äºç¬¬å…«å’Œç¬¬ä¹ä½å€¼é¡¹ç›®ä¹‹é—´çš„ä¸€åŠï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç»™è¿™ä¸ªé¡¹ç›®ä¸€ä¸ªå¼‚å¸¸å€¼åˆ†æ•°ä¸º 8.5/10 = 85%ã€‚åŒæ ·ï¼Œå¦‚æœæœªæ ‡è®°çš„é¡¹ç›®å€¼ä¸º-0.355ï¼Œè¿™æ˜¯ç¬¬å…«å’Œç¬¬ä¹é¡¹ç›®ä¹‹é—´è·ç¦»çš„ä¸‰åˆ†ä¹‹å››ï¼Œåˆ†æ•°å°†æ˜¯ 87.5%ã€‚æˆ‘ä»¬å°†é«˜äºç¬¬ä¸€ä¸ªé¡¹ç›®çš„å€¼è§†ä¸º 1ï¼Œä½äºæœ€åä¸€ä¸ªé¡¹ç›®çš„å€¼è§†ä¸º 0ï¼Œè¿™ç»™æˆ‘ä»¬ä¸€ä¸ª[0â€“1]çš„èŒƒå›´ï¼Œå…¶ä¸­æœ€å¤§çš„å¼‚å¸¸å€¼åˆ†æ•°ä¸º 100%ã€‚

æœ‰ä¸åŒçš„æ–¹æ³•æ¥ç»„åˆæ¯ä¸ªé¡¹ç›®çš„ç¥ç»å…ƒä¹‹é—´çš„åˆ†æ•°ã€‚ä»ç»Ÿè®¡å­¦çš„è§’åº¦æ¥çœ‹ï¼Œæœ€å®‰å…¨çš„æ–¹æ³•æ˜¯å–æ¯ä¸ªé¡¹ç›®æ‰€æœ‰ç¥ç»å…ƒçš„å¹³å‡æ¿€æ´»å€¼ã€‚ç‰¹åˆ«æ˜¯å¦‚æœä½ ä½¿ç”¨çš„æ˜¯éšè—å±‚ä¹‹ä¸€çš„æ¿€æ´»å€¼ï¼Œä½ å¯èƒ½æœ‰ä¸€äº›ç¥ç»å…ƒå®é™…ä¸Šåœ¨è¾“å‡ºéšæœºå€¼ï¼Œå› æ­¤äº§ç”Ÿäº†è™šå‡çš„æœ€é«˜å€¼ï¼Œè¿™æœ¬æ¥å¯èƒ½æ˜¯ä¸€ä¸ªå¼‚å¸¸å€¼ã€‚ä½ çš„ logits å¯¹äºæ¯ä¸ªå€¼æ¥è¯´æ›´æœ‰å¯èƒ½æ˜¯å¯é çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥å°è¯• logits çš„æœ€å°ç½®ä¿¡åº¦ï¼šæ‰€æœ‰ç¥ç»å…ƒä¸­çš„æœ€ä½æœ€å¤§åˆ†æ•°ã€‚ä¸ºäº†æŸ¥çœ‹åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·çš„ç»“æœï¼Œè¯·è¿è¡Œ

```
> python active_learning.py --model_outliers=95
```

å¦‚åŒç¬¬äºŒç« æ‰€è¿°ï¼Œä»£ç å°†é€‰æ‹©è¿™ç§é‡‡æ ·ç­–ç•¥ï¼Œå¹¶ä¸ºä½ é€‰æ‹© 95 ä¸ªæœªæ ‡è®°çš„é¡¹ç›®è¿›è¡Œæ ‡æ³¨ï¼Œä»¥åŠä»å‰©ä½™æœªæ ‡è®°çš„é¡¹ç›®ä¸­éšæœºé€‰æ‹©çš„ 5 ä¸ªé¡¹ç›®ã€‚å¦‚åŒç¬¬äºŒç« æ‰€è¿°ï¼Œä½ æ€»æ˜¯å¸Œæœ›åŒ…å«å°‘é‡éšæœºé¡¹ç›®ä½œä¸ºå®‰å…¨ç½‘ã€‚å¦‚æœä½ ä¸æƒ³è¯„ä¼°ä»»ä½•éšæœºé¡¹ç›®ï¼Œå¯ä»¥æ·»åŠ `random=0`é€‰é¡¹ï¼š

```
> python active_learning.py --model_outliers=95 --random_remaining=0
```

æ‚¨å¯ä»¥å°è¯•è°ƒæ•´å…¶ä»–æ•°å­—ï¼Œçœ‹çœ‹å’Œ/æˆ–æ³¨é‡Šå¤šäºæˆ–å°‘äº 95 çš„ç»“æœã€‚å¦‚æœæ‚¨è·³è¿‡äº†ç¬¬äºŒç« ï¼Œæ‚¨å°†é¦–å…ˆè¢«è¦æ±‚æ³¨é‡Šä¸€ä¸ªçº¯éšæœºæ ·æœ¬ï¼Œç›´åˆ°æ‚¨æœ‰è¶³å¤Ÿçš„åˆå§‹è®­ç»ƒå’Œæµ‹è¯•é€‰é¡¹ã€‚è¿™æ¬¡æ³¨é‡Šçš„æ—¶é—´å¯¹äºè¯„ä¼°å‡†ç¡®æ€§å’Œç†è§£æ•°æ®éå¸¸é‡è¦ï¼Œæ‰€ä»¥å¦‚æœæ‚¨ä¹‹å‰æ²¡æœ‰åšè¿‡ï¼Œè¯·ç°åœ¨å°±åšè¿™äº›æ³¨é‡Šï¼

è®¡ç®—æ’åæ¨¡å‹å¼‚å¸¸åˆ†æ•°çš„ä»£ç è¢«æ‹†åˆ†ä¸ºå››ä¸ªä»£ç å—ã€‚æ¨¡å‹å¼‚å¸¸å‡½æ•°æ¥å—å½“å‰æ¨¡å‹ã€æœªæ ‡è®°æ•°æ®å’Œä»ä¸è®­ç»ƒæ•°æ®ç›¸åŒåˆ†å¸ƒä¸­æå–çš„ä¿ç•™éªŒè¯æ•°æ®ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ä¿ç•™çš„éªŒè¯æ•°æ®ä¸Šåˆ›å»ºæ’åï¼Œæ‚¨å¯ä»¥åœ¨ diversity_ sampling.py ä¸­çœ‹åˆ°è¿™äº›ã€‚

åˆ—è¡¨ 4.2 ä½¿ç”¨éªŒè¯æ•°æ®è·å–æ¿€æ´»æ’å

```
def get_validation_rankings(self, model, validation_data, feature_method):
    """ Get activation rankings using validation data

    Keyword arguments:
        model -- current machine learning model for this task
        validation_data -- held out data drawn from the same distribution as 
        â¥ the training data
        feature_method -- the method to create features from the raw text

    An outlier is defined as 
    unlabeled_data with the lowest average from rank order of logits
    where rank order is defined by validation data inference 

    """

    validation_rankings = [] # 2D array, every neuron by ordered list of 
    â¥ output on validation data per neuron    

    # Get per-neuron scores from validation data
    if self.verbose:
        print("Getting neuron activation scores from validation data")

    with torch.no_grad():
        v=0
        for item in validation_data:
            textid = item[0]
            text = item[1]

            feature_vector = feature_method(text)
            hidden, logits, log_probs = model(feature_vector, 
            â¥ return_all_layers=True)                            â¶

            neuron_outputs = logits.data.tolist()[0] #logits

            # initialize array if we haven't yet
            if len(validation_rankings) == 0:
                for output in neuron_outputs:
                    validation_rankings.append([0.0] * len(validation_data))

            n=0
            for output in neuron_outputs:
                validation_rankings[n][v] = output                â·
                n += 1

            v += 1

    # Rank-order the validation scores 
    v=0
    for validation in validation_rankings:
        validation.sort()                                         â¸
        validation_rankings[v] = validation
        v += 1

    return validation_rankings   
```

â¶ æˆ‘ä»¬åœ¨è¿™é‡Œè·å–æ‰€æœ‰æ¨¡å‹å±‚çš„æˆæœã€‚

â· æˆ‘ä»¬å­˜å‚¨æ¯ä¸ªéªŒè¯é¡¹å’Œæ¯ä¸ªç¥ç»å…ƒçš„å¯¹æ•°åˆ†æ•°ã€‚

â¸ æ ¹æ®ä¿ç•™éªŒè¯æ•°æ®ä¸­çš„åˆ†æ•°å¯¹æ¯ä¸ªç¥ç»å…ƒè¿›è¡Œæ’åé¡ºåºã€‚

åœ¨ç¬¬äºŒæ­¥ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®æ¯ä¸ªç¥ç»å…ƒå¯¹æ¯ä¸ªæœªæ ‡è®°çš„æ•°æ®é¡¹è¿›è¡Œæ’åºã€‚

åˆ—è¡¨ 4.3 PyTorch ä¸­åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼ä»£ç 

```
    def get_model_outliers(self, model, unlabeled_data, validation_data, 
    â¥ feature_method, number=5, limit=10000):
        """Get model outliers from unlabeled data 

        Keyword arguments:
            model -- current machine learning model for this task
            unlabeled_data -- data that does not yet have a label
            validation_data -- held out data drawn from the same distribution 
            â¥ as the training data
            feature_method -- the method to create features from the raw text
            number -- number of items to sample
            limit -- sample from only this many items for faster sampling 
            â¥ (-1 = no limit)

        An outlier is defined as 
        unlabeled_data with the lowest average from rank order of logits
        where rank order is defined by validation data inference 

        """

        # Get per-neuron scores from validation data
        validation_rankings = self.get_validation_rankings(model, 
        â¥ validation_data, feature_method)                                 â¶

        # Iterate over unlabeled items
        if self.verbose:
            print("Getting rankings for unlabeled data")

        outliers = []
        if limit == -1 and len(unlabeled_data) > 10000 and self.verbose: 
            # we're drawing from *a lot* of data this will take a while 
            print("Get rankings for a large amount of unlabeled data: this 
            â¥ might take a while")
        else:
            # only apply the model to a limited number of items               
            shuffle(unlabeled_data)
            unlabeled_data = unlabeled_data[:limit]

        with torch.no_grad():
            for item in unlabeled_data:
                text = item[1]

                feature_vector = feature_method(text)
                hidden, logits, log_probs = model(feature_vector, 
                â¥ return_all_layers=True)                                  â·

                neuron_outputs = logits.data.tolist()[0] #logits

                n=0
                ranks = []
                for output in neuron_outputs:
                    rank = self.get_rank(output, validation_rankings[n])    â¸
                    ranks.append(rank)
                    n += 1 

                item[3] = "logit_rank_outlier"

                item[4] = 1 - (sum(ranks) / len(neuron_outputs)) # average 
                â¥ rank

                outliers.append(item)

        outliers.sort(reverse=True, key=lambda x: x[4])       
        return outliers[:number:]       
```

â¶ è°ƒç”¨ä»¥è·å–éªŒè¯æ•°æ®çš„æ¿€æ´»ã€‚

â· æˆ‘ä»¬åœ¨è¿™é‡Œè·å–æ‰€æœ‰æ¨¡å‹å±‚çš„æˆæœã€‚

â¸ æˆ‘ä»¬ä¸ºæ¯ä¸ªæœªæ ‡è®°é¡¹è·å–æ’åé¡ºåºã€‚

æ’åå‡½æ•°æ¥å—ä¸€ä¸ªæœªæ ‡è®°é¡¹çš„ä¸€ä¸ªç¥ç»å…ƒçš„æ¿€æ´»å€¼å’Œè¯¥ç¥ç»å…ƒåœ¨éªŒè¯æ•°æ®ä¸Šè®¡ç®—çš„æ’åã€‚ä½¿ç”¨ä»¥ä¸‹ä»£ç æ ¹æ®éªŒè¯æ’åå¯¹æ¯ä¸ªæœªæ ‡è®°é¡¹è¿›è¡Œæ’åºã€‚

åˆ—è¡¨ 4.4 æ ¹æ®éªŒè¯æ¿€æ´»è¿”å›é¡¹çš„æ’åé¡ºåº

```
    def get_rank(self, value, rankings):
        """ get the rank of the value in an ordered array as a percentage 

        Keyword arguments:
            value -- the value for which we want to return the ranked value
            rankings -- the ordered array in which to determine the value's  
            â¥ ranking

        returns linear distance between the indexes where value occurs, in the
        case that there is not an exact match with the ranked values    
        """

        index = 0 # default: ranking = 0

        for ranked_number in rankings:
            if value < ranked_number:
                break #NB: this O(N) loop could be optimized to O(log(N))
            index += 1        

        if(index >= len(rankings)):
            index = len(rankings) # maximum: ranking = 1

        elif(index > 0):
            # get linear interpolation between the two closest indexes 

            diff = rankings[index] - rankings[index - 1]
            perc = value - rankings[index - 1]
            linear = perc / diff
            index = float(index - 1) + linear

        absolute_ranking = index / len(rankings)

        return(absolute_ranking)
```

è¿™ä¸ªåˆ—è¡¨åªæ˜¯å®ç°äº†æ’åæ’åºç¤ºä¾‹ã€‚ä¸è¦è¿‡äºæ‹…å¿ƒçº¿æ€§æ’å€¼éƒ¨åˆ†ï¼›ä»£ç åœ¨å®ç°æ—¶æœ‰ç‚¹æ™¦æ¶©ï¼Œä½†å®ƒå¹¶æ²¡æœ‰æ•æ‰åˆ°æ¯”æ‚¨åœ¨ç¤ºä¾‹ä¸­çœ‹åˆ°æ›´å¤æ‚çš„å†…å®¹ã€‚

### 4.2.2 æˆ‘åº”è¯¥ä½¿ç”¨å“ªäº›å±‚æ¥è®¡ç®—åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼ï¼Ÿ

æ‚¨å¯èƒ½æƒ³å°è¯•åœ¨ä¸åŒçš„æ¨¡å‹å±‚ä¸Šè¿›è¡Œå¼‚å¸¸æ£€æµ‹ï¼Œçœ‹çœ‹å®ƒä»¬æ˜¯å¦èƒ½äº§ç”Ÿæ›´å¥½çš„å¼‚å¸¸å€¼ç”¨äºé‡‡æ ·ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå±‚è¶Šæ—©ï¼Œç¥ç»å…ƒå°±è¶Šæ¥è¿‘åŸå§‹æ•°æ®ã€‚å¦‚æœæ‚¨é€‰æ‹©äº†æ¨¡å‹çš„è¾“å…¥å±‚ï¼Œå³ç‰¹å¾å‘é‡ï¼Œè¾“å…¥å±‚çš„å¼‚å¸¸å€¼å‡ ä¹ä¸æ‚¨åœ¨ç¬¬äºŒç« ä¸­å®ç°çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•ç›¸åŒã€‚ä»»ä½•éšè—å±‚éƒ½å°†ä»‹äºè¡¨ç¤ºåŸå§‹æ•°æ®ï¼ˆæ—©æœŸå±‚ï¼‰å’Œè¡¨ç¤ºé¢„æµ‹ä»»åŠ¡ï¼ˆåæœŸå±‚ï¼‰ä¹‹é—´ã€‚

ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æŸ¥çœ‹åŒä¸€æ ·æœ¬å†…çš„å¤šä¸ªå±‚ã€‚è¿™ç§æ–¹æ³•åœ¨è¿ç§»å­¦ä¹ å’Œé¢„è®­ç»ƒæ¨¡å‹ä¸­ä½¿ç”¨ï¼›æ¨¡å‹è¢«â€œå±•å¹³â€ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å±‚çš„å•ä¸ªå‘é‡ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å±•å¹³çš„æ¨¡å‹è¿›è¡Œå¼‚å¸¸å€¼æ£€æµ‹ï¼Œä½†ä½ å¯èƒ½å¸Œæœ›æŒ‰æ¯å±‚çš„ç¥ç»å…ƒæ•°é‡è¿›è¡Œå½’ä¸€åŒ–ã€‚åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­ï¼Œéšè—å±‚ä¸­çš„ 128 ä¸ªç¥ç»å…ƒå°†æˆä¸ºåŒ…å«æœ€ç»ˆå±‚ 2 ä¸ªç¥ç»å…ƒçš„å¼‚å¸¸å€¼æ£€æµ‹ç®—æ³•çš„ä¸»è¦è´¡çŒ®è€…ï¼Œå› æ­¤ä½ å¯èƒ½å¸Œæœ›ç‹¬ç«‹è®¡ç®—å„å±‚çš„å¼‚å¸¸å€¼æ’åï¼Œç„¶åå°†ä¸¤ä¸ªç»“æœåˆå¹¶ã€‚

æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä»ä¸¤è€…ä¸­é‡‡æ ·ï¼Œå°†ä¸€åŠçš„æ¨¡å‹å¼‚å¸¸å€¼ä» logits ä¸­é‡‡æ ·ï¼Œå¦ä¸€åŠä»éšè—å±‚ä¸­é‡‡æ ·ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä½ ä»ç„¶åªæœ‰å¤§çº¦ 1,000 ä¸ªè®­ç»ƒé¡¹ç›®ï¼Œéšè—å±‚ä¸­çš„ 128 ä¸ªç¥ç»å…ƒå¯èƒ½ä¸å¤ªå…·æœ‰ä¿¡æ¯é‡ã€‚ä½ åº”è¯¥é¢„è®¡éšè—å±‚å°†æ˜¯å˜ˆæ‚çš„ï¼Œä¸€äº›ç¥ç»å…ƒæ˜¯éšæœºçš„ï¼Œç›´åˆ°ä½ æ‹¥æœ‰çš„æ ‡è®°è®­ç»ƒé¡¹ç›®æ¯”éšè—å±‚ä¸­çš„ç¥ç»å…ƒå¤šå¾—å¤šâ€”â€”ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯”å±‚ä¸­çš„ç¥ç»å…ƒå¤šä¸¤ä¸ªæˆ–æ›´å¤šæ•°é‡çº§ï¼ˆè¶…è¿‡ 10,000 ä¸ªæ ‡è®°é¡¹ç›®ï¼‰ã€‚

å¦‚æœä½ ä½¿ç”¨æ¥è¿‘è¾“å…¥çš„å±‚ï¼Œå½“ä½ çš„ç‰¹å¾å€¼ä¸è¡¨ç¤ºæ¿€æ´»æ—¶ï¼Œè¦å°å¿ƒã€‚å¯¹äºæˆ‘ä»¬çš„æ–‡æœ¬ç¤ºä¾‹ï¼Œè¾“å…¥*ç¡®å®*ä»£è¡¨äº†ä¸€ç§æ¿€æ´»å½¢å¼ï¼Œå› ä¸ºå®ƒä»¬ä»£è¡¨äº†ä¸€ä¸ªè¯å‡ºç°çš„é¢‘ç‡ã€‚ç„¶è€Œï¼Œå¯¹äºè®¡ç®—æœºè§†è§‰æ¥è¯´ï¼Œæ›´é«˜çš„è¾“å…¥å€¼å¯èƒ½åªæ˜¯ä»£è¡¨æ›´äº®çš„ RGB é¢œè‰²ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ¨¡å‹è¾“å‡ºå±‚å’Œ logits å±‚å°†æ›´åŠ å¯é ã€‚

### 4.2.3 åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼çš„å±€é™æ€§

è¿™é‡Œæ˜¯ä½¿ç”¨ä½ çš„æ¨¡å‹è¿›è¡Œå¼‚å¸¸å€¼é‡‡æ ·çš„ä¸»è¦ç¼ºç‚¹çš„æ€»ç»“ï¼š

+   è¿™ç§æ–¹æ³•å¯èƒ½ä¼šç”Ÿæˆåœ¨æ´»è·ƒå­¦ä¹ è¿­ä»£ä¸­ç›¸ä¼¼ä¸”ç¼ºä¹å¤šæ ·æ€§çš„å¼‚å¸¸å€¼ã€‚

+   å¾ˆéš¾é¿å…æ¨¡å‹ä¸­å›ºæœ‰çš„æŸäº›ç»Ÿè®¡åå·®ï¼Œå› æ­¤ä½ å¯èƒ½ä¼šæŒç»­é”™è¿‡æŸäº›ç±»å‹çš„å¼‚å¸¸å€¼ã€‚

+   åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ ä»ç„¶éœ€è¦ä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶ä¸”è¿™ç§æ–¹æ³•éšç€æ›´å¤šè®­ç»ƒæ•°æ®çš„å¢åŠ è€Œå˜å¾—æ›´å¥½ï¼Œå› æ­¤åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·ä¸é€‚åˆå†·å¯åŠ¨ã€‚

+   æˆ‘ä»¬æ˜¯é€šè¿‡ä½¿ç”¨æˆ‘ä»¬çš„æœªæ ‡è®°æ•°æ®æ¥ç¡®å®šå¼‚å¸¸å€¼çš„ã€‚å¾ˆå®¹æ˜“æ„å¤–åœ°é‡‡æ ·åˆ°æˆ‘ä»¬ä¸æƒ³å¾—åˆ°çš„ä¸œè¥¿â€”â€”é‚£äº›çœ‹èµ·æ¥æœ€ä¸åƒæˆ‘ä»¬è¯•å›¾ç”¨æ–°æ ‡ç­¾é€‚åº”çš„æ•°æ®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨éªŒè¯æ•°æ®æ¥è·å–æˆ‘ä»¬çš„æ’åï¼Œä½ åº”è¯¥éµå¾ªè¿™ç§åšæ³•æ¥æ£€æµ‹ä»»ä½•å…¶ä»–ç±»å‹çš„åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼ã€‚

æˆ‘ä»¬å°†åœ¨ç¬¬äº”ç« ä¸­ä»‹ç»è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç»“åˆå¼‚å¸¸å€¼æ£€æµ‹å’Œè¿ç§»å­¦ä¹ çš„ç®—æ³•ã€‚ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªé—®é¢˜æ›´éš¾å…‹æœã€‚å› æ­¤ï¼Œå¦‚æœä½ æ­£åœ¨é‡‡æ ·åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼ï¼Œä½ åº”è¯¥è€ƒè™‘åŒæ—¶ä½¿ç”¨å…¶ä»–å¤šæ ·æ€§é‡‡æ ·æ–¹æ³•ï¼ŒåŒ…æ‹¬ä½ å¯ä»¥ä»å†·å¯åŠ¨ä¸­ä½¿ç”¨çš„é‚£äº›æ–¹æ³•ï¼Œä¾‹å¦‚èšç±»ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»ã€‚

## 4.3 åŸºäºèšç±»çš„é‡‡æ ·

èšç±»å¯ä»¥å¸®åŠ©ä½ ä»ä¸€å¼€å§‹å°±é’ˆå¯¹æ•°æ®å¤šæ ·æ€§è¿›è¡Œé€‰æ‹©ã€‚ç­–ç•¥ç›¸å½“ç›´æ¥ï¼šæˆ‘ä»¬ä¸æ˜¯ä¸€å¼€å§‹å°±éšæœºé‡‡æ ·è®­ç»ƒæ•°æ®ï¼Œæˆ‘ä»¬è¿˜æŠŠæˆ‘ä»¬çš„æ•°æ®åˆ†æˆå¤§é‡èšç±»ï¼Œå¹¶ä»æ¯ä¸ªèšç±»ä¸­å‡åŒ€é‡‡æ ·ã€‚

è¿™ç§æ–¹æ³•ä¹‹æ‰€ä»¥æœ‰æ•ˆåº”è¯¥åŒæ ·ç®€å•æ˜äº†ã€‚åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æœ‰å…³å½“åœ°æ¾³å¤§åˆ©äºšä½“è‚²å›¢é˜Ÿçš„æ–°é—»æ–‡ç« æ ‡é¢˜æœ‰æˆåƒä¸Šä¸‡æ¡ã€‚å¦‚æœæˆ‘ä»¬éšæœºé‡‡æ ·æ•°æ®ä¾›äººç±»å®¡æŸ¥ï¼Œæˆ‘ä»¬å°†èŠ±è´¹å¤§é‡æ—¶é—´æ‰‹åŠ¨æ ‡æ³¨å…³äºä½“è‚²æ¯”èµ›ç»“æœçš„ç›¸ä¼¼æ ‡é¢˜ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬é¢„å…ˆèšç±»æˆ‘ä»¬çš„æ•°æ®ï¼Œè¿™äº›æ ‡é¢˜å¾ˆå¯èƒ½ä¼šæœ€ç»ˆèšé›†åœ¨ä¸€ä¸ªèšç±»ä¸­ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä»è¿™ä¸ªä¸ä½“è‚²ç›¸å…³çš„èšç±»ä¸­æ ‡æ³¨å°‘é‡ç¤ºä¾‹ã€‚è¿™ç§æ–¹æ³•å°†èŠ‚çœå¤§é‡æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™äº›æ—¶é—´æ¥æ ‡æ³¨æ¥è‡ªå…¶ä»–èšç±»çš„æ•°æ®ã€‚é‚£äº›å…¶ä»–èšç±»å¯èƒ½ä»£è¡¨æ›´ç½•è§çš„æ ‡é¢˜ç±»å‹ï¼Œè¿™äº›æ ‡é¢˜è™½ç„¶é‡è¦ä½†éå¸¸ç½•è§ï¼Œåœ¨éšæœºé‡‡æ ·ä¸­å¯èƒ½ä¼šè¢«é—æ¼ã€‚æ‰€ä»¥èšç±»æ—¢èŠ‚çœäº†æ—¶é—´ï¼Œåˆå¢åŠ äº†å¤šæ ·æ€§ã€‚

èšç±»æ˜¯è¿„ä»Šä¸ºæ­¢åœ¨ç°å®ä¸–ç•Œæœºå™¨å­¦ä¹ ä¸­ç”¨äºå¤šæ ·æ€§é‡‡æ ·çš„æœ€å¸¸ç”¨æ–¹æ³•ã€‚å®ƒæ˜¯æœ¬ç« è®¨è®ºçš„ç¬¬äºŒç§æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ›´é€‚åˆæœ¬ä¹¦çš„æµç¨‹ã€‚åœ¨å®è·µä¸­ï¼Œä½ å¯èƒ½é¦–å…ˆå°è¯•è¿™ç§æ–¹æ³•è¿›è¡Œå¤šæ ·æ€§é‡‡æ ·ã€‚

ä½ å¯èƒ½å·²ç»é‡åˆ°è¿‡æ— ç›‘ç£å­¦ä¹ ï¼Œå¹¶ä¸”ä½ å¾ˆå¯èƒ½ç†Ÿæ‚‰ k-means èšç±»ç®—æ³•ï¼Œè¿™æ˜¯æˆ‘ä»¬å°†ä¼šä½¿ç”¨çš„ç®—æ³•ã€‚æ— ç›‘ç£èšç±»å’Œç”¨äºä¸»åŠ¨å­¦ä¹ çš„èšç±»æ–¹æ³•ç›¸åŒï¼Œä½†æˆ‘ä»¬å°†ä¼šä½¿ç”¨èšç±»æ¥é‡‡æ ·é¡¹ç›®ä¾›äººç±»å®¡æŸ¥è¿›è¡Œæ ‡æ³¨ï¼Œè€Œä¸æ˜¯è§£é‡Šèšç±»æˆ–åœ¨ä¸‹ä¸€æ¬¡å¤„ç†ä¸­ä½¿ç”¨èšç±»æœ¬èº«ã€‚

### 4.3.1 èšç±»æˆå‘˜ã€è´¨å¿ƒå’Œå¼‚å¸¸å€¼

è·ç¦»èšç±»ä¸­å¿ƒæœ€è¿‘çš„é¡¹è¢«ç§°ä¸º*è´¨å¿ƒ*ã€‚å®é™…ä¸Šï¼Œä¸€äº›èšç±»ç®—æ³•æ˜ç¡®åœ°æµ‹é‡è´¨å¿ƒé¡¹çš„è·ç¦»ï¼Œè€Œä¸æ˜¯æ•´ä¸ªèšç±»å±æ€§çš„è·ç¦»ã€‚

ä½ åœ¨ç¬¬äºŒç« ä¸­ä»æ•´ä¸ªæ•°æ®é›†ä¸­è®¡ç®—äº†å¼‚å¸¸å€¼ï¼Œåœ¨ä½¿ç”¨èšç±»æ—¶ä¹Ÿå¯ä»¥è®¡ç®—å¼‚å¸¸å€¼ã€‚å¼‚å¸¸å€¼æ˜¯è´¨å¿ƒçš„ç»Ÿè®¡å¯¹ç«‹é¢ï¼šå®ƒä»¬è·ç¦»ä»»ä½•èšç±»çš„ä¸­å¿ƒæœ€è¿œã€‚

å›¾ 4.4 å±•ç¤ºäº†äº”ä¸ªèšç±»çš„ç¤ºä¾‹ï¼Œå…¶ä¸­ä¸¤ä¸ªèšç±»çš„è´¨å¿ƒå’Œå¼‚å¸¸å€¼è¢«æ ‡å‡ºã€‚å›¾ 4.4 ä¸­çš„å¤§å¤šæ•°é¡¹ç›®éƒ½åœ¨ä¸€ä¸ªèšç±»ä¸­ï¼šä¸­é—´çš„å¤§èšç±»ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¸æ˜¯é€šè¿‡èšç±»è€Œæ˜¯éšæœºé‡‡æ ·ï¼Œæˆ‘ä»¬å°±ä¼šèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´æ ‡æ³¨ç›¸ä¼¼çš„é¡¹ç›®ã€‚é€šè¿‡é¦–å…ˆèšç±»å¹¶ä»æ¯ä¸ªèšç±»ä¸­é‡‡æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿æ›´å¤šçš„å¤šæ ·æ€§ã€‚

![](img/CH04_F04_Munro.png)

å›¾ 4.4 å±•ç¤ºäº†åº”ç”¨äºæ•°æ®çš„ç¤ºä¾‹èšç±»ç®—æ³•ï¼Œå°†å…¶åˆ†ä¸ºäº”ä¸ªç‹¬ç«‹çš„èšç±»ã€‚å¯¹äºæ¯ä¸ªèšç±»ï¼Œæœ€ä¸­å¿ƒçš„é¡¹ç›®è¢«ç§°ä¸º*è´¨å¿ƒ*ï¼Œè·ç¦»ä¸­å¿ƒæœ€è¿œçš„é¡¹ç›®è¢«ç§°ä¸º*å¼‚å¸¸å€¼*ã€‚

æˆ‘ä»¬å°†ä»¥ä¸‰ç§æ–¹å¼ä»èšç±»ä¸­è¿›è¡Œé‡‡æ ·ï¼š

+   *éšæœº*â€”ä»æ¯ä¸ªèšç±»ä¸­éšæœºé‡‡æ ·é¡¹ç›®ã€‚è¿™ç§ç­–ç•¥æ¥è¿‘éšæœºé‡‡æ ·ï¼Œä½†æ¯”çº¯éšæœºé‡‡æ ·æ›´å‡åŒ€åœ°åˆ†æ•£æˆ‘ä»¬çš„é€‰æ‹©åœ¨æ•´ä¸ªç‰¹å¾ç©ºé—´ä¸­ã€‚

+   *è´¨å¿ƒ*â€”é‡‡æ ·èšç±»çš„è´¨å¿ƒæ¥ä»£è¡¨æˆ‘ä»¬æ•°æ®ä¸­æœ‰æ„ä¹‰çš„è¶‹åŠ¿çš„æ ¸å¿ƒã€‚

+   *å¼‚å¸¸å€¼*â€”ä»æˆ‘ä»¬çš„èšç±»ç®—æ³•ä¸­é‡‡æ ·å¼‚å¸¸å€¼ï¼Œä»¥æ‰¾åˆ°å¯èƒ½è¢«èšç±»é—æ¼çš„æ½œåœ¨æœ‰è¶£æ•°æ®ã€‚èšç±»ä¸­çš„å¼‚å¸¸å€¼æœ‰æ—¶è¢«ç§°ä¸º*åŸºäºé‚»è¿‘åº¦çš„*å¼‚å¸¸å€¼ã€‚

åœ¨å•ä¸ªèšç±»å†…ï¼Œæ’åé å‰çš„è´¨å¿ƒå¯èƒ½æ˜¯ç›¸ä¼¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¦»ä¸­å¿ƒæœ€è¿‘çš„é¡¹å¯èƒ½ç±»ä¼¼äºç¦»ä¸­å¿ƒç¬¬äºŒè¿‘çš„é¡¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨èšç±»å†…éƒ¨éšæœºé‡‡æ ·æˆ–ä»…é€‰æ‹©è´¨å¿ƒã€‚

åŒæ ·ï¼Œæˆ‘ä»¬å¯èƒ½åªéœ€è¦æ¯ä¸ªèšç±»ä¸­é‡‡æ ·å°‘é‡å¼‚å¸¸å€¼ã€‚å¯èƒ½è¿™äº›å¼‚å¸¸å€¼æ˜¯ç®—æ³•é—æ¼çš„æœ‰æ„ä¹‰è¶‹åŠ¿ï¼Œä½†æ›´æœ‰å¯èƒ½çš„æ˜¯å®ƒä»¬ç¡®å®æ˜¯çœŸæ­£ç½•è§çš„ï¼šåœ¨æ–‡æœ¬ä¸­æ˜¯é‡å¤çš„ç½•è§å•è¯ï¼Œåœ¨è®¡ç®—æœºè§†è§‰ä¸­æ˜¯å˜ˆæ‚æˆ–æŸåçš„å›¾åƒã€‚é€šå¸¸ï¼Œæ‚¨åªéœ€è¦é‡‡æ ·å°‘é‡å¼‚å¸¸å€¼ï¼Œå¦‚æœæ‚¨æœ‰å¤§é‡èšç±»ï¼Œå¯èƒ½æ¯ä¸ªèšç±»åªé‡‡æ ·ä¸€ä¸ªå¼‚å¸¸å€¼ã€‚

ä¸ºäº†ä½¿ç¤ºä¾‹ç®€å•ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨é‡‡æ ·æ¯ä¸ªèšç±»çš„è´¨å¿ƒï¼Œæ¯ä¸ªèšç±»çš„å•ä¸ªæœ€å¤§å¼‚å¸¸å€¼ï¼Œä»¥åŠæ¯ä¸ªèšç±»å†…éƒ¨é¢å¤–éšæœºé‡‡æ ·çš„ä¸‰ä¸ªé¡¹ç›®ã€‚è¦ä½¿ç”¨åŸºäºèšç±»çš„é‡‡æ ·ï¼Œè¯·è¿è¡Œ

```
> python active_learning.py --cluster_based=95 --verbose
```

æ­¤å‘½ä»¤é€šè¿‡åŸºäºèšç±»çš„é‡‡æ ·ä¸ºæ‚¨é‡‡æ · 95 ä¸ªæœªæ ‡è®°çš„é¡¹ç›®è¿›è¡Œæ ‡æ³¨ï¼ŒåŒæ—¶è¿˜æœ‰ä»å‰©ä½™æœªæ ‡è®°é¡¹ç›®ä¸­éšæœºé€‰æ‹©çš„ 5 ä¸ªé¡¹ç›®ã€‚æˆ‘å»ºè®®ä½¿ç”¨`verbose`æ ‡å¿—è¿è¡Œä»£ç ï¼Œè¯¥æ ‡å¿—åœ¨ä»£ç è¿è¡Œæ—¶æ‰“å°å‡ºæ¯ä¸ªèšç±»çš„ä¸‰ä¸ªéšæœºé¡¹ç›®ã€‚æ‚¨å¯ä»¥é€šè¿‡æ£€æŸ¥èšç±»ä¸­çš„é¡¹ç›®æ˜¯å¦åœ¨è¯­ä¹‰ä¸Šä¼¼ä¹ç›¸å…³ï¼Œæ¥äº†è§£èšç±»æ˜¯å¦å¾ˆå¥½åœ°æ•æ‰åˆ°äº†æœ‰æ„ä¹‰çš„å·®å¼‚ã€‚åè¿‡æ¥ï¼Œè¿™ç§æ–¹æ³•å°†ç»™æ‚¨ä¸€ä¸ªå…³äºæ•°æ®ä¸­æœ‰å¤šå°‘æœ‰æ„ä¹‰çš„è¶‹åŠ¿è¢«å‘ˆç°å‡ºæ¥ä¾›äººå·¥æ ‡æ³¨çš„å°è±¡ã€‚

### 4.3.2 ä»»ä½•å®‡å®™ä¸­çš„èšç±»ç®—æ³•

å°±æˆ‘æ‰€çŸ¥ï¼Œæ²¡æœ‰äººæ·±å…¥ç ”ç©¶è¿‡æ˜¯å¦æœ‰ä¸€ä¸ªèšç±»ç®—æ³•å§‹ç»ˆæ¯”å¦ä¸€ä¸ªèšç±»ç®—æ³•æ›´å¥½ç”¨äºä¸»åŠ¨å­¦ä¹ ã€‚è®¸å¤šæˆå¯¹ç ”ç©¶æŸ¥çœ‹ç‰¹å®šèšç±»ç®—æ³•çš„å˜ä½“ï¼Œä½†æ²¡æœ‰å…¨é¢å¹¿æ³›çš„ç ”ç©¶ï¼Œæ‰€ä»¥å¦‚æœæ‚¨å¯¹è¿™ä¸ªä¸»é¢˜æ„Ÿå…´è¶£ï¼Œè¿™ç§æƒ…å†µå°†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç ”ç©¶è¯¾é¢˜ã€‚

ä¸€äº›èšç±»ç®—æ³•åªéœ€è¦å¯¹æ•°æ®è¿›è¡Œå•æ¬¡éå†ï¼Œè€Œä¸€äº›ç®—æ³•çš„å¤æ‚åº¦å¯èƒ½ä¸º O(NÂ³)æˆ–æ›´å·®ã€‚å°½ç®¡è®¡ç®—å¯†é›†å‹ç®—æ³•å¯ä»¥åœ¨æ‚¨çš„æ•°æ®ä¸­æ‰¾åˆ°æ›´å¤šæ•°å­¦ä¸Šåˆç†çš„èšç±»ï¼Œä½†èšç±»ä¸­ä¿¡æ¯åˆ†å¸ƒçš„åˆ†å¸ƒå¯¹äºéœ€è¦æ ‡è®°çš„é¡¹ç›®é‡‡æ ·æ¥è¯´ï¼Œä¸ä¸€å®šæ›´å¥½æˆ–æ›´å·®ã€‚

å¯¹äºæˆ‘ä»¬å°†è¦å®æ–½çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä½¿ç”¨ç³»ç»Ÿçš„äººéœ€è¦ç­‰å¾…å¾ˆé•¿æ—¶é—´ï¼Œç›´åˆ°èšç±»ç®—æ³•æ‰¾åˆ°æœ€ä½³çš„èšç±»ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†é€‰æ‹©ä¸€ä¸ªé«˜æ•ˆçš„èšç±»ç®—æ³•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ç§å˜ç§çš„ k-means ç®—æ³•ï¼Œå®ƒä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ä½œä¸ºè·ç¦»åº¦é‡ï¼Œè€Œä¸æ˜¯æ›´å…¸å‹çš„æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆå›¾ 4.5ï¼‰ã€‚æˆ‘ä»¬å¤„ç†çš„æ˜¯é«˜ç»´æ•°æ®ï¼Œè€Œåœ¨é«˜ç»´ç©ºé—´ä¸­æ¬§å‡ é‡Œå¾—è·ç¦»æ•ˆæœä¸ä½³ã€‚æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ä¹‹ä¸€æ˜¯æƒ³è±¡æ•°æ®ä¸­çš„è®¸å¤šè§’è½ã€‚å‡ ä¹æ‰€æœ‰çš„èšç±»ç®—æ³•åœ¨é«˜ç»´æ•°æ®ä¸­éƒ½å®¹æ˜“äº§ç”Ÿä¸å¯é çš„ç»“æœã€‚åœ¨å›¾ 4.4 ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç»´åº¦çš„ç¤ºä¾‹ï¼Œåªæœ‰å››ä¸ªè§’è½ï¼Œå¼‚å¸¸å€¼å¯ä»¥éšè—åœ¨æ•°æ®åˆ†å¸ƒçš„ä¸­å¿ƒã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸‰ä¸ªç»´åº¦çš„ç‰¹å¾ï¼Œå¼‚å¸¸å€¼å¯ä»¥å æ®å…«ä¸ªè§’è½ã€‚ï¼ˆæƒ³è±¡ä¸€ä¸‹ç«‹æ–¹ä½“çš„å…«ä¸ªè§’è½ã€‚ï¼‰å½“æˆ‘ä»¬è¾¾åˆ° 300 ä¸ªç‰¹å¾æ—¶ï¼Œæ•°æ®å°±æœ‰ 10â¹â° ä¸ªè§’è½ï¼Œè€Œ 10â¹â° å¤§äºå¯è§‚æµ‹å®‡å®™ä¸­çš„åŸå­æ•°é‡ã€‚åœ¨å‡ ä¹ä»»ä½•è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä»»åŠ¡ä¸­ï¼Œä½ è‚¯å®šä¼šæœ‰è¶…è¿‡ 300 ä¸ªç‰¹å¾ï¼Œå› æ­¤å¼‚å¸¸å€¼å¯èƒ½ä¼šå‡ºç°åœ¨ç©ºé—´çš„è®¸å¤šè§’è½ã€‚å¯¹äºè¶…è¿‡ 10 ç»´åº¦çš„æ•°æ®ï¼Œè¶…è¿‡ 99%çš„ç©ºé—´éƒ½åœ¨è§’è½é‡Œï¼Œæ‰€ä»¥å¦‚æœæ•°æ®æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œç”šè‡³é«˜æ–¯åˆ†å¸ƒï¼Œä½ å°†æµ‹é‡åˆ°è§’è½çš„ä¼ªå½±ï¼Œè€Œä¸æ˜¯è·ç¦»ï¼Œè¿™å¯èƒ½æ˜¯ä¸å¯é çš„ã€‚

![å›¾ç‰‡](img/CH04_F05_Munro.png)

å›¾ 4.5 ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦çš„èšç±»ç®—æ³•ç¤ºä¾‹ã€‚å¯¹äºæ¯ä¸ªèšç±»ï¼Œä¸­å¿ƒè¢«å®šä¹‰ä¸ºä» 0 å‡ºå‘çš„å‘é‡ï¼Œè¯¥èšç±»çš„æˆå‘˜èµ„æ ¼æ˜¯è¡¨ç¤ºè¯¥èšç±»çš„å‘é‡å’Œè¡¨ç¤ºé¡¹ç›®çš„å‘é‡ä¹‹é—´çš„è§’åº¦ã€‚è¯·æ³¨æ„ï¼Œå°½ç®¡è¿™ä¸ªä¾‹å­çœ‹èµ·æ¥ä¸åƒå›¾ 4.4 ä¸­çš„çƒå½¢èšç±»é‚£æ ·åƒçœŸå®çš„èšç±»ï¼Œä½†å®ƒå—é™äºäºŒç»´ã€‚å¯¹äºæ›´é«˜ç»´åº¦çš„ç¨€ç–æ•°æ®ï¼Œä½ æ›´æœ‰å¯èƒ½åœ¨ä½¿ç”¨ä½ çš„æ¨¡å‹æ—¶ä½¿ç”¨è¿™ç§æ•°æ®ï¼Œè¿™ç§èšç±»é€šå¸¸æ¯”è¿™é‡Œå±•ç¤ºçš„çƒå½¢ç±»å‹æ›´å¥½ã€‚

ä½ å¯ä»¥å°†ä½™å¼¦ç›¸ä¼¼åº¦æƒ³è±¡æˆåœ¨å¤œç©ºä¸­è§‚å¯Ÿæ˜Ÿæ˜Ÿã€‚å¦‚æœä½ ä»è‡ªå·±å‡ºå‘ï¼Œå‘ä¸¤é¢—æ˜Ÿæ˜Ÿç”»ä¸€æ¡ç›´çº¿ï¼Œå¹¶æµ‹é‡è¿™ä¸¤æ¡çº¿ä¹‹é—´çš„è§’åº¦ï¼Œé‚£ä¹ˆè¿™ä¸ªè§’åº¦å°±ä¼šç»™ä½ ä½™å¼¦ç›¸ä¼¼åº¦ã€‚åœ¨å¤œç©ºç¤ºä¾‹ä¸­ï¼Œä½ åªæœ‰ä¸‰ä¸ªç‰©ç†ç»´åº¦ï¼Œä½†ä½ çš„æ•°æ®å¯¹äºæ¯ä¸ªç‰¹å¾éƒ½æœ‰ä¸€ä¸ªç»´åº¦ã€‚ä½™å¼¦ç›¸ä¼¼åº¦å¹¶ä¸æ˜¯å¯¹é«˜ç»´é—®é¢˜çš„å…ç–«ï¼Œä½†å®ƒé€šå¸¸æ¯”æ¬§å‡ é‡Œå¾—è·ç¦»è¡¨ç°å¾—æ›´å¥½ï¼Œå°¤å…¶æ˜¯åœ¨ç¨€ç–æ•°æ®æ–¹é¢ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ–‡æœ¬ç¼–ç ã€‚

ä½™å¼¦ç›¸ä¼¼åº¦è¡¡é‡ä¸¤ä¸ªå‘é‡æ˜¯å¦æŒ‡å‘åŒä¸€æ–¹å‘ï¼Œä½†ä¸è¡¡é‡è·ç¦»ã€‚å¤©ç©ºä¸­ä¸¤é¢—æ˜Ÿæ˜Ÿä¹‹é—´å¯èƒ½æœ‰ä¸€ä¸ªå¾ˆå°çš„è§’åº¦ï¼Œä½†å…¶ä¸­ä¸€é¢—å¯èƒ½è¿œå¾—å¤šã€‚å› ä¸ºä½ åªæµ‹é‡è§’åº¦ï¼Œæ‰€ä»¥ä½ å°†æ˜Ÿæ˜Ÿè§†ä¸ºè·ç¦»ç›¸ç­‰ã€‚å› æ­¤ï¼Œä½™å¼¦ç›¸ä¼¼åº¦æœ‰æ—¶è¢«ç§°ä¸º*çƒé¢ k-means*ï¼Œå…¶ä¸­æ‰€æœ‰æ•°æ®ç‚¹éƒ½è¢«è§†ä¸ºåœ¨å¤šç»´çƒé¢ä¸Šè·ç¦» 0 ç›¸åŒçš„è·ç¦»ã€‚è¿™ä¸ªä¾‹å­ç¡®å®æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šæ•°æ®ç‚¹å¯èƒ½æ„å¤–åœ°æŒ‡å‘åŒä¸€æ–¹å‘ï¼Œå› æ­¤é”™è¯¯åœ°çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚ç„¶è€Œï¼Œåœ¨é«˜åº¦æ•°æ®ä¸­å‘ç”Ÿè¿™ç§é—®é¢˜çš„å¯èƒ½æ€§å¾ˆä½ï¼Œå› æ­¤é«˜ç»´åº¦æœ‰åŠ©äºï¼ˆå¹¶ä½¿æˆ‘ä»¬çš„è®¡ç®—æ›´ç®€å•ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥å°†èšç±»çš„å‘é‡è®¡ç®—ä¸ºè¯¥èšç±»ä¸­æ‰€æœ‰é¡¹ç›®ï¼ˆç‰¹å¾ï¼‰å‘é‡çš„æ€»å’Œï¼Œè€Œä¸ç”¨æ‹…å¿ƒæŒ‰é¡¹ç›®æ•°é‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œå› ä¸ºä½™å¼¦å¯¹è·ç¦»å‡½æ•°çš„ç»å¯¹å€¼ä¸æ•æ„Ÿã€‚

### 4.3.3 ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦çš„ K-means èšç±»

ç»™å®šä¸¤ä¸ªç›¸åŒå¤§å°çš„ç‰¹å¾å‘é‡ v[1]å’Œ v[2]ï¼Œä½ å¯ä»¥è®¡ç®—è¿™ä¸¤ä¸ªå‘é‡ä¹‹é—´è§’åº¦çš„ä½™å¼¦å€¼å¦‚ä¸‹

ğ›ŸCS = (v[1] â‹… v[2]) / (â€–v[1]â€–[2] â‹… â€–v[2]â€–[2])

ä½™å¼¦ç›¸ä¼¼åº¦æ˜¯ PyTorch çš„å†…ç½®å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä¼šåœ¨è¿™é‡Œæ·±å…¥æ¢è®¨å…¶å®ç°ã€‚å¤œç©ºä¸­æ˜Ÿæ˜Ÿä¹‹é—´çš„è§’åº¦å’Œå›¾ 4.5ï¼ˆç¬¬ 4.3.2 èŠ‚ï¼‰ä¸­çš„ç¤ºä¾‹åº”è¯¥è¶³ä»¥è®©ä½ ç†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ï¼ˆå¦‚æœä½ å¯¹ä½™å¼¦ç›¸ä¼¼åº¦æ„Ÿå…´è¶£æˆ–æƒ³æŸ¥çœ‹ PyTorch ä¸­çš„å…¶ä»–è·ç¦»å‡½æ•°ï¼Œå¯ä»¥ä»[`mng.bz/XdzM`](http://mng.bz/XdzM)çš„æ–‡æ¡£å¼€å§‹ã€‚ï¼‰

å…¶ä»–æµè¡Œçš„æœºå™¨å­¦ä¹ åº“ä¹Ÿå®ç°äº†å¤§é‡çš„èšç±»ç®—æ³•ã€‚è¿™äº›å…¶ä»–ç®—æ³•å¯èƒ½å’Œä½ åœ¨è¿™é‡Œå®ç°çš„ç¤ºä¾‹ä¸€æ ·æœ‰æ•ˆã€‚æœ‰ä¸€ç§æ™®éçš„çœ‹æ³•è®¤ä¸ºï¼Œèšç±»ç®—æ³•ä¸åº”ç”¨äºè¶…è¿‡ 10,000 ä¸ªé¡¹ç›®çš„æ•°æ®é›†ï¼Œä½†è¿™å¹¶ä¸æ­£ç¡®ã€‚å§‹ç»ˆå­˜åœ¨ä¸€äº›èšç±»ç®—æ³•ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å•æ¬¡æ•°æ®éå†åˆç†åœ°å·¥ä½œï¼Œå› æ­¤ä½ ä¸åº”è¯¥æ ¹æ®æ•°æ®é›†å¤§å°è€ƒè™‘ä»»ä½•é™åˆ¶ï¼Œé™¤éä½ è¯•å›¾å°†å¤„ç†æ—¶é—´ç¼©çŸ­åˆ°å‡ ç§’é’Ÿã€‚å³ä½¿å¯¹äºè®¡ç®—å¯†é›†å‹çš„èšç±»ç®—æ³•ï¼Œä½ é€šå¸¸ä¹Ÿå¯ä»¥åœ¨æ•°æ®çš„å°å­é›†ï¼ˆæ‰¹æ¬¡ï¼‰ä¸­æ„å»ºèšç±»ï¼Œä½¿ç”¨è¿™äº›ç»“æœèšç±»å‡ ä¹å’Œæ•´ä¸ªæ•°æ®é›†ä¸€æ ·å¥½ã€‚

K-means çš„ä¸€èˆ¬ç­–ç•¥å¦‚ä¸‹ï¼š

1.  é€šè¿‡ä»æ‰€éœ€çš„æ³¨é‡Šæ•°é‡åå‘å·¥ä½œæ¥é€‰æ‹©ä½ æƒ³è¦çš„èšç±»æ•°é‡ã€‚

1.  éšæœºå°†æ•°æ®é¡¹æ·»åŠ åˆ°åˆå§‹èšç±»ä¹‹ä¸€ã€‚

1.  éå†é¡¹ç›®ï¼Œå¦‚æœå®ƒä»¬æ›´æ¥è¿‘å¦ä¸€ä¸ªèšç±»ï¼Œåˆ™å°†å®ƒä»¬ç§»åŠ¨åˆ°å¦ä¸€ä¸ªèšç±»ã€‚

1.  é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šé¡¹ç›®å¯ä»¥ç§»åŠ¨æˆ–è€…è¾¾åˆ°é€šè¿‡æ•°æ®é¢„å®šä¹‰çš„ epoch æ•°é‡é™åˆ¶ã€‚

ä½™å¼¦ç›¸ä¼¼åº¦å’Œä½™å¼¦è·ç¦»æ˜¯åŒä¸€å›äº‹

ä½ å¯èƒ½ä¼šåœ¨æ–‡çŒ®ä¸­çœ‹åˆ°ä½™å¼¦ç›¸ä¼¼åº¦è¢«ç§°ä½œä½™å¼¦è·ç¦»ã€‚è¿™äº›æœ¯è¯­æ„å‘³ç€åŒä¸€ä»¶äº‹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œèšç±»ç®—æ³•æ›´å¯èƒ½ä½¿ç”¨â€œè·ç¦»â€è¿™ä¸ªæœ¯è¯­ï¼Œè€Œåœ¨æœ€ä¸¥æ ¼çš„å®šä¹‰ä¸­ï¼Œè·ç¦» = 1 â€“ ç›¸ä¼¼åº¦ã€‚ç„¶è€Œï¼Œä½™å¼¦ç›¸ä¼¼åº¦å¹¶ä¸éµå¾ªä¸¥æ ¼çš„ä¸‰è§’ä¸ç­‰å¼æ€§è´¨ï¼ˆSchwarz ä¸ç­‰å¼ï¼‰ï¼Œå› æ­¤ä½™å¼¦ç›¸ä¼¼åº¦ä¸ç¬¦åˆè·ç¦»åº¦é‡çš„æ­£å¼å®šä¹‰â€”â€”å› æ­¤å¾—åâ€œç›¸ä¼¼åº¦â€ã€‚åœ¨è¿™ä¸ªç« èŠ‚ä¸­ï¼Œå½“æˆ‘ä»¬æŠŠä¸­å¿ƒç‚¹å’Œå¼‚å¸¸å€¼ä½œä¸ºäº’è¡¥æ¥è·å–æ¯ä¸ªé‡‡æ ·é¡¹ç›®çš„ [0, 1] èŒƒå›´æ—¶ï¼Œæœ¯è¯­å·²ç»è¶³å¤Ÿä»¤äººå›°æƒ‘äº†ï¼Œæ‰€ä»¥ä¸è¦è®©è¿™å¢åŠ ä½ çš„å›°æƒ‘ï¼

å¦‚æ­¥éª¤ 1 æ‰€è¿°ï¼Œä½ åº”è¯¥åå‘å·¥ä½œï¼Œå¹¶é€‰æ‹©æœ€åˆç†çš„ç°‡æ•°é‡ï¼Œè¿™å–å†³äºä½ ä»æ¯ä¸ªç°‡ä¸­æƒ³è¦é‡‡æ ·çš„é¡¹ç›®æ•°é‡ã€‚å¦‚æœä½ æƒ³ä»æ¯ä¸ªç°‡ä¸­é‡‡æ · 5 ä¸ªé¡¹ç›®ï¼ˆ1 ä¸ªä¸­å¿ƒç‚¹ï¼Œ1 ä¸ªå¼‚å¸¸å€¼å’Œ 3 ä¸ªéšæœºé€‰æ‹©ï¼‰ï¼Œå¹¶ä¸”ä½ æƒ³è¦åœ¨è¿™ä¸ªä¸»åŠ¨å­¦ä¹ è¿­ä»£ä¸­é€šè¿‡è¿™ç§é‡‡æ ·ç­–ç•¥æ³¨é‡Š 100 ä¸ªé¡¹ç›®ï¼Œé‚£ä¹ˆä½ åº”è¯¥é€‰æ‹© 20 ä¸ªç°‡ï¼Œå› ä¸º 20 Ã— 5 = 100ã€‚

ä¸ºäº†å®Œæ•´æ€§ï¼Œæœ¬ä¹¦ç¤ºä¾‹ä»£ç ä¸­å®ç°äº†å¸¦æœ‰ä½™å¼¦ç›¸ä¼¼åº¦çš„ k-means èšç±»ç®—æ³•çš„å®Œæ•´ä»£ç ï¼Œä½ å¯ä»¥åœ¨ [`mng.bz/MXQm`](http://mng.bz/MXQm) ä¸Šçœ‹åˆ°å®ƒã€‚è¿™ä¸ª k-means ç­–ç•¥ä¸è·ç¦»åº¦é‡æ— å…³ã€‚k-means å‡½æ•°åªæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šæ•°æ®ï¼Œå¯ä»¥æ˜¯æœªæ ‡è®°çš„æˆ–æ ‡è®°çš„ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ ‡ç­¾è¢«å¿½ç•¥ï¼‰ï¼Œä»¥åŠä½ æƒ³è¦çš„ç°‡æ•°é‡ã€‚ä½ å¯ä»¥åœ¨ diversity_sampling.py ä¸­çš„ k-means ç­–ç•¥ä¸­çœ‹åˆ°ï¼Œä»¥ä¸‹åˆ—è¡¨ä¸­çš„ä¸»å‡½æ•°ã€‚

åˆ—è¡¨ 4.5 PyTorch ä¸­çš„åŸºäºç°‡çš„é‡‡æ ·

```
def get_cluster_samples(self, data, num_clusters=5, max_epochs=5, 
â¥ limit=5000):
    """Create clusters using cosine similarity

    Keyword arguments:
        data -- data to be clustered
        num_clusters -- the number of clusters to create
        max_epochs -- maximum number of epochs to create clusters
        limit -- sample only this many items for faster clustering (-1 = no 
        â¥ limit)

    Creates clusters by the k-means clustering algorithm,
    using cosine similarity instead of more common euclidean distance

    Creates clusters until converged or max_epochs passes over the data 

    """ 

    if limit > 0:
        shuffle(data)
        data = data[:limit]

    cosine_clusters = CosineClusters(num_clusters)

    cosine_clusters.add_random_training_items(data)               â¶

    for i in range(0, max_epochs):
        print("Epoch "+str(i))
        added = cosine_clusters.add_items_to_best_cluster(data)   â·
        if added == 0:
            break

    centroids = cosine_clusters.get_centroids()                   â¸
    outliers = cosine_clusters.get_outliers()                     â¹
    randoms = cosine_clusters.get_randoms(3, verbose)             âº

    return centroids + outliers + randoms
```

â¶ ä½¿ç”¨éšæœºåˆ†é…åˆå§‹åŒ–ç°‡ã€‚

â· å°†æ¯ä¸ªé¡¹ç›®ç§»åŠ¨åˆ°æœ€é€‚åˆå®ƒçš„ç°‡ä¸­ï¼Œå¹¶é‡å¤ã€‚

â¸ ä»æ¯ä¸ªç°‡ä¸­é‡‡æ ·æœ€ä½³æ‹Ÿåˆï¼ˆä¸­å¿ƒç‚¹ï¼‰ã€‚

â¹ ä»æ¯ä¸ªç°‡ä¸­é‡‡æ ·æœ€å¤§çš„å¼‚å¸¸å€¼ã€‚

âº ä»æ¯ä¸ªç°‡ä¸­éšæœºé‡‡æ ·ä¸‰ä¸ªé¡¹ç›®ï¼Œå¹¶ä¼ é€’ verbose å‚æ•°ä»¥äº†è§£æ¯ä¸ªç°‡ä¸­æœ‰ä»€ä¹ˆã€‚

ä½ å¯ä»¥ç”¨ä½™å¼¦æ›¿æ¢ä»»ä½•å…¶ä»–è·ç¦»/ç›¸ä¼¼åº¦åº¦é‡ï¼Œå¹¶ä¸”å¯èƒ½æ•ˆæœä¸€æ ·å¥½ã€‚ä½ å¯èƒ½æƒ³è¦å°è¯•çš„ä¸€ç§ç­–ç•¥æ˜¯ä¸ºäº†åŠ å¿«è¿‡ç¨‹ï¼Œåœ¨æ•°æ®çš„ä¸€ä¸ªå­é›†ä¸Šåˆ›å»ºç°‡ï¼Œç„¶åå°†å‰©ä½™çš„æ•°æ®åˆ†é…åˆ°å…¶ç°‡ä¸­ã€‚è¿™ç§æ–¹æ³•è®©ä½ ä¸¤å…¨å…¶ç¾ï¼šå¿«é€Ÿåˆ›å»ºç°‡å¹¶ä»æ•´ä¸ªæ•°æ®é›†ä¸­é‡‡æ ·ã€‚ä½ å¯èƒ½è¿˜æƒ³è¦å°è¯•ä¸åŒçš„ç°‡æ•°é‡å’Œæ¯ä¸ªç°‡ä¸­ä¸åŒçš„éšæœºé€‰æ‹©æ•°é‡ã€‚

ä½ å¯èƒ½ä¼šè®°å¾—ï¼Œä»é«˜ä¸­æ•°å­¦ä¸­å­¦åˆ°çš„ä½™å¼¦å‡½æ•°å€¼ï¼šä½™å¼¦(90Â°) = 0 å’Œä½™å¼¦(0Â°) = 1ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„ç›®æ ‡å€¼åœ¨[0,1]èŒƒå›´å†…å˜å¾—å®¹æ˜“å®ç°ï¼Œå› ä¸ºå½“ä»…å¯¹æ­£ç‰¹å¾å€¼è¿›è¡Œè®¡ç®—æ—¶ï¼Œä½™å¼¦ç›¸ä¼¼åº¦å·²ç»è¿”å›äº†[0,1]èŒƒå›´å†…çš„å€¼ã€‚å¯¹äºæˆ‘ä»¬çš„è´¨å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ä½™å¼¦ç›¸ä¼¼åº¦ä½œä¸ºæ¯ä¸ªé¡¹ç›®çš„å¤šæ ·æ€§å¾—åˆ†ã€‚å¯¹äºå¼‚å¸¸å€¼ï¼Œæˆ‘ä»¬å°†ä» 1 ä¸­å‡å»è¿™äº›å€¼ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬åœ¨ä¸»åŠ¨å­¦ä¹ æ’åç­–ç•¥ä¸­ä¿æŒä¸€è‡´æ€§ï¼Œå¹¶ä¸”æ€»æ˜¯é‡‡æ ·æœ€é«˜å€¼ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ä¸‰ç« ä¸­æåˆ°çš„ï¼Œä¸€è‡´æ€§å¯¹äºä¸‹æ¸¸ä»»åŠ¡å¾ˆé‡è¦ã€‚

### 4.3.4 é€šè¿‡åµŒå…¥æˆ– PCA å‡å°‘ç‰¹å¾ç»´åº¦

èšç±»å¯¹äºæ–‡æœ¬æ¯”å¯¹å›¾åƒæ¥è¯´æ•ˆæœæ›´å¥½ã€‚å¦‚æœä½ æ¥è‡ªè®¡ç®—æœºè§†è§‰èƒŒæ™¯ï¼Œä½ æ—©å·²çŸ¥é“è¿™ä¸€ç‚¹ã€‚å½“ä½ æŸ¥çœ‹æœ¬ç« ä¸­çš„ç¤ºä¾‹ä¸­çš„èšç±»æ—¶ï¼Œä½ å¯ä»¥çœ‹åˆ°æ¯ä¸ªèšç±»ä¸­é¡¹ç›®ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ã€‚æ‰€æœ‰èšç±»éƒ½åŒ…å«å…·æœ‰ç›¸ä¼¼ä¸»é¢˜çš„æ–°é—»æ ‡é¢˜ï¼Œä¾‹å¦‚ã€‚ä½†å¦‚æœå°†ä½™å¼¦ç›¸ä¼¼åº¦åº”ç”¨äºå›¾åƒï¼Œæƒ…å†µå¯èƒ½å°±ä¸ä¸€æ ·äº†ï¼Œå› ä¸ºå•ä¸ªåƒç´ æ¯”å­—ç¬¦åºåˆ—ä»å›¾åƒå†…å®¹ä¸­æŠ½è±¡å‡ºæ¥å¾—æ›´å¤šã€‚å¦‚æœä½ å°†ä½™å¼¦ç›¸ä¼¼åº¦åº”ç”¨äºå›¾åƒï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«é£æ™¯å›¾åƒçš„èšç±»ï¼Œä½†è¿™ä¸ªèšç±»å¯èƒ½é”™è¯¯åœ°åŒ…å«ä¸€å¼ ç»¿è‰²æ±½è½¦åœåœ¨è“è‰²å¢™å‰çš„å›¾åƒã€‚

å‡å°‘æ•°æ®ç»´åº¦æœ€å¸¸è§çš„æ–¹æ³•æ˜¯ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ã€‚PCA é€šè¿‡ç»„åˆé«˜åº¦ç›¸å…³çš„ç‰¹å¾æ¥å‡å°‘æ•°æ®é›†çš„ç»´åº¦ã€‚å¦‚æœä½ å·²ç»ä»äº‹æœºå™¨å­¦ä¹ ä¸€æ®µæ—¶é—´äº†ï¼Œä½ å¯èƒ½è®¤ä¸º PCA æ˜¯å‡å°‘æ•°æ®ç»´åº¦æ—¶çš„é¦–é€‰é€‰é¡¹ã€‚PCA å¯¹äºæ—©æœŸéç¥ç»æœºå™¨å­¦ä¹ ç®—æ³•æ¥è¯´å¾ˆå¸¸è§ï¼Œå½“æœ‰å¤§é‡ç»´åº¦ï¼ˆç‰¹å¾ï¼‰ä¹‹é—´å­˜åœ¨ç›¸å…³æ€§æ—¶ï¼Œå…¶è´¨é‡ä¼šä¸‹é™ã€‚åŸºäºç¥ç»æ¨¡å‹çš„åµŒå…¥åœ¨å­¦æœ¯ç•Œæ›´ä¸ºå¸¸è§ï¼Œä½† PCA åœ¨å·¥ä¸šç•Œæ›´ä¸ºå¸¸è§ã€‚

PCA çš„å®ç°è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒPCA æ˜¯æœºå™¨å­¦ä¹ ä¸­ä¸€ä¸ªå¾ˆå¥½çš„æŠ€æœ¯ï¼Œå› æ­¤æˆ‘å»ºè®®ä½ é˜…è¯»æ›´å¤šå…³äºå®ƒçš„å†…å®¹ï¼Œä»¥ä¾¿ä½ æ‹¥æœ‰å‡ ä¸ªé™ç»´çš„å·¥å…·ã€‚PCA ä¸æ˜¯ PyTorch çš„æœ¬åœ°å‡½æ•°ï¼ˆå°½ç®¡æˆ‘å¹¶ä¸æƒŠè®¶å®ƒå¾ˆå¿«å°±ä¼šè¢«æ·»åŠ ï¼‰ï¼Œä½† PCA çš„æ ¸å¿ƒæ“ä½œæ˜¯å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰ï¼Œè¿™åœ¨[`pytorch.org/docs/stable/torch.html#torch.svd`](https://pytorch.org/docs/stable/torch.html#torch.svd)ä¸­æœ‰ä»‹ç»ã€‚

ä½œä¸º PCA çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä½ å¯ä»¥ä½¿ç”¨ä½ æ¨¡å‹çš„åµŒå…¥â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ä½ æ¨¡å‹çš„éšè—å±‚æˆ–å¦ä¸€ä¸ªåœ¨å…¶å®ƒæ•°æ®ä¸Šè®­ç»ƒè¿‡çš„æ¨¡å‹ã€‚ä½ å¯ä»¥å°†è¿™äº›å±‚ç”¨ä½œç›´æ¥å»ºæ¨¡çš„è¡¨ç°ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨æ¨¡å‹è’¸é¦æ¥é™ä½èšç±»è¿‡ç¨‹ä¸­çš„ç»´åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

1.  é€‰æ‹©ä½ æƒ³è¦çš„èšç±»æ•°é‡ã€‚

1.  æ ¹æ®ä½ ç°æœ‰çš„ï¼ˆé«˜ç»´ï¼‰ç‰¹å¾ç©ºé—´å¯¹é¡¹ç›®è¿›è¡Œèšç±»ã€‚

1.  å°†æ¯ä¸ªèšç±»è§†ä¸ºä¸€ä¸ªæ ‡ç­¾ï¼Œå¹¶æ„å»ºä¸€ä¸ªæ¨¡å‹æ¥å°†é¡¹ç›®åˆ†ç±»åˆ°æ¯ä¸ªèšç±»ä¸­ã€‚

1.  ä½¿ç”¨ä½ æ–°ä¸­é—´å±‚çš„éšè—å±‚ä½œä¸ºæ–°çš„ç‰¹å¾é›†ï¼Œç»§ç»­å°†é¡¹ç›®é‡æ–°åˆ†é…åˆ°æœ€ä½³èšç±»çš„è¿‡ç¨‹ã€‚

æ¨¡å‹è®¾è®¡åœ¨è¿™é‡Œå¾ˆé‡è¦ã€‚å¯¹äºæ–‡æœ¬æ•°æ®ï¼Œä½ ç¬¬ 4.2 èŠ‚ä¸­çš„æ¶æ„å¯èƒ½å°±è¶³å¤Ÿäº†ï¼šä¸€ä¸ªåŒ…å« 128 ä¸ªç¥ç»å…ƒçš„å•ä¸ªéšè—å±‚ã€‚å¯¹äºå›¾åƒæ•°æ®ï¼Œä½ å¯èƒ½éœ€è¦æ›´å¤šå±‚ï¼Œå¹¶ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰æˆ–ç±»ä¼¼ç½‘ç»œæ¥å¸®åŠ©æ³›åŒ–åˆ°ç‰¹å®šçš„åƒç´ ä½ç½®ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä½ æ„å»ºæ¨¡å‹æ—¶çš„ç›´è§‰ï¼Œæ ¹æ®ä½ æ‹¥æœ‰çš„æ•°æ®é‡å’Œé€‰æ‹©çš„èšç±»ï¼ˆæ ‡ç­¾ï¼‰æ•°é‡ã€‚

æ³¨æ„ï¼Œå¦‚æœä½ çš„å‘é‡ä¸­æœ‰è´Ÿå€¼ï¼Œæ¯”å¦‚ä½ åœ¨ä½¿ç”¨ LeakyReLU ä½œä¸ºæ¿€æ´»å‡½æ•°çš„éšè—å±‚ä¸Šè¿›è¡Œèšç±»æ—¶ï¼Œä½™å¼¦ç›¸ä¼¼åº¦å°†è¿”å›[-1,1]èŒƒå›´å†…çš„å€¼ï¼Œè€Œä¸æ˜¯[0,1]èŒƒå›´å†…çš„å€¼ã€‚å› æ­¤ï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œä½ å¯èƒ½éœ€è¦é€šè¿‡åŠ  1 å¹¶å‡åŠä½™å¼¦ç›¸ä¼¼åº¦çš„ç»“æœæ¥å½’ä¸€åŒ–ï¼Œä»¥è·å¾—[0,1]çš„èŒƒå›´ã€‚

å¯¹äºæ›´å¯†é›†çš„ç‰¹å¾å‘é‡ï¼Œæ— è®ºæ˜¯æ¥è‡ªæ¨¡å‹è¿˜æ˜¯æ¥è‡ª PCAï¼Œä½ ä¹Ÿå¯èƒ½è€ƒè™‘ä½¿ç”¨é™¤äº†ä½™å¼¦ä»¥å¤–çš„å…¶ä»–è·ç¦»å‡½æ•°ã€‚ä½™å¼¦ç›¸ä¼¼åº¦æœ€é€‚åˆå¤§å‹ç¨€ç–å‘é‡ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„è¯è¡¨ç¤ºã€‚ä½ å¯èƒ½ä¸æƒ³åƒä½™å¼¦ç›¸ä¼¼åº¦é‚£æ ·å°†[0.1, 0.1]çš„æ¿€æ´»ä¸[10.1, 10.1]çš„æ¿€æ´»åŒç­‰å¯¹å¾…ã€‚PyTorch è¿˜å†…ç½®äº†ä¸€ä¸ªç”¨äºæˆå¯¹è·ç¦»çš„è·ç¦»å‡½æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¯èƒ½æ›´åˆé€‚ã€‚ä½ å¯ä»¥åœ¨ pytorch_clusters.py æ–‡ä»¶ä¸­çœ‹åˆ°è¿™ä¸ªå‡½æ•°è¢«æ³¨é‡Šæ‰ï¼Œç°åœ¨ä½™å¼¦å‡½æ•°å­˜åœ¨çš„åœ°æ–¹ã€‚ä½ å¯ä»¥å°è¯•ä¸åŒçš„è·ç¦»å‡½æ•°ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥å¾—åˆ°æ›´æœ‰æ„ä¹‰çš„èšç±»ã€‚æ­£å¦‚ä»£ç æ‰€è¿°ï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®è¯¥èšç±»ä¸­çš„é¡¹ç›®æ•°é‡æ¥å½’ä¸€åŒ–ä½ çš„èšç±»å‘é‡ï¼›å¦åˆ™ï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ä»£ç çš„å…¶ä»–éƒ¨åˆ†çš„æƒ…å†µä¸‹æ›¿æ¢å…¶ä»–è·ç¦»å‡½æ•°ã€‚

ä½œä¸ºè®¡ç®—æœºè§†è§‰é«˜çº§èšç±»çš„æœ€åä¸€ä¸ªè¦ç‚¹ï¼Œå¦‚æœä½ æ˜¯ä¸ºäº†å¤šæ ·æ€§é‡‡æ ·è€Œèšç±»ï¼Œé‚£ä¹ˆèšç±»æœ¬èº«æ˜¯å¦å…·æœ‰è¯­ä¹‰æ„ä¹‰å¯èƒ½å¹¶ä¸é‡è¦ã€‚ä»é‡‡æ ·çš„è§’åº¦æ¥çœ‹ï¼Œå³ä½¿èšç±»æœ¬èº«åœ¨è¯­ä¹‰ä¸Šä¸ä¸€è‡´ï¼Œä½ ä»ç„¶å¯èƒ½ä»ä½ çš„èšç±»ä¸­è·å¾—æ¥è‡ªä¸åŒå›¾åƒçš„è‰¯å¥½å¤šæ ·æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯èƒ½å¯ä»¥å¿½ç•¥åµŒå…¥å’Œ PCAï¼Œå¹¶ç›´æ¥åœ¨åƒç´ å€¼ä¸Šèšç±»ã€‚è¿™ç§æ–¹æ³•å¯èƒ½åŒæ ·æˆåŠŸã€‚ä½™å¼¦ç›¸ä¼¼åº¦å°†ä¸º RGB = (50,100,100)å’Œ RGB = (100,200,200)åˆ›å»ºç›¸åŒçš„å‘é‡ï¼Œå› æ­¤ç›¸åŒå›¾åƒçš„è¾ƒäº®ã€è¾ƒé¥±å’Œçš„ç‰ˆæœ¬å¯èƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†è¿™å¯èƒ½å¹¶ä¸é‡è¦ã€‚æˆ‘ä¸äº†è§£ä»»ä½•å…³äºå›¾åƒåƒç´ çº§èšç±»æ˜¯å¦æ€»æ˜¯æ¯”åœ¨ä¸»åŠ¨å­¦ä¹ é‡‡æ ·æ—¶ä½¿ç”¨é™ç»´æ›´å·®çš„ç ”ç©¶ï¼Œå› æ­¤è¿™ä¸ªç ”ç©¶ä¸»é¢˜å¯¹äºä»»ä½•æœ‰å…´è¶£è¿½æ±‚å®ƒçš„äººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªæœ‰ä»·å€¼çš„ä¸»é¢˜ã€‚

### 4.3.5 å…¶ä»–èšç±»ç®—æ³•

é™¤äº† k-means çš„å…¶ä»–å˜ä½“ä¹‹å¤–ï¼Œä½ å¯èƒ½è¿˜æƒ³å°è¯•å…¶ä»–èšç±»ç®—æ³•å’Œç›¸å…³æ— ç›‘ç£æœºå™¨å­¦ä¹ ç®—æ³•ã€‚æœ¬ä¹¦çš„èŒƒå›´ä¸æ¶‰åŠæ¯ä¸ªæµè¡Œçš„èšç±»ç®—æ³•ï¼›å…³äºèšç±»å·²æœ‰è®¸å¤šä¼˜ç§€çš„ä¹¦ç±ã€‚ç„¶è€Œï¼Œåœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬å°†ä»é«˜å±‚æ¬¡çš„è§’åº¦å®¡è§†ä¸‰ç§ç®—æ³•ï¼š

+   åŸºäºé‚»è¿‘åº¦çš„èšç±»ï¼Œä¾‹å¦‚ k-æœ€è¿‘é‚»ï¼ˆKNNï¼‰å’Œè°±èšç±»

+   é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰

+   ä¸»é¢˜å»ºæ¨¡

ä½ å¯èƒ½ç†Ÿæ‚‰ KNN ç®—æ³•ã€‚KNN é€šè¿‡è¯¥ç°‡ä¸­å°‘æ•°å‡ ä¸ªé¡¹ç›®ä¹‹é—´çš„é‚»è¿‘åº¦æ¥å½¢æˆç°‡ï¼ˆk ä¸ªé¡¹ç›®ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç°‡ã€‚k-means çš„ä¸€ä¸ªä¼˜ç‚¹å’Œå±€é™æ€§æ˜¯æ‰€æœ‰ç°‡éƒ½æœ‰ä¸€ä¸ªæœ‰æ„ä¹‰çš„ä¸­å¿ƒï¼šå³å‡å€¼æœ¬èº«ã€‚ä½ å¯ä»¥æƒ³è±¡ L å½¢çŠ¶çš„ç°‡æˆ–å…¶ä»–æ²¡æœ‰æœ‰æ„ä¹‰çš„ä¸­å¿ƒçš„æ¨¡å¼ï¼›KNN å…è®¸ä½ æ•æ‰è¿™äº›ç±»å‹çš„ç°‡ã€‚è°±èšç±»ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºå‘é‡çš„èšç±»æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡åœ¨æ–°å‘é‡ä¸­è¡¨ç¤ºç‰¹å¾ç©ºé—´æ¥å‘ç°æ›´å¤æ‚çš„ç°‡å½¢çŠ¶ã€‚

ç„¶è€Œï¼Œæ²¡æœ‰æ˜ç¡®çš„è¯æ®è¡¨æ˜åŸºäºé‚»è¿‘åº¦çš„èšç±»åœ¨ä¸»åŠ¨å­¦ä¹ æ–¹é¢å§‹ç»ˆä¼˜äº k-means èšç±»ã€‚ä½ å¯èƒ½æƒ³åœ¨ L å½¢çŠ¶çš„ä¸¤ä¸ªä¸åŒæç«¯åˆ†åˆ«æ•è·æ•°æ®ç‚¹ï¼Œå› ä¸ºå³ä½¿å®ƒä»¬ä¹‹é—´æœ‰è¿ç»­çš„é¡¹ç›®é“¾æ¥ï¼Œå®ƒä»¬ä¹Ÿè¶³å¤Ÿä¸åŒã€‚æ­¤å¤–ï¼Œå¦‚æœä½ çš„ k-means ç®—æ³•å»ºç«‹åœ¨éšè—å±‚æˆ– PCA å¯¼å‡ºçš„å‘é‡ä¸Šï¼Œé‚£ä¹ˆå®ƒå°†åœ¨ä½ å­¦ä¹ çš„å‘é‡ä¸­å‘ç°ä¸åŒç±»å‹çš„å½¢çŠ¶ï¼Œæ­£å¦‚ä½ ä¹‹å‰æ‰€å­¦çš„ã€‚ä½ çš„ k-means ç®—æ³•åªä¼šåœ¨å®ƒå­¦ä¹ çš„å‘é‡ä¸­å‘ç°ç®€å•çš„çƒçŠ¶ç°‡ï¼Œä½†å¦‚æœè¿™äº›å‘é‡æ˜¯ä»æ›´å¤šç‰¹å¾ä¸­æŠ½è±¡å‡ºæ¥çš„ï¼Œé‚£ä¹ˆå½“å®ƒä»¬æ˜ å°„å›è¿™äº›ç‰¹å¾æ—¶ï¼Œç°‡å°±ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚å®é™…ä¸Šï¼Œå°† k-means åº”ç”¨äºéšè—å±‚ä¸­çš„å‘é‡ä¸ä½¿ç”¨è°±èšç±»æ¥å‘ç°ä¸åŒçš„ç°‡å½¢çŠ¶ç›¸ä¼¼ã€‚å› æ­¤ï¼Œå¯¹äºä¸»åŠ¨å­¦ä¹ æ¥è¯´ï¼Œè°±èšç±»æ²¡æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿â€”â€”è‡³å°‘ï¼Œè¿˜æ²¡æœ‰äººæ·±å…¥ç ”ç©¶è¿™ä¸ªè¯é¢˜ï¼Œä»¥è‡³äºåœ¨å¤§å¤šæ•°ä¸»åŠ¨å­¦ä¹ ç”¨ä¾‹ä¸­ï¼Œä¸€ç§æ–¹æ³•æ˜æ˜¾ä¼˜äºå¦ä¸€ç§æ–¹æ³•ã€‚

GMM å…è®¸ä¸€ä¸ªé¡¹ç›®åŒæ—¶å±äºå¤šä¸ªèšç±»ã€‚ä¸è¯•å›¾å¼ºåˆ¶åœ¨ä¸¤ä¸ªè‡ªç„¶é‡å çš„èšç±»ä¹‹é—´è®¾ç½®èšç±»è¾¹ç•Œçš„ k-means ç›¸æ¯”ï¼Œè¿™ç§ç®—æ³•å¯ä»¥äº§ç”Ÿæ›´æ•°å­¦ä¸Šåˆç†çš„èšç±»ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ° GMMs å’Œç›¸å…³ç®—æ³•è¢«ç§°ä¸ºè½¯èšç±»ä¸ç¡¬èšç±»æˆ–æ¨¡ç³Šèšç±»ã€‚ä¸åŸºäºé‚»è¿‘åº¦çš„èšç±»ä¸€æ ·ï¼Œæ²¡æœ‰å¼ºæœ‰åŠ›çš„è¯æ®è¡¨æ˜ GMMs æ¯” k-means åœ¨ä¸»åŠ¨å­¦ä¹ æ–¹é¢äº§ç”Ÿæ›´å¥½çš„æ ·æœ¬ã€‚åœ¨æˆ‘èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸï¼Œæˆ‘åŒæ—¶ä»äº‹æ··åˆæ¨¡å‹å’Œä¸»åŠ¨å­¦ä¹ ï¼Œä½†ä»æœªå°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼›æˆ‘ä»æœªè§‰å¾—å…¶ä»–ä¸»åŠ¨å­¦ä¹ æŠ€æœ¯å­˜åœ¨éœ€è¦ GMMs æˆ–ç±»ä¼¼ç®—æ³•æ¥å…‹æœçš„ä¸è¶³ã€‚æ‰€ä»¥ä»å®è·µç»éªŒæ¥çœ‹ï¼Œæˆ‘å¯ä»¥æŠ¥å‘Šè¯´ï¼Œæˆ‘ä»æœªè§‰å¾—æœ‰å¿…è¦å°è¯•å°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼Œä½†æˆ‘ä¹Ÿæ²¡æœ‰æ·±å…¥æµ‹è¯• GMMs åœ¨ä¸»åŠ¨å­¦ä¹ ä¸­çš„åº”ç”¨ã€‚è¿™ä¸ªä¸»é¢˜æ˜¯å¦ä¸€ä¸ªå¯èƒ½ä»¤äººå…´å¥‹çš„ç ”ç©¶é¢†åŸŸã€‚

ä¸»é¢˜æ¨¡å‹å‡ ä¹ä»…ç”¨äºæ–‡æœ¬ã€‚ä¸»é¢˜æ¨¡å‹æ˜ç¡®åœ°å‘ç°ä¸€ä¸ªä¸»é¢˜ä¸­ç›¸å…³è¯çš„é›†åˆä»¥åŠè¿™äº›ä¸»é¢˜åœ¨æ–‡æ¡£ä¸­çš„åˆ†å¸ƒã€‚æœ€æµè¡Œçš„ç®—æ³•æ˜¯æ½œåœ¨ç‹„åˆ©å…‹é›·åˆ†é…ï¼ˆLDAï¼‰ï¼Œä½ å¯èƒ½åœ¨æ–‡çŒ®ä¸­çœ‹åˆ°ä¸»é¢˜æ¨¡å‹è¢«ç§°ä¸º LDAã€‚ä¸ GMMs ä¸åŒï¼Œä¸»é¢˜æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­ä½¿ç”¨å¾—å¾ˆå¤šï¼Œå°¤å…¶æ˜¯åœ¨ç¤¾äº¤åª’ä½“ç›‘æ§å·¥å…·ä¸­ã€‚ä¸€ä¸ªä¸»é¢˜ä¸­çš„ç›¸å…³è¯é€šå¸¸åœ¨è¯­ä¹‰ä¸Šæ˜¯ç›¸å…³çš„ï¼Œå› æ­¤ä¸“å®¶ç”¨æˆ·å¯ä»¥ç”Ÿæˆä¸»é¢˜ï¼Œç„¶åé€‰æ‹©æœ€æœ‰è¶£çš„ä¸»é¢˜è¿›è¡Œè¿›ä¸€æ­¥åˆ†æã€‚è¿™ç§æ–¹æ³•æ˜¯ä¸€ç§è½»é‡çº§ç›‘ç£ï¼Œæ˜¯æˆ‘ä»¬å°†åœ¨ç¬¬ä¹ç« ä¸­å†æ¬¡è®¨è®ºçš„é‡è¦çš„äººæœºäº¤äº’ç­–ç•¥ã€‚åœ¨å¤šæ ·æ€§é‡‡æ ·ä¸­ï¼Œä½ å¯ä»¥å°†èšç±»ä½œä¸ºä¸»é¢˜ï¼Œå¹¶ä»æ¯ä¸ªä¸»é¢˜ä¸­é‡‡æ ·é¡¹ç›®ï¼Œå°±åƒä½¿ç”¨ä»»ä½•å…¶ä»–èšç±»æœºåˆ¶ä¸€æ ·ã€‚

è™½ç„¶ä»»ä½•èšç±»ç®—æ³•å¯èƒ½éƒ½ä¸å¦‚ k-means åœ¨å»ºæ¨¡æ•°æ®æ–¹é¢æ›´å¥½ï¼Œä½†å®ƒå°†å¸¦æ¥ä¸åŒçš„ç»“æœï¼Œè¿™å°†å¢åŠ å¤šæ ·æ€§ã€‚æ‰€ä»¥å¦‚æœä½ æœ‰å¤šä¸ªèšç±»ç®—æ³•ä¸ºä¸»åŠ¨å­¦ä¹ ç”Ÿæˆæ ·æœ¬ï¼Œä½ å°±ä¸å¤ªå¯èƒ½å› ä¸ºä»»ä½•ä¸€ç§èšç±»æ–¹æ³•çš„æ•°å­¦å‡è®¾è€Œäº§ç”Ÿåå·®ã€‚å¦‚æœä½ å·²ç»å› ä¸ºå…¶ä»–åŸå› åœ¨ä½ çš„æ•°æ®ä¸Šä½¿ç”¨èšç±»ç®—æ³•ï¼Œé‚£ä¹ˆå°è¯•å°†å®ƒä»¬ä½œä¸ºé‡‡æ ·ç­–ç•¥æ¥ä½¿ç”¨ã€‚

## 4.4 ä»£è¡¨æ€§é‡‡æ ·

*ä»£è¡¨æ€§* *é‡‡æ ·* æŒ‡çš„æ˜¯æ˜ç¡®è®¡ç®—è®­ç»ƒæ•°æ®ä¸æˆ‘ä»¬éƒ¨ç½²æ¨¡å‹çš„åº”ç”¨åŸŸä¹‹é—´çš„å·®å¼‚ã€‚åœ¨åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼å’ŒåŸºäºèšç±»çš„é‡‡æ ·æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®å°è¯•å»ºæ¨¡æˆ‘ä»¬çš„æ¨¡å‹ä¸è¯„ä¼°æ¨¡å‹å‡†ç¡®æ€§çš„æ•°æ®ä¹‹é—´çš„å·®è·ã€‚å› æ­¤ï¼Œè‡ªç„¶çš„ä¸‹ä¸€æ­¥æ˜¯å°è¯•æ‰¾åˆ°ç¬¦åˆè¿™ä¸€ç‰¹å¾çš„é¡¹ç›®ï¼šå“ªäº›æœªæ ‡è®°æ•°æ®çœ‹èµ·æ¥æœ€åƒæˆ‘ä»¬éƒ¨ç½²æ¨¡å‹æ‰€åœ¨çš„é¢†åŸŸï¼Ÿè¿™ä¸€æ­¥éª¤å¯¹äºä½ ä½œä¸ºæ•°æ®ç§‘å­¦å®¶æ¥è¯´ï¼Œå°±åƒå¯¹äºä½ çš„æ¨¡å‹ä¸€æ ·æœ‰ç”¨ï¼šäº†è§£å“ªäº›æ•°æ®çœ‹èµ·æ¥æœ€åƒä½ æ­£åœ¨é€‚åº”çš„åœ°æ–¹ï¼Œå°†ç»™ä½ å…³äºæ•´ä¸ªæ•°æ®é›†ä»¥åŠä½ å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜çš„è‰¯å¥½ç›´è§‰ã€‚ä¸€ä¸ªç¤ºä¾‹å¦‚å›¾ 4.6 æ‰€ç¤ºã€‚

![å›¾ç‰‡](img/CH04_F06_Munro.png)

å›¾ 4.6 ä»£è¡¨æ€§é‡‡æ ·çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œæ˜¾ç¤ºäº†å½“å‰è®­ç»ƒæ•°æ®æ¥è‡ªä¸åº”ç”¨åŸŸæ•°æ®ä¸åŒçš„åˆ†å¸ƒã€‚ä»£è¡¨æ€§é‡‡æ ·æœ€å¤§åŒ–äº†ç›¸å¯¹äºå½“å‰è®­ç»ƒæ•°æ®ï¼Œé‡‡æ ·ä¸åº”ç”¨åŸŸçœ‹èµ·æ¥æœ€åƒçš„é¡¹ç›®ã€‚

### 4.4.1 ä»£è¡¨æ€§é‡‡æ ·å¾ˆå°‘å•ç‹¬ä½¿ç”¨

å¦‚æœä½ è®¤ä¸ºä»£è¡¨æ€§é‡‡æ ·æ˜¯ä¸»åŠ¨å­¦ä¹ ä¸­æœ€ä¼˜çš„æ–¹æ³•ï¼Œè¿™æ˜¯å¯ä»¥ç†è§£çš„ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿé‡‡æ ·çœ‹èµ·æ¥æœ€åƒæˆ‘ä»¬å¸Œæœ›éƒ¨ç½²æ¨¡å‹çš„åœ°æ–¹çš„æ•°æ®ï¼Œè¿™éš¾é“ä¸æ˜¯è§£å†³äº†æˆ‘ä»¬å¤§éƒ¨åˆ†çš„å¤šæ ·æ€§é—®é¢˜å—ï¼Ÿè™½ç„¶è¿™ç§ç›´è§‰æ˜¯æ­£ç¡®çš„ï¼Œä»£è¡¨æ€§é‡‡æ ·ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ä¹‹ä¸€ï¼Œä½†å®ƒä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºç°é”™è¯¯å’Œè¿‡æ‹Ÿåˆçš„ã€‚å› æ­¤ï¼Œåœ¨æ·±å…¥å®æ–½ä¹‹å‰ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸€äº›å±€é™æ€§ã€‚

é¦–å…ˆï¼Œåœ¨å¤§å¤šæ•°ç°å®åœºæ™¯ä¸­ï¼Œä½ çš„æœªæ ‡è®°æ•°æ®å¹¶ä¸æ˜¯æ¥è‡ªä½ å°†éƒ¨ç½²æ¨¡å‹çš„é¢†åŸŸã€‚å¦‚æœä½ æ­£åœ¨éƒ¨ç½²ä¸€ä¸ªæ¨¡å‹æ¥è¯†åˆ«æœªæ¥çš„æ–°é—»æ ‡é¢˜ï¼ˆå¦‚æˆ‘ä»¬çš„ç¤ºä¾‹ï¼‰æˆ–å¸®åŠ©è‡ªåŠ¨é©¾é©¶æ±½è½¦åœ¨æœªæ¥æŸä¸ªæ—¶åˆ»åœ¨é“è·¯ä¸Šå¯¼èˆªï¼Œä½ å¹¶æ²¡æœ‰æ¥è‡ªç›®æ ‡åŸŸçš„æ•°æ®æ ·æœ¬ï¼›ä½ æœ‰ä¸€ä¸ªæ¥è‡ªæ—©æœŸä¸­é—´æ—¶é—´ç‚¹çš„æ ·æœ¬ã€‚è¿™ä¸€äº‹å®åœ¨å¤§å¤šæ•°ç°å®åœºæ™¯ä¸­éƒ½æ˜¯æ­£ç¡®çš„ï¼šä½ å°†åœ¨æœªæ¥éƒ¨ç½²ä½ çš„æ¨¡å‹ã€‚å› æ­¤ï¼Œå¦‚æœä½ å°†è®­ç»ƒæ•°æ®è°ƒæ•´å¾—å¤ªæ¥è¿‘ä½ çš„æœªæ ‡è®°æ•°æ®ï¼Œå½“æ¨¡å‹éƒ¨ç½²åˆ°æœªæ¥æ•°æ®æ—¶ï¼Œå®ƒå°†é™·å…¥è¿‡å»ã€‚

åœ¨æŸäº›éƒ¨ç½²åœºæ™¯ä¸­ï¼Œä¾‹å¦‚é›†ä¸­å¼æ¨¡å‹å¤„ç†æ–°é—»æ ‡é¢˜ï¼Œä½ å¯èƒ½èƒ½å¤Ÿå‡ ä¹å®æ—¶åœ°é€‚åº”æ–°æ•°æ®ï¼Œå› æ­¤ä½ ä¸ä¼šé‡åˆ°å¤§é—®é¢˜ã€‚åœ¨å…¶ä»–ç”¨ä¾‹ä¸­ï¼Œä¾‹å¦‚è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼Œå‡ ä¹å®æ—¶åœ°è°ƒæ•´æ¨¡å‹å¹¶å°†å…¶éƒ¨ç½²åˆ°æ¯è¾†è½¦ä¸Šå°†æ˜¯ä¸å¯èƒ½çš„ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦æ¯”ä»…çœ‹èµ·æ¥æœ€åƒä½ å½“å‰æœªæ ‡è®°æ•°æ®çš„è®­ç»ƒé¡¹ç›®æ›´å¤šæ ·åŒ–çš„è®­ç»ƒé¡¹ç›®ã€‚

åœ¨æœ¬ä¹¦çš„æ‰€æœ‰ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ä¸­ï¼Œä»£è¡¨æ€§é‡‡æ ·æœ€å®¹æ˜“å‡ºç°å™ªå£°ã€‚å¦‚æœä½ æœ‰å¹²å‡€çš„è®­ç»ƒæ•°æ®ï¼Œä½ çš„æœªæ ‡è®°æ•°æ®ä¸­çš„å™ªå£°é€šå¸¸ä¸è®­ç»ƒæ•°æ®æœ€ä¸åŒã€‚åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ï¼Œè¿™ç§å™ªå£°å¯èƒ½åŒ…æ‹¬æŸåçš„æ–‡æœ¬ã€ä¸å±äºä½ çš„ç›®æ ‡åŸŸçš„è¯­è¨€æ–‡æœ¬ã€æ¥è‡ªä½ çš„è®­ç»ƒæ•°æ®ä¸­ä¸å­˜åœ¨çš„åœ°ååˆ—è¡¨çš„æ–‡æœ¬ï¼Œç­‰ç­‰ã€‚å¯¹äºè®¡ç®—æœºè§†è§‰ï¼Œå™ªå£°å¯èƒ½åŒ…æ‹¬æŸåçš„å›¾åƒæ–‡ä»¶ï¼›ä¾‹å¦‚ï¼Œåœ¨å°†ç›¸æœºé•œå¤´å¯¹å‡†åœ°é¢æ—¶æ„å¤–æ‹æ‘„çš„å›¾ç‰‡ï¼›ä»¥åŠç”±äºä½¿ç”¨ä¸åŒç›¸æœºã€åˆ†è¾¨ç‡æˆ–å‹ç¼©æŠ€æœ¯è€Œäº§ç”Ÿçš„ä¼ªå½±ã€‚è¿™äº›ç±»å‹çš„å™ªå£°ä¸­ï¼Œæ²¡æœ‰ä¸€ç§å¯¹ä½ çš„ä»»åŠ¡æ˜¯æœ‰è¶£çš„ï¼Œå› æ­¤å®ƒä»¬ä¸ä¼šäº§ç”Ÿæœ‰è¶£æˆ–å¤šæ ·åŒ–çš„æ ·æœ¬èŒƒå›´ä»¥è¿›è¡Œæ ‡è®°ã€‚

æœ€åï¼Œå¦‚æœä½ åªåœ¨ä¸»åŠ¨å­¦ä¹ è¿‡ç¨‹çš„åæœŸå‘¨æœŸä¸­åº”ç”¨ä»£è¡¨æ€§é‡‡æ ·ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¼šäº§ç”Ÿæ¯”å¥½å¤„æ›´å¤šçš„åå¤„ï¼Œå°¤å…¶æ˜¯åœ¨ä½ æ²¡æœ‰é¢†åŸŸé€‚åº”é—®é¢˜æ—¶ã€‚å‡è®¾ä½ ä½¿ç”¨äº†ä¸ç¡®å®šæ€§é‡‡æ ·è¿›è¡Œå‡ æ¬¡ä¸»åŠ¨å­¦ä¹ è¿­ä»£ï¼Œç„¶ååœ¨åç»­è¿­ä»£ä¸­åº”ç”¨ä»£è¡¨æ€§é‡‡æ ·ã€‚ä½ åœ¨æ—©æœŸè¿­ä»£ä¸­è¿‡åº¦é‡‡æ ·äº†æ¥è¿‘å†³ç­–è¾¹ç•Œçš„é¡¹ç›®ï¼Œå› æ­¤ä»£è¡¨æ€§é‡‡æ ·å°†åœ¨åç»­è¿­ä»£ä¸­è¿‡åº¦é‡‡æ ·è¿œç¦»å†³ç­–è¾¹ç•Œçš„é¡¹ç›®ã€‚å¦‚æœä½ è¿™æ ·å®æ–½ï¼Œè¿™ç§æ–¹æ³•å°†æ¯”éšæœºé‡‡æ ·æ›´å·®ã€‚

ç”±äºè¿™äº›åŸå› ï¼Œä»£è¡¨æ€§é‡‡æ ·å¾ˆå°‘å•ç‹¬ä½¿ç”¨ï¼›å®ƒæœ€å¸¸ç”¨äºå°†ä»£è¡¨æ€§é‡‡æ ·ä¸ä¸ç¡®å®šæ€§é‡‡æ ·ç»“åˆçš„ç®—æ³•æˆ–è¿‡ç¨‹ä¸­ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½åªä¸ºä¹Ÿæ¥è¿‘å†³ç­–è¾¹ç•Œçš„é¡¹ç›®ä½¿ç”¨ä»£è¡¨æ€§é‡‡æ ·ã€‚åœ¨ä¸€äº›å…³äºä»£è¡¨æ€§é‡‡æ ·çš„åŸºç¡€å­¦æœ¯è®ºæ–‡ä¸­ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä»–ä»¬æ‰€è¯´çš„*ä»£è¡¨æ€§é‡‡æ ·*æ˜¯å¤šæ ·æ€§å’Œä¸ç¡®å®šæ€§çš„ç»“åˆã€‚æˆ‘ä»¬å°†åœ¨ç¬¬äº”ç« ä¸­å›åˆ°æ–¹æ³•çš„ç»„åˆï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å°†å……åˆ†åˆ©ç”¨æ‰€æœ‰é‡‡æ ·æŠ€æœ¯ã€‚åœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†å•ç‹¬ä»‹ç»ä»£è¡¨æ€§é‡‡æ ·ï¼Œä»¥ä¾¿ä½ åœ¨å­¦ä¹ å¦‚ä½•å°†å…¶ä¸å…¶ä»–æ–¹æ³•ç»“åˆä¹‹å‰ç†è§£å…¶åŸºæœ¬åŸç†ã€‚

è€ƒè™‘åˆ°è¿™äº›æ³¨æ„äº‹é¡¹ï¼Œä»£è¡¨æ€§é‡‡æ ·å¯¹äºé¢†åŸŸé€‚åº”å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚åœ¨å­¦æœ¯ç ”ç©¶ä¸­ï¼Œäººä»¬å…³æ³¨çš„æ˜¯æ²¡æœ‰ä»»ä½•é¢å¤–æ ‡ç­¾çš„é¢†åŸŸé€‚åº”ï¼Œè¿™é€šå¸¸è¢«ç§°ä¸º*å·®å¼‚*è€Œä¸æ˜¯*è¡¨ç¤º*ã€‚åœ¨å·¥ä¸šç•Œï¼Œæˆ‘è¿˜æ²¡æœ‰é‡åˆ°æ²¡æœ‰é¢å¤–äººå·¥å¹²é¢„çš„é¢†åŸŸé€‚åº”ï¼Œå› æ­¤å®ƒåº”è¯¥æˆä¸ºä½ å·¥å…·ç®±ä¸­çš„é‡è¦å·¥å…·ã€‚

### 4.4.2 ç®€å•ä»£è¡¨æ€§é‡‡æ ·

ä¸æˆ‘ä»¬åœ¨ 4.4.1 èŠ‚ä¸­çš„èšç±»ç¤ºä¾‹ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¸å¤šç®—æ³•è¿›è¡Œä»£è¡¨æ€§é‡‡æ ·ã€‚æˆ‘ä»¬åœ¨ç¬¬äºŒç« ä¸­æåˆ°è¿‡ä¸€ç§ï¼Œå…¶ä¸­å¯¹å¼‚å¸¸æ£€æµ‹æ–¹æ³•è¿›è¡Œå¾®å°ä¿®æ”¹ï¼Œè®¡ç®—æŸäº‹ç‰©æ˜¯å¦æ˜¯è®­ç»ƒæ•°æ®çš„å¼‚å¸¸ï¼Œä½†ä¸æ˜¯æœªæ ‡è®°æ•°æ®çš„å¼‚å¸¸ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æé«˜ä¸€ç‚¹å¤æ‚æ€§ï¼Œå¹¶ä½¿ç”¨ä»æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®åˆ°æœªæ ‡è®°æ•°æ®çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

1.  åˆ›å»ºä¸€ä¸ªåŒ…å«è®­ç»ƒæ•°æ®çš„ç°‡ã€‚

1.  åˆ›å»ºä¸€ä¸ªåŒ…å«æœªæ ‡è®°æ•°æ®çš„ç¬¬äºŒä¸ªç°‡ã€‚

1.  ä»è®­ç»ƒæ•°æ®ç›¸å¯¹äºæœªæ ‡è®°æ•°æ®çš„å¼‚å¸¸åˆ†æ•°ä¸­é‡‡æ ·å…·æœ‰æœ€å¤§å¼‚å¸¸åˆ†æ•°çš„é¡¹ç›®ã€‚

è¦å°è¯•ä»£è¡¨æ€§é‡‡æ ·ï¼Œè¯·è¿è¡Œ

```
> python active_learning.py --representative=95
```

æ­¤å‘½ä»¤ä½¿ç”¨ä»£è¡¨æ€§é‡‡æ ·ä¸ºæ‚¨é‡‡æ · 95 ä¸ªæœªæ ‡è®°é¡¹ç›®ä»¥ä¾¿æ ‡æ³¨ï¼Œä»¥åŠä»å‰©ä½™æœªæ ‡è®°é¡¹ç›®ä¸­éšæœºé€‰æ‹©çš„ 5 ä¸ªé¡¹ç›®ã€‚ä»£è¡¨æ€§é‡‡æ ·å‡½æ•°å°†è®­ç»ƒæ•°æ®å’Œæœªæ ‡è®°æ•°æ®ä½œä¸ºå‚æ•°ï¼Œä»¥æ‰¾åˆ°ç›¸å¯¹äºè®­ç»ƒæ•°æ®çš„æœªæ ‡è®°æ•°æ®é¡¹ç›®ä¸­æœ€å…·ä»£è¡¨æ€§çš„é¡¹ç›®ã€‚ä½¿ç”¨æˆ‘ä»¬ç°æœ‰çš„èšç±»å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™åªéœ€è¦å‡ è¡Œé¢å¤–çš„ä»£ç ã€‚

åˆ—è¡¨ 4.6 PyTorch ä¸­çš„ä»£è¡¨æ€§é‡‡æ ·

```
def get_representative_samples(self, training_data, unlabeled_data, number=20, limit=10000):
    """Gets the most representative unlabeled items, compared to training data
    Keyword arguments:
        training_data -- data with a label, that the current model is trained 
        â¥ on
        unlabeled_data -- data that does not yet have a label
        number -- number of items to sample
        limit -- sample from only this many items for faster sampling (-1 = 
        â¥ no limit)
    Creates one cluster for each data set: training and unlabeled

    """ 

    if limit > 0:
        shuffle(training_data)
        training_data = training_data[:limit]
        shuffle(unlabeled_data)
        unlabeled_data = unlabeled_data[:limit]

    training_cluster = Cluster()       â¶
    for item in training_data:
        training_cluster.add_to_cluster(item)

    unlabeled_cluster = Cluster()      â·
    for item in unlabeled_data:
        unlabeled_cluster.add_to_cluster(item)

    for item in unlabeled_data:        â¸
        training_score = training_cluster.cosine_similary(item)
        unlabeled_score = unlabeled_cluster.cosine_similary(item)

        representativeness = unlabeled_score - training_score

        item[3] = "representative"            
        item[4] = representativeness

    unlabeled_data.sort(reverse=True, key=lambda x: x[4])       
    return unlabeled_data[:number:]  
```

â¶ ä¸ºè®­ç»ƒæ•°æ®åˆ›å»ºä¸€ä¸ªç°‡ã€‚

â· ä¸ºæœªæ ‡è®°æ•°æ®åˆ›å»ºä¸€ä¸ªç°‡ã€‚

â¸ å¯¹äºæ¯ä¸ªæœªæ ‡è®°é¡¹ç›®ï¼Œè®¡ç®—å®ƒä¸æ ‡è®°æ•°æ®ç›¸å¯¹äºæœªæ ‡è®°æ•°æ®çš„æ¥è¿‘ç¨‹åº¦ã€‚

ä¸èšç±»ä»£ç ä¸€æ ·ï¼Œå¦‚æœæ‚¨å°†æ­¤é‡‡æ ·ç­–ç•¥åº”ç”¨äºå›¾åƒï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨ä¸€ä¸ªä½ç»´å‘é‡ï¼Œè¯¥å‘é‡å°†å›¾åƒä»å•ä¸ªåƒç´ ä¸­æŠ½è±¡å‡ºæ¥ã€‚å¦‚æœæ‚¨ä½¿ç”¨ä¸åŒçš„ç‰¹å¾ç»´åº¦ï¼Œä»£ç ä¸­ä¸éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ï¼›æ‚¨åªéœ€å°†æ–°çš„æ•°æ®å‘é‡ç›´æ¥æ’å…¥ç®—æ³•ä¸­å³å¯ã€‚

### 4.4.3 è‡ªé€‚åº”ä»£è¡¨æ€§é‡‡æ ·

å¯¹æˆ‘ä»¬ä»£ç çš„å¾®å°ä¿®æ”¹æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªä¸»åŠ¨å­¦ä¹ è¿­ä»£ä¸­ä½¿æˆ‘ä»¬çš„ä»£è¡¨æ€§é‡‡æ ·ç­–ç•¥è‡ªé€‚åº”ã€‚å½“æˆ‘ä»¬é‡‡æ ·äº†æœ€å…·ä»£è¡¨æ€§çš„é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥é¡¹ç›®å°†åœ¨ä»¥åè·å¾—æ ‡ç­¾ï¼Œå³ä½¿æˆ‘ä»¬è¿˜ä¸ç¡®å®šé‚£ä¸ªæ ‡ç­¾æ˜¯ä»€ä¹ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†é‚£ä¸ªå•ç‹¬çš„é¡¹ç›®æ·»åŠ åˆ°å‡è®¾çš„è®­ç»ƒæ•°æ®ä¸­ï¼Œç„¶åå¯¹ä¸‹ä¸€ä¸ªé¡¹ç›®å†æ¬¡è¿è¡Œä»£è¡¨æ€§é‡‡æ ·ã€‚è¿™ç§æ–¹æ³•å°†æœ‰åŠ©äºé˜²æ­¢ä»£è¡¨æ€§é‡‡æ ·åªé‡‡æ ·ç›¸ä¼¼çš„é¡¹ç›®ã€‚è¦å°è¯•è‡ªé€‚åº”ä»£è¡¨æ€§é‡‡æ ·ï¼Œè¯·è¿è¡Œ

```
> python active_learning.py --adaptive_representative=95
```

æ­¤å‘½ä»¤ä½¿ç”¨è‡ªé€‚åº”ä»£è¡¨æ€§é‡‡æ ·ä¸ºæ‚¨é‡‡æ · 95 ä¸ªæœªæ ‡è®°é¡¹ç›®ä»¥ä¾¿æ ‡æ³¨ï¼Œä»¥åŠä»å‰©ä½™æœªæ ‡è®°é¡¹ç›®ä¸­éšæœºé€‰æ‹©çš„ 5 ä¸ªé¡¹ç›®ã€‚æ–°ä»£ç ç”šè‡³æ›´çŸ­ï¼Œä½¿ç”¨ç›¸åŒçš„å‚æ•°ï¼Œå¹¶å¯¹æ¯ä¸ªæ–°é¡¹ç›®è°ƒç”¨ä¸€æ¬¡ä»£è¡¨æ€§é‡‡æ ·å‡½æ•°ã€‚

åˆ—è¡¨ 4.7 PyTorch ä¸­çš„è‡ªé€‚åº”ä»£è¡¨æ€§é‡‡æ ·

```
def get_adaptive_representative_samples(self, training_data, unlabeled_data, 
â¥ number=20, limit=5000):
    """Adaptively gets the most representative unlabeled items, compared to 
    â¥ training data

    Keyword arguments:
        training_data -- data with a label, that the current model is trained on
        unlabeled_data -- data that does not yet have a label
        number -- number of items to sample
        limit -- sample from only this many items for faster sampling (-1 = 
        â¥ no limit)

    Adaptive variant of get_representative_samples() where the training_data 
    â¥ is updated
    after each individual selection in order to increase diversity of samples

    """

    samples = []

    for i in range(0, number):
        print("Epoch "+str(i))
        representative_item = get_representative_samples(training_data, 
        â¥ unlabeled_data, 1, limit)[0]
        samples.append(representative_item)
        unlabeled_data.remove(representative_item)

    return samples
```

ä½¿ç”¨æˆ‘ä»¬çš„é›†ç¾¤å’Œä»£è¡¨æ€§é‡‡æ ·çš„æ„å»ºå—ï¼Œåœ¨ä»£ç ä¸Šå¼€å§‹å®æ–½æ›´å¤æ‚çš„ä¸»åŠ¨å­¦ä¹ ç­–ç•¥åªæ˜¯ä¸€ä¸ªå°çš„æ‰©å±•ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬äº”ç« ä¸­è¯¦ç»†ä»‹ç»è¿™äº›é«˜çº§æŠ€æœ¯ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»£ç å°†ä¿æŒç®€çŸ­ï¼Œä½†äº†è§£æ„å»ºå—å¾ˆé‡è¦ã€‚

æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°è¿è¡Œéœ€è¦ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°è¯„ä¼°æ‚¨æ‰€é‡‡æ ·çš„æ¯ä¸ªæœªæ ‡è®°æ•°æ®ç‚¹çš„ä»£è¡¨æ€§å¾—åˆ†ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨åœ¨ä¸€ä¸ªè¾ƒå°çš„æœåŠ¡å™¨æˆ–ä¸ªäººç”µè„‘ä¸Šè¿è¡Œæ­¤ä»£ç ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é™ä½è¦é‡‡æ ·çš„`æ•°é‡`æˆ–è€ƒè™‘çš„`é™åˆ¶`ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åœ¨ä¸ç­‰å¾…å¾ˆé•¿æ—¶é—´çš„æƒ…å†µä¸‹çœ‹åˆ°æ­¤é‡‡æ ·ç­–ç•¥çš„ç»“æœã€‚

## 4.5 ä¸ºç°å®ä¸–ç•Œå¤šæ ·æ€§è¿›è¡Œé‡‡æ ·

è¯†åˆ«å’Œå‡å°‘åå·®çš„ç­–ç•¥å¾ˆå¤æ‚ï¼Œå¯èƒ½è¶³ä»¥å¡«æ»¡ä¸€æœ¬ä¹¦ã€‚åœ¨æœ¬æ–‡æœ¬ä¸­ï¼Œæˆ‘ä»¬å°†é›†ä¸­è®¨è®ºæ•°æ®æ ‡æ³¨é—®é¢˜ï¼šç¡®ä¿è®­ç»ƒæ•°æ®å°½å¯èƒ½å…¬å¹³åœ°ä»£è¡¨ç°å®ä¸–ç•Œçš„å¤šæ ·æ€§ã€‚æ­£å¦‚æ‚¨åœ¨æœ¬ç« å¼•è¨€ä¸­æ‰€è¯»åˆ°çš„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯¹æœºå™¨å­¦ä¹ çš„æœŸæœ›æ¯”å¯¹äººè¿˜é«˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœŸæœ›è®¸å¤šæ¨¡å‹åŒ…å«æ¥è¿‘è‹±è¯­ 20 ä¸‡ä¸ªè¯æ±‡é‡ï¼Œè€Œä¸æ˜¯å…¸å‹æµåˆ©äººå£«æ‰€çŸ¥çš„çº¦ 4 ä¸‡ä¸ªè¯æ±‡ã€‚å› æ­¤ï¼Œæœ¬èŠ‚æ¶µç›–äº†ç¡®ä¿æ¨¡å‹ä»ä¸»åŠ¨å­¦ä¹ è§’åº¦å…¬å¹³çš„æœ€ä½³å®è·µï¼ŒåŒæ—¶çŸ¥é“è¡¡é‡å’Œå‡å°‘ç°å®ä¸–ç•Œåå·®æ˜¯ä¸€ä¸ªå¤æ‚ä¸”è¿œæœªè§£å†³çš„é—®é¢˜çš„é¢†åŸŸã€‚

ç°å®ä¸–ç•Œçš„å¤šæ ·æ€§äººå£å¯ä»¥æ˜¯ä»»ä½•å¯¹æ‚¨çš„æ•°æ®æœ‰æ„ä¹‰çš„ç°å®ä¸–ç•Œåˆ’åˆ†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªï¼ˆéè¯¦å°½ï¼‰çš„åˆ—è¡¨ï¼Œåˆ—å‡ºäº†æˆ‘ä»¬å¯èƒ½å¯¹æˆ‘ä»¬ç¾å®³å“åº”ç¤ºä¾‹ä¸­å…³å¿ƒçš„å¤šæ ·æ€§äººå£ç±»å‹ï¼š

+   *è¯­è¨€*â€”æˆ‘ä»¬èƒ½å¦æ›´å‡†ç¡®åœ°è¯†åˆ«ç”¨æŸäº›è¯­è¨€ç¼–å†™çš„ä¸ç¾å®³ç›¸å…³çš„å†…å®¹ï¼Ÿè¿™é‡Œå­˜åœ¨æ˜æ˜¾çš„åè§ï¼Œå› ä¸ºæ•°æ®å¤§éƒ¨åˆ†æ˜¯è‹±æ–‡ã€‚

+   *åœ°ç†*â€”æˆ‘ä»¬èƒ½å¦æ›´å‡†ç¡®åœ°è¯†åˆ«æ¥è‡ª/å…³äºæŸäº›å›½å®¶çš„ä¸ç¾å®³ç›¸å…³çš„å†…å®¹ï¼Ÿè¿™é‡Œå­˜åœ¨å¾ˆé«˜çš„åå·®å¯èƒ½æ€§ï¼Œå› ä¸ºä¸€äº›å›½å®¶ä¼šæœ‰æ›´å¤šåª’ä½“æŠ¥é“å…¶ç¾å®³ï¼Œå¹¶ä¸”è¿˜ä¼šå­˜åœ¨å›½å®¶å±‚é¢çš„äººå£åå·®ã€‚

+   *æ€§åˆ«*â€”æˆ‘ä»¬èƒ½å¦æ›´å‡†ç¡®åœ°è¯†åˆ«æ¥è‡ª/å…³äºæŸä¸€æ€§åˆ«äººç¾¤çš„ä¸ç¾å®³ç›¸å…³çš„å†…å®¹ï¼Ÿå¯èƒ½ç”·æ€§æ¯”å…¶ä»–æ€§åˆ«æ›´å¤šåœ°ç¼–å†™å†…å®¹ï¼Œè¿™å¯èƒ½ä¼šåæ˜ åœ¨å†™ä½œé£æ ¼ä¸­ã€‚

+   *ç¤¾ä¼šç»æµ*â€”æˆ‘ä»¬èƒ½å¦æ›´å‡†ç¡®åœ°è¯†åˆ«æ¥è‡ª/å…³äºä¸åŒæ”¶å…¥äººç¾¤çš„ä¸ç¾å®³ç›¸å…³çš„å†…å®¹ï¼Ÿå…³äºå¯Œè£•å›½å®¶çš„æŠ¥é“é€šå¸¸æ›´å¤šï¼Œå› æ­¤è¿™ç§æƒ…å†µå¯èƒ½å¯¼è‡´æ•°æ®å’Œæ¨¡å‹ä¸­çš„åå·®ã€‚

+   *ç§æ—å’Œæ°‘æ—*â€”â€”æˆ‘ä»¬èƒ½å¦æ›´å‡†ç¡®åœ°è¯†åˆ«æ¥è‡ªæˆ–å…³äºæŸäº›ç§æ—æˆ–æ°‘æ—çš„ä¸ç¾éš¾ç›¸å…³çš„å†…å®¹ï¼Ÿåª’ä½“æ–‡ç« å¾€å¾€å°†åŒä¸€ç±»å‹çš„äº‹ä»¶ï¼Œå¦‚ä¸€åç”·å­å•ç‹¬è¿›è¡Œçš„æªå‡»ï¼Œæè¿°ä¸ºæŸäº›æ°‘æ—çš„ææ€–æˆ˜äº‰çš„ä¸€éƒ¨åˆ†ï¼ˆå› æ­¤ä¸ç¾éš¾ç›¸å…³ï¼‰ï¼Œä½†å¯¹äºå…¶ä»–æ°‘æ—æ¥è¯´åˆ™è¢«è§†ä¸ºä¸ªäººçŠ¯ç½ªï¼ˆå› æ­¤ä¸ç¾éš¾æ— å…³ï¼‰ã€‚

+   *æ—¥æœŸå’Œæ—¶é—´*â€”â€”æˆ‘ä»¬èƒ½å¦åœ¨ä¸€å¤©ä¸­çš„æŸäº›æ—¶é—´ã€ä¸€å‘¨ä¸­çš„æŸä¸€å¤©æˆ–ä¸€å¹´ä¸­çš„æŸä¸ªæœˆä»½æ›´å‡†ç¡®åœ°è¯†åˆ«ä¸ç¾éš¾ç›¸å…³çš„å†…å®¹ï¼Ÿå‘¨æœ«å‘å¸ƒçš„æ–‡ç« è¾ƒå°‘ï¼Œè€Œä¸”è¿™äº›æ–‡ç« å¾€å¾€æ›´å…³æ³¨äººæ–‡å…´è¶£ã€‚

åå·®å¯èƒ½åœ¨ä¸åŒç»„åˆä¸­æœ‰æ‰€ä¸åŒï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸º*äº¤å‰æ€§åå·®*ã€‚å¯¹æŸäº›æ€§åˆ«çš„äººçš„åè§å¯èƒ½å¯¹æŸäº›ç§æ—å’Œæ°‘æ—æ¥è¯´æ›´å¥½ã€æ›´å·®ï¼Œç”šè‡³å¯èƒ½ç›¸åã€‚

æ ¹æ®ä½ éƒ¨ç½²æ¨¡å‹çš„ä½ç½®ï¼Œä½ å¯èƒ½éœ€è¦éµå®ˆå½“åœ°æ³•å¾‹ã€‚ä¾‹å¦‚ï¼Œåœ¨åŠ åˆ©ç¦å°¼äºšå·ï¼ŒåŠ³åŠ¨æ³•ç¦æ­¢åœ¨å¤šä¸ªäººå£ç»Ÿè®¡ä¸­æ­§è§†ï¼ŒåŒ…æ‹¬å‰è¿°åˆ—è¡¨ä¸­çš„è®¸å¤šäººå£ç»Ÿè®¡ï¼Œä»¥åŠå¹´é¾„ã€ç§»æ°‘çŠ¶æ€ã€æ€§å–å‘å’Œå®—æ•™ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé€šè¿‡ç¼–ç æ•°æ®ä»¥æ”¹å˜é‡‡æ ·ç­–ç•¥æ¥è§£å†³é—®é¢˜å¯èƒ½ä¸æ˜¯æ­£ç¡®çš„é€‰æ‹©ï¼›ç›¸åï¼Œä½ éœ€è¦åœ¨æ”¶é›†æ•°æ®æ—¶è§£å†³é—®é¢˜ã€‚

### 4.5.1 è®­ç»ƒæ•°æ®å¤šæ ·æ€§çš„å¸¸è§é—®é¢˜

å›¾ 4.7 æ€»ç»“äº†æ•°æ®å…¬å¹³æ€§çš„ä¸‰ä¸ªå¸¸è§é—®é¢˜ã€‚å›¾ 4.7 ä¸­çš„ä¸‰ä¸ªäººå£ç»Ÿè®¡æ˜¾ç¤ºäº†åœ¨å°è¯•åˆ›å»ºè®­ç»ƒæ•°æ®æ—¶å¯èƒ½ä¼šé‡åˆ°çš„ä¸€äº›å¸¸è§é—®é¢˜ï¼š

+   åœ¨ä½ çš„è®­ç»ƒæ•°æ®ä¸­è¿‡åº¦ä»£è¡¨ä½†å¹¶éæ¥è‡ªç›¸åŒåˆ†å¸ƒçš„äººå£ç»Ÿè®¡ï¼ˆXï¼‰

+   ä¸€ç§äººå£ç»Ÿè®¡ï¼Œå…¶åˆ†å¸ƒä¸æ•´ä½“æ•°æ®åˆ†å¸ƒç›¸ä¼¼ï¼Œä½†åœ¨è®­ç»ƒæ•°æ®ä¸­å°šæœªä»¥å¹³è¡¡çš„æ–¹å¼è¡¨ç¤ºï¼ˆOï¼‰

+   ä¸€ç§åœ¨è®­ç»ƒæ•°æ®ä¸­ä»£è¡¨æ€§ä¸è¶³çš„äººå£ç»Ÿè®¡ï¼Œä»¥è‡³äºäº§ç”Ÿçš„æ¨¡å‹å¯èƒ½æ¯”ä½¿ç”¨éšæœºé‡‡æ ·æ›´å·®ï¼ˆZï¼‰

![å›¾ç‰‡](img/CH04_F07_Munro.png)

å›¾ 4.7 å±•ç¤ºäº†å¤šæ ·æ€§é‡‡æ ·è¯•å›¾è§£å†³çš„é—®é¢˜çš„ä¾‹å­ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰é¡¹ç›®æ˜ å°„åˆ°ä¸‰ä¸ªç°å®ä¸–ç•Œçš„äººå£ç»Ÿè®¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Xã€O å’Œ Zã€‚

äººå£ç»Ÿè®¡ X çœ‹èµ·æ¥ç›¸å½“ä¸é”™ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ä¾‹å­éƒ½åœ¨å½“å‰è®­ç»ƒæ•°æ®ä¸­ã€‚X ä¸æ•´ä½“è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒå¹¶ä¸ç›¸åŒã€‚è¿™ä¸ªé—®é¢˜å¹¶ä¸å…¸å‹äºç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œä½†å®ƒå¯èƒ½æ˜¯åƒæœ´ç´ è´å¶æ–¯è¿™æ ·çš„ç®€å•æ¨¡å‹çš„é—®é¢˜ã€‚X æ˜¯ç‰¹æƒäººå£ç»Ÿè®¡çš„å…¸å‹ä¾‹å­ï¼Œå…·æœ‰ç§¯æçš„åå·®ï¼Œä¾‹å¦‚åœ¨å¤šè¯­è¨€æ•°æ®é›†ä¸­æ ‡å‡†è‹±è¯­æ•°æ®ã€‚

äººå£ç»Ÿè®¡å­¦ O ä»Šå¤©éƒ¨åˆ†åœ¨è®­ç»ƒæ•°æ®ä¸­ï¼Œéƒ¨åˆ†åœ¨è®­ç»ƒæ•°æ®å¤–ã€‚O åœ¨æ•´ä¸ªç‰¹å¾èŒƒå›´å†…åˆ†å¸ƒå¾—ç›¸å½“å‡åŒ€ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿæ”¶é›†ä»£è¡¨æ•´ä¸ªç‰¹å¾ç©ºé—´çš„è®­ç»ƒæ•°æ®ï¼Œæˆ‘ä»¬å¯¹ O å°±æœ€ä¸æ‹…å¿ƒã€‚O æ˜¯å…·æœ‰æœ€å°åå·®ï¼ˆæ­£é¢æˆ–è´Ÿé¢ï¼‰çš„äººå£ç»Ÿè®¡å­¦çš„å…¸å‹ä»£è¡¨ï¼Œä¾‹å¦‚åŸºäºæ—¶é—´çš„ demographicsï¼Œå…¶ä¸­æ¯ä¸ªé¡¹ç›®éƒ½åœ¨ä¸€å®šæ—¶æœŸå†…è¢«ä»”ç»†æ”¶é›†ã€‚

ç›¸æ¯”ä¹‹ä¸‹ï¼Œäººå£ç»Ÿè®¡å­¦ Z åœ¨å½“å‰è®­ç»ƒæ•°æ®ä¹‹å¤–èšé›†ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå½“å‰è®­ç»ƒæ•°æ®ä¸­çš„ Z æ•°æ®ç‚¹ä¼¼ä¹å¯¹ Z æ¥è¯´æ˜¯å¼‚å¸¸å€¼ã€‚æ¨¡å‹å¯èƒ½æ²¡æœ‰å…³äº Z çš„ä¿¡æ¯ï¼Œå®é™…ä¸Šå¯èƒ½é”™è¯¯åœ°å»ºæ¨¡äº† Zã€‚Z æ˜¯ä»£è¡¨æ€§ä¸è¶³çš„äººå£ç»Ÿè®¡å­¦çš„å…¸å‹ä»£è¡¨ï¼Œä¾‹å¦‚åœ¨æ•°æ®é›†ä¸­æ²¡æœ‰å‡ºç°çš„ä»£è¡¨æ€§ä¸è¶³çš„ç§æ—ï¼Œé™¤éé‚£ä¸ªäººå¶ç„¶ä¸æ›´å—ä¼˜å¾…çš„äººå£ç»Ÿè®¡å­¦å…±äº«ç‰¹å¾ã€‚

æœºå™¨å­¦ä¹ ç®—æ³•æœ¬èº«å¹¶ä¸å®¹æ˜“å—åˆ°æ•°æ®ä¸­å·²ç»å­˜åœ¨çš„è®¸å¤šå›ºæœ‰åå·®çš„å½±å“ï¼Œå°½ç®¡è¿™äº›åå·®æ˜¯å¯èƒ½çš„ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå½“ä¸€ä¸ªç®—æ³•è¡¨ç°å‡ºåå·®æ—¶ï¼Œå®ƒæ˜¯åœ¨åæ˜ æˆ–æ”¾å¤§æ¥è‡ªè®­ç»ƒæ•°æ®æˆ–è®­ç»ƒæ•°æ®è¡¨ç¤ºä¸ºæ¨¡å‹ç‰¹å¾çš„æ–¹å¼ä¸­çš„åå·®ã€‚å³ä½¿åå·®å®Œå…¨æ¥è‡ªæ¨¡å‹æœ¬èº«ï¼Œä½ ä¹Ÿå¯èƒ½éœ€è¦è´Ÿè´£åˆ›å»ºç”¨äºæ£€æµ‹å’Œæµ‹é‡è¯¥åå·®çš„è¯„ä¼°æ•°æ®ã€‚å¦‚æœæ•°æ®æ¥æºå¯¼è‡´ç»“æœä¸ä½³ï¼Œå½“ä½ å¼€å§‹æ ‡æ³¨æ•°æ®æ—¶ï¼Œä½ ä¹Ÿè´Ÿè´£è¯†åˆ«è¿™ä¸€äº‹å®ã€‚æ‰€ä»¥å¦‚æœä½ è´Ÿè´£æ ‡æ³¨æ•°æ®ï¼Œä½ å¯èƒ½åœ¨æ¨¡å‹å…¬å¹³æ€§æ–¹é¢æ¯”ç»„ç»‡ä¸­çš„ä»»ä½•äººéƒ½æ›´æœ‰å½±å“åŠ›ã€‚

æ³¨æ„ï¼Œè®¸å¤šäººå·¥æ™ºèƒ½ä¼¦ç†å­¦ç ”ç©¶äººå‘˜ä½¿ç”¨çš„â€œç®—æ³•â€å®šä¹‰æ¯”å¤§å¤šæ•°è®¡ç®—æœºç§‘å­¦å®¶æ›´å¹¿æ³›ï¼ŒåŒ…æ‹¬æœºå™¨å­¦ä¹ æ¨¡å‹çš„æ•°æ®å¤„ç†å’Œè¾“å‡ºè§£é‡Šã€‚è¿™ç§å®šä¹‰æœ¬èº«å¹¶ä¸æ›´å¥½æˆ–æ›´å·®â€”â€”åªæ˜¯ä¸åŒã€‚å½“ä½ é˜…è¯»äººå·¥æ™ºèƒ½ä¼¦ç†æ–‡çŒ®ä¸­çš„ç®—æ³•æ—¶ï¼Œè¯·æ³¨æ„å…·ä½“æŒ‡çš„æ˜¯åº”ç”¨ç¨‹åºä¸­å“ªäº›ä½¿ç”¨æœºå™¨å­¦ä¹ çš„éƒ¨åˆ†ã€‚

### 4.5.2 ç¡®ä¿äººå£ç»Ÿè®¡å­¦å¤šæ ·æ€§çš„åˆ†å±‚æŠ½æ ·

æ²¡æœ‰æ¥è‡ªæ¯ä¸ªäººå£ç»Ÿè®¡å­¦çš„æœªæ ‡è®°é¡¹ç›®å‚è€ƒæ•°æ®é›†ï¼Œä½ éœ€è¦åº”ç”¨ä¹‹å‰å·²ç»åº”ç”¨è¿‡çš„ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ï¼Œä½†ç°åœ¨ä»¥åˆ†å±‚æ–¹å¼åº”ç”¨äºæ‰€æœ‰æ•°æ®ï¼š

1.  å¯¹æ¯ä¸ªäººå£ç»Ÿè®¡å­¦åº”ç”¨æœ€å°ç½®ä¿¡åº¦æŠ½æ ·ï¼Œåœ¨æ¯ä¸ªäººå£ç»Ÿè®¡å­¦ä¸­é€‰æ‹©ä¸è¯¥äººå£ç»Ÿè®¡å­¦æœ€è‡ªä¿¡é¢„æµ‹ç›¸ç­‰çš„é¡¹ç›®æ•°é‡ã€‚

1.  å¯¹æ¯ä¸ªäººå£ç»Ÿè®¡å­¦åº”ç”¨ç½®ä¿¡åº¦è¾¹é™…æŠ½æ ·ï¼Œåœ¨æ¯ä¸ªäººå£ç»Ÿè®¡å­¦ä¸­é€‰æ‹©ä¸è¯¥äººå£ç»Ÿè®¡å­¦æœ€è‡ªä¿¡æˆ–æ¬¡è‡ªä¿¡ç›¸ç­‰çš„é¡¹ç›®æ•°é‡ã€‚è®°ä½ï¼Œç½®ä¿¡åº¦è¾¹é™…æ˜¯æ˜ç¡®æŸ¥çœ‹ä¸¤ä¸ªæœ€è‡ªä¿¡çš„é¡¹ç›®ã€‚ï¼‰

1.  å¯¹æ¯ä¸ªäººå£ç»Ÿè®¡å­¦åº”ç”¨åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼æ£€æµ‹ã€‚

1.  åœ¨æ¯ä¸ªäººå£ç»Ÿè®¡å­¦å†…åº”ç”¨åŸºäºèšç±»çš„æŠ½æ ·ã€‚

åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬å¸Œæœ›ä»æ•´ä½“æœªæ ‡è®°æ•°æ®ä¸­è·å¾—æœ€ä½³å¯èƒ½çš„æ•°æ®é›†ï¼ŒåŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›ä¸ºæ¯ä¸ªç¾¤ä½“åšè¿™ä»¶äº‹ï¼ŒåŒæ—¶æ³¨æ„åœ¨é‚£äº›ç¾¤ä½“ä¹‹é—´è¿›è¡Œåˆ†å±‚æŠ½æ ·ã€‚

æœ¬ç« ä¸­æ²¡æœ‰ä¸ºè¿™ä¸ªä»»åŠ¡æä¾›å•ç‹¬çš„ä»£ç ã€‚ä½ åº”è¯¥èƒ½å¤Ÿæ ¹æ®ä½ å…³å¿ƒçš„ç¾¤ä½“åˆ’åˆ†æ•°æ®ï¼Œå¹¶ä¸”åªå¯¹æ¯ä¸ªç¾¤ä½“çš„æ•°æ®è¿›è¡ŒæŠ½æ ·ç­–ç•¥çš„åº”ç”¨ã€‚

### 4.5.3 ä»£è¡¨æ€§å’Œä»£è¡¨æ€§ï¼šå“ªä¸ªæ›´é‡è¦ï¼Ÿ

åœ¨æ‹¥æœ‰ä»£è¡¨ä¸€ä¸ªç¾¤ä½“çš„æ•°æ®ä¸è¯¥ç¾¤ä½“åœ¨æ•°æ®ä¸­å¾—åˆ°è‰¯å¥½ä»£è¡¨ä¹‹é—´æœ‰ä¸€ä¸ªå¾®å¦™ä½†é‡è¦çš„åŒºåˆ«ã€‚è¿™ç§åŒºåˆ«åœ¨ä½¿ç”¨çš„æ¨¡å‹ç±»å‹ä¸åŒæ—¶å°¤å…¶é‡è¦ï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨è¿™é‡ŒåŒºåˆ†å®ƒä»¬ï¼š

+   *ä»£è¡¨æ€§ç¾¤ä½“æ•°æ®*â€”å¦‚æœä½ çš„æ•°æ®æ˜¯ä»ä¸è¯¥ç¾¤ä½“ç›¸åŒçš„åˆ†å¸ƒä¸­æŠ½å–çš„ï¼Œé‚£ä¹ˆä½ çš„æ•°æ®å°±æ˜¯ä»£è¡¨è¯¥ç¾¤ä½“çš„ã€‚åœ¨ç»Ÿè®¡æœ¯è¯­ä¸­ï¼Œå¦‚æœä½ çš„æ ‡è®°æ•°æ®æ˜¯ä»éšæœºæŠ½å–è¯¥ç¾¤ä½“çš„æ•°æ®ä¸­ç‹¬ç«‹ä¸”åŒåˆ†å¸ƒï¼ˆIDDï¼‰çš„ï¼Œé‚£ä¹ˆä½ çš„æ ‡è®°æ•°æ®å°±æ˜¯ä»£è¡¨æ€§çš„ã€‚

+   *ä¸€ä¸ªå¾—åˆ°è‰¯å¥½ä»£è¡¨çš„ç¾¤ä½“*â€”ä¸€ä¸ªç¾¤ä½“å¦‚æœå­˜åœ¨è¶³å¤Ÿçš„æ•°æ®ä»£è¡¨è¯¥ç¾¤ä½“ï¼Œä»¥ä¾¿ä½ çš„æ¨¡å‹èƒ½å¤Ÿå…¬å¹³åœ°æ‰§è¡Œï¼Œä½†æ•°æ®ä¸éœ€è¦æ˜¯ IDDã€‚

å¦‚æœä½ çŸ¥é“ä½ çš„æœªæ ‡è®°æ•°æ®å…¬å¹³åœ°ä»£è¡¨äº†ä½ æ‰€å…³å¿ƒçš„ç¾¤ä½“ï¼Œå¹¶ä¸”å®ƒå¯¹è¯¥ç¾¤ä½“è¿›è¡Œäº†å‡†ç¡®ç¼–ç ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªé¢å¤–çš„è¯„ä¼°æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†ä»æ¯ä¸ªç¾¤ä½“ä¸­éšæœºæŠ½å–ã€‚å¦‚æœä½ çš„ç¾¤ä½“ä¸æ˜¯åŒç­‰é¢‘ç¹çš„ï¼Œè¿™ç§æ–¹æ³•å°†æ¯”ä»æ•´ä¸ªæ•°æ®é›†ä¸­éšæœºæŠ½æ ·åˆ›å»ºè¯„ä¼°æ•°æ®æ›´å¿«ã€‚ä½†ä½ å¯ä»¥åªä½¿ç”¨è¿™ä¸ªæ•°æ®é›†æ¥è¯„ä¼°ä½ çš„æ¯ä¸ªç¾¤ä½“çš„å‡†ç¡®æ€§ï¼ˆç¬¬ 4.5.4 èŠ‚ï¼‰ã€‚

è®°ä½ï¼Œä½ çš„æœªæ ‡è®°æ•°æ®å¯èƒ½*ä¸*ä»£è¡¨æ¯ä¸ªç¾¤ä½“ã€‚æœ¬ç« ä¸­æ¥è‡ªæ¾³å¤§åˆ©äºšåª’ä½“ç»„ç»‡çš„è¿™ä¸€ç« çš„æ•°æ®ä¸“æ³¨äºæ¾³å¤§åˆ©äºšåŠå…¶åœ°ç†æˆ–æ”¿æ²»ä¸Šæ¥è¿‘çš„å›½å®¶æ–°é—»ã€‚ä¾‹å¦‚ï¼Œå…³äºä¹Œå¹²è¾¾çš„æ–‡ç« ä¸ä¼šä»£è¡¨ä¹Œå¹²è¾¾çš„å®é™…äº‹ä»¶ï¼›æ•°æ®å°†åå‘äºé‚£äº›è¢«è®¤ä¸ºå¯¹æ¾³å¤§åˆ©äºšæ›´é‡è¦çš„äº‹ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½è·å¾—ä»£è¡¨ä¹Œå¹²è¾¾çš„æ•°æ®ã€‚ç›¸åï¼Œä½ åº”è¯¥ä½¿ç”¨èšç±»æ¥è·å–å°½å¯èƒ½å¤šæ ·åŒ–çš„å…³äºä¹Œå¹²è¾¾çš„æ–‡ç« é›†åˆï¼Œè¿™æ ·è‡³å°‘å¯ä»¥ä¿è¯å…³äºä¹Œå¹²è¾¾çš„æ–‡ç« å¾—åˆ°è‰¯å¥½ä»£è¡¨ã€‚

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œé‚£ä¹ˆå³ä½¿æ•°æ®æœ‰å¾ˆå¥½çš„ä»£è¡¨æ€§ä½†å¹¶ä¸å…·æœ‰ä»£è¡¨æ€§ï¼Œä½ å¯èƒ½ä¹Ÿè¿˜å¯ä»¥æ¥å—ã€‚åªè¦æ•°æ®è¶³å¤Ÿå¤šï¼Œç¥ç»ç½‘ç»œæ¨¡å‹å¯ä»¥é’ˆå¯¹ç»™å®šçš„äººå£ç»Ÿè®¡ä¸­çš„æ‰€æœ‰é¡¹ç›®ä¿æŒå‡†ç¡®æ€§ï¼Œå³ä½¿å®ƒåœ¨è®­ç»ƒæ—¶ä½¿ç”¨çš„æ•°æ®åœ¨è¯¥äººå£ç»Ÿè®¡ä¸­æ˜¯ä¸å¹³è¡¡çš„ã€‚ä¾‹å¦‚ï¼Œä¹Œå¹²è¾¾çš„æ–°é—»æ–‡ç« å¯èƒ½è¿‡å¤šåœ°åå‘äºä½“è‚²ç›¸å…³æ–‡ç« ã€‚åªè¦ä½ çš„æ¨¡å‹æœ‰è¶³å¤Ÿçš„ä¹Œå¹²è¾¾å…¶ä»–ç±»å‹æ–°é—»çš„ä¾‹å­æ¥ç¡®ä¿åœ¨è¿™äº›ä¸»é¢˜ä¸Šçš„å‡†ç¡®æ€§ï¼Œé‚£ä¹ˆä½“è‚²ç›¸å…³æ–°é—»çš„è¿‡åº¦ä»£è¡¨å°±ä¸ä¼šäº§ç”Ÿå½±å“ï¼›ä½ çš„æ¨¡å‹å¯ä»¥å¯¹ä¹Œå¹²è¾¾çš„æ‰€æœ‰ç±»å‹æ–°é—»éƒ½ä¿æŒç›¸åŒçš„å‡†ç¡®æ€§ã€‚

ç„¶è€Œï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ç”Ÿæˆæ¨¡å‹ï¼Œå°¤å…¶æ˜¯åƒæœ´ç´ è´å¶æ–¯è¿™æ ·çš„ç®€å•æ¨¡å‹ï¼Œä½ çš„æ¨¡å‹ä¼šæ˜ç¡®åœ°é€šè¿‡å‡è®¾ä»£è¡¨æ€§æ•°æ®æ¥å°è¯•å¯¹åˆ†ç±»ä»»åŠ¡è¿›è¡Œå»ºæ¨¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æ›´åŠ åŠªåŠ›åœ°ç¡®ä¿ä½ çš„æ•°æ®å…·æœ‰ä»£è¡¨æ€§ï¼Œæˆ–è€…é€šè¿‡æ“çºµæŸäº›å‚æ•°ï¼ˆå¦‚æŸäº›æ•°æ®ç±»å‹çš„å…ˆéªŒæ¦‚ç‡ï¼‰æ¥å°è¯•åœ¨æ¨¡å‹ä¸­ç¼–ç ä»£è¡¨æ€§ã€‚

è¿™ç§æ–¹æ³•å°†ç°å®ä¸–ç•Œå¤šæ ·æ€§çš„é‡‡æ ·ä¸åˆ†å±‚é‡‡æ ·åˆ†å¼€ã€‚åœ¨ç¤¾ä¼šç§‘å­¦ä¸­ï¼Œ*åˆ†å±‚é‡‡æ ·*æ˜¯ä¸€ç§ç¡®ä¿æ•°æ®å°½å¯èƒ½å…·æœ‰ä»£è¡¨æ€§çš„æŠ€æœ¯ï¼Œå¹¶ä¸”ç”¨äºè°ƒæ•´è°ƒæŸ¥ç­‰æ´»åŠ¨çš„ç»“æœï¼Œä»¥è€ƒè™‘äººå£ç»Ÿè®¡çš„ä¸å¹³è¡¡ã€‚æ ¹æ®ç¥ç»ç½‘ç»œæ¨¡å‹çš„ä¸åŒï¼Œæ•°æ®å­˜åœ¨äºè®­ç»ƒæ•°æ®ä¸­å¯èƒ½å°±è¶³å¤Ÿäº†ï¼Œåè§ä¸ä¼šæŒç»­å­˜åœ¨ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ªæ¨¡å‹å¯èƒ½ä¼šæ”¾å¤§ä»»ä½•åè§ã€‚å› æ­¤ï¼Œæƒ…å†µå˜å¾—ç¨å¾®å¤æ‚ä¸€äº›ï¼Œéœ€è¦æ•´ä½“è§£å†³ï¼Œè€ƒè™‘åˆ°æœºå™¨å­¦ä¹ æ¶æ„ã€‚å¦‚æœä½ å…³å¿ƒä½ æ¨¡å‹çš„ç°å®ä¸–ç•Œå¤šæ ·æ€§ï¼Œåˆ†å±‚é‡‡æ ·çš„æ–‡çŒ®ä»ç„¶æ˜¯ä¸€ä¸ªå¥½çš„èµ·ç‚¹ï¼Œäº†è§£è¿™ç§é‡‡æ ·ç­–ç•¥ä¸ä¸€å®šæ˜¯è§£å†³é—®é¢˜çš„å”¯ä¸€æ–¹æ¡ˆã€‚

### 4.5.4 æŒ‰äººå£ç»Ÿè®¡çš„å‡†ç¡®æ€§

å¦‚æœæˆ‘ä»¬çš„æ•°æ®ä¸­æœ‰ç°å®ä¸–ç•Œçš„äººå£ç»Ÿè®¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™äº›ç»Ÿè®¡æ•°æ®è®¡ç®—å®è§‚å‡†ç¡®æ€§çš„å˜ä½“ã€‚å¯¹äºå±äºæŸä¸ªç‰¹å®šäººå£ç»Ÿè®¡çš„æ¯ä¸ªé¡¹ç›®ï¼Œæœ‰å¤šå°‘ä¸ªè¢«æ­£ç¡®é¢„æµ‹äº†å®ƒä»¬çš„ç»™å®šæ ‡ç­¾ï¼Ÿè¯·æ³¨æ„ï¼Œæ¯ä¸ªâ€œé”™è¯¯â€éƒ½å°†æ—¢æ˜¯è¯¯æŠ¥ä¹Ÿæ˜¯æ¼æŠ¥ã€‚å› æ­¤ï¼Œé™¤éä½ ä»å‡†ç¡®æ€§ä¸­æ’é™¤äº†æŸäº›æ ‡ç­¾ï¼Œæˆ–è€…ä¸ºå¯ä¿¡é¢„æµ‹è®¾ç½®äº†é˜ˆå€¼ï¼Œå¦åˆ™ä½ å°†å…·æœ‰ç›¸åŒçš„ç²¾ç¡®åº¦å’Œå¬å›ç‡å€¼ï¼ˆä¸å¾®è§‚ç²¾ç¡®åº¦å’Œå¬å›ç‡ç›¸åŒçš„æƒ…å†µï¼‰ã€‚ç”¨*d*è¡¨ç¤ºå±äºæ¯ä¸ªäººå£ç»Ÿè®¡çš„æˆå‘˜ã€‚å› æ­¤ï¼Œç²¾ç¡®åº¦å’Œå¬å›ç‡æ˜¯

![å›¾ç‰‡](img/CH04_F07_Munro_E01.png)

æˆ‘æ²¡æœ‰åœ¨å·¥ä¸šç•Œç»å¸¸çœ‹åˆ°è¿™ç§æŠ€æœ¯çš„ä½¿ç”¨ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒä¸åº”è¯¥è¢«é‡‡ç”¨ã€‚å¤§å¤šæ•°å…³äºäººå£ç»Ÿè®¡ä¸å¹³ç­‰çš„ç ”ç©¶å¾€å¾€æ˜¯ä¸´æ—¶çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨äººè„¸è¯†åˆ«æ–¹é¢ï¼Œæœ‰è®¸å¤šæµè¡Œåª’ä½“æœºæ„é€‰æ‹©å°‘é‡ä»£è¡¨ä¸åŒç§æ—çš„äººçš„å›¾ç‰‡ï¼Œå¹¶å¯»æ‰¾è¿™äº›ç§æ—ä¹‹é—´çš„ä¸åŒå‡†ç¡®åº¦æ°´å¹³ã€‚åœ¨è¿™äº›ç”¨ä¾‹ä¸­ï¼Œåª’ä½“æœºæ„ä»…æµ‹è¯•ç²¾ç¡®åº¦ï¼Œå¹¶ä¸”æ˜¯åœ¨ä¸€ä¸ªå°ï¼ˆå¯èƒ½ä¸å…·æœ‰ä»£è¡¨æ€§ï¼‰çš„æ ·æœ¬ä¸Šã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºåª’ä½“æ•…äº‹ï¼Œä½†å¦‚æœæˆ‘ä»¬è®¤çœŸå¯¹å¾…æé«˜æˆ‘ä»¬æ¨¡å‹å…¬å¹³æ€§çš„è¯ï¼Œè¿™ç§æ–¹æ³•æ˜¯è¡Œä¸é€šçš„ã€‚

å¦‚æœä½ è´Ÿè´£æ„å»ºæ¨¡å‹å¹¶ç¡®ä¿å…¶å°½å¯èƒ½å…¬å¹³ï¼Œä½ åº”è¯¥è€ƒè™‘æ›´å¹¿æ³›çš„æ–¹å¼æ¥è¡¡é‡ç²¾åº¦ã€‚ä½ å¯èƒ½å¸Œæœ›æ ¹æ®ä½ çš„ç”¨ä¾‹è¿›ä¸€æ­¥ç»†åŒ–åŸºäºäººå£ç»Ÿè®¡çš„ç²¾åº¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‰é¡¹ï¼š

+   *æœ€å°ç²¾åº¦*â€”ä»»ä½•äººå£ç»Ÿè®¡ä¸­çš„æœ€ä½ç²¾ç¡®åº¦ã€å¬å›åº¦æˆ– F åˆ†æ•°ã€‚å¦‚æœä½ æƒ³å°†ä½ çš„æ¨¡å‹è§†ä¸ºåœ¨äººå£ç»Ÿè®¡å…¬å¹³æ€§æ–¹é¢ä»…ä¸å…¶æœ€è–„å¼±ç¯èŠ‚ä¸€æ ·å¼ºå¤§ï¼Œä½ åº”è¯¥å–æœ€å°ç²¾åº¦ã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªç‰¹å®šçš„äººå£ç»Ÿè®¡ä¸­å–æœ€å° F åˆ†æ•°ã€‚å¯¹äºæ›´ä¸¥æ ¼çš„æŒ‡æ ‡ï¼Œå¯ä»¥å–æœ€å°ç²¾ç¡®åº¦å’Œæœ€å°å¬å›åº¦ï¼Œå¯èƒ½æ¥è‡ªä¸åŒçš„æ ‡ç­¾ï¼Œå¹¶å°† F åˆ†æ•°åº”ç”¨äºè¿™äº›ã€‚

+   *è°æ³¢ç²¾åº¦*â€”æŒ‰äººå£ç»Ÿè®¡çš„ç²¾åº¦è®¡ç®—å‡ºçš„è°ƒå’Œå¹³å‡å€¼ï¼Œè¿™å°†æ¯”å¹³å‡äººå£ç»Ÿè®¡ç²¾åº¦æ›´ä¸¥æ ¼ï¼Œä½†ä¸ä¼šåƒå–æœ€å°å€¼ï¼ˆé™¤éæœ‰ 0 å€¼ï¼‰é‚£æ ·ä¸¥æ ¼ã€‚æ­£å¦‚æˆ‘ä»¬é€šè¿‡å–ç²¾ç¡®åº¦å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡å€¼æ¥å¾—åˆ° F åˆ†æ•°ï¼Œè€Œä¸æ˜¯ç®—æœ¯å¹³å‡å€¼ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å–è°ƒå’Œå¹³å‡å€¼ã€‚è°ƒå’Œå¹³å‡å€¼ä¼šæ›´å¤šåœ°æƒ©ç½šå¼‚å¸¸ä½ç²¾åº¦ï¼Œè€Œä¸æ˜¯å¥–åŠ±å¼‚å¸¸é«˜ç²¾åº¦ï¼Œä½†ä¸ä¼šåƒå–æœ€å°å€¼é‚£æ ·å¤šã€‚

### 4.5.5 å®é™…ä¸–ç•Œå¤šæ ·æ€§çš„é‡‡æ ·å±€é™æ€§

å®é™…ä¸–ç•Œå¤šæ ·æ€§é‡‡æ ·çš„æœ€å¤§ç¼ºç‚¹æ˜¯ä½ æ— æ³•ä¿è¯æ¨¡å‹æ˜¯å®Œç¾çš„ï¼Œä½†ä½ å¯ä»¥æ›´å‡†ç¡®åœ°æµ‹é‡åå·®ï¼Œå¹¶ç¡®ä¿ä½ çš„æ¨¡å‹å°†æ¯”ä»…ä½¿ç”¨éšæœºé‡‡æ ·æ—¶çš„æ¨¡å‹å…¬å¹³å¾—å¤šã€‚æœ‰æ—¶ï¼Œä½ å¯èƒ½æ— æ³•å¼¥è¡¥åå·®ï¼Œä»…ä»…æ˜¯å› ä¸ºå¯ç”¨çš„æœªæ ‡è®°æ•°æ®ä¸è¶³ã€‚æˆ‘åœ¨æµ·åœ°å…‹é‡Œå¥¥å°”è¯­å’Œä¹Œå°”éƒ½è¯­ç­‰è¯­è¨€ä¸­ä»äº‹ç¾å®³å“åº”å·¥ä½œï¼Œé‚£é‡Œæ ¹æœ¬æ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®æ¥è¦†ç›–ä¸è‹±è¯­æ ‡é¢˜ç›¸åŒçš„æ½œåœ¨ç¾å®³èŒƒå›´ã€‚ä»…é€šè¿‡æ ‡è®°æ˜¯æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ•°æ®æ”¶é›†è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ï¼Œä½†æˆ‘ä»¬åœ¨ç¬¬ä¹ç« ä¸­ä»‹ç»åˆ›å»ºåˆæˆæ•°æ®çš„æ–¹æ³•æ—¶ï¼Œå°†å›åˆ°ä¸€äº›å…¶ä»–ç›¸å…³æŠ€æœ¯ã€‚

## 4.6 ä½¿ç”¨ä¸åŒç±»å‹æ¨¡å‹çš„å¤šæ ·æ€§é‡‡æ ·

ä½ å¯ä»¥å°†å¤šæ ·æ€§é‡‡æ ·åº”ç”¨äºä»»ä½•ç±»å‹çš„æ¨¡å‹æ¶æ„ã€‚ç±»ä¼¼äºæˆ‘ä»¬åœ¨ç¬¬ä¸‰ç« å­¦ä¹ çš„ä¸ç¡®å®šæ€§é‡‡æ ·ï¼Œæœ‰æ—¶å…¶ä»–æ¨¡å‹çš„å¤šæ ·æ€§é‡‡æ ·ä¸ç¥ç»ç½‘ç»œæ¨¡å‹ç›¸åŒï¼Œæœ‰æ—¶å¤šæ ·æ€§é‡‡æ ·æ˜¯ç‰¹å®šäºæŸç§ç±»å‹æ¨¡å‹çš„ã€‚

### 4.6.1 ä½¿ç”¨ä¸åŒç±»å‹æ¨¡å‹çš„åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼

å¯¹äºä½¿ç”¨çº¿æ€§å›å½’çš„æ¨¡å‹ï¼Œä½ å¯ä»¥åƒç¥ç»ç½‘ç»œæ¨¡å‹ä¸€æ ·è®¡ç®—æ¨¡å‹å¼‚å¸¸å€¼ï¼šå“ªäº›é¡¹ç›®åœ¨æ‰€æœ‰æ ‡ç­¾ä¸Šçš„æ¿€æ´»åº¦æœ€ä½ï¼Ÿå¦‚æœä½ å¯ä»¥è®¿é—®å®ƒä»¬ï¼Œå¯ä»¥ä½¿ç”¨é¢„å…ˆå½’ä¸€åŒ–çš„é¢„æµ‹åˆ†æ•°ï¼Œå°±åƒä½ åœ¨æœ¬ç« ä¸­å¯¹ logits æ‰€åšçš„é‚£æ ·ã€‚

åœ¨è´å¶æ–¯æ¨¡å‹çš„æƒ…å†µä¸‹ï¼ŒåŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼å…·æœ‰æ¯ä¸ªæ ‡ç­¾æœ€ä½çš„æ•´ä½“æ¦‚ç‡ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨è¿™é‡Œçš„ç¥ç»ç½‘ç»œæ¨¡å‹ä¸€æ ·ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ç”¨ä¾‹ä¸­æœ€æœ‰æ„ä¹‰çš„æ–¹å¼è®¡ç®—æœ€ä½çš„æ•´ä½“å€¼ï¼Œæ˜¯æœ€ä½çš„å¹³å‡å€¼è¿˜æ˜¯æœ€ä½çš„æœ€å¤§å€¼ã€‚

åœ¨ SVMs çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å¯»æ‰¾æ¥è¿‘è¶…å¹³é¢ï¼ˆå†³ç­–è¾¹ç•Œï¼‰ä½†ä¸æ”¯æŒå‘é‡æœ¬èº«çš„æœ€å¤§è·ç¦»çš„é¢„æµ‹ï¼šç¡®å®šå†³ç­–è¾¹ç•Œçš„è®­ç»ƒé¡¹ç›®ã€‚è¿™äº›é¡¹ç›®å°†æ˜¯ç¥ç»ç½‘ç»œæ¨¡å‹ä¸­å…·æœ‰é«˜ä¸ç¡®å®šæ€§çš„æ¨¡å‹å¼‚å¸¸å€¼çš„ç­‰ä»·ç‰©ã€‚

### 4.6.2 ä½¿ç”¨ä¸åŒç±»å‹æ¨¡å‹çš„èšç±»

ä½ å¯ä»¥ä½¿ç”¨æœ¬ç« ä¸­æåˆ°çš„æ— ç›‘ç£èšç±»æ–¹æ³•ï¼Œä¾‹å¦‚ k-meansï¼Œä¸ºä»»ä½•ç›‘ç£æœºå™¨å­¦ä¹ ç®—æ³•è¿›è¡Œé‡‡æ ·ã€‚ä¸éœ€è¦ä¸ºä¸åŒç±»å‹çš„ç›‘ç£æœºå™¨å­¦ä¹ ç®—æ³•æ”¹å˜ k-means æ–¹æ³•ï¼Œå› æ­¤ä½ å¯ä»¥ä»æœ¬ç« ä¸­çš„æ–¹æ³•å¼€å§‹ï¼Œç„¶åæ ¹æ®ä½ çš„æ¨¡å‹å’Œæ•°æ®è€ƒè™‘å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚

å¦‚æœä½ æƒ³è¦æ·±å…¥äº†è§£åŸºäºèšç±»çš„é‡‡æ ·ï¼Œ2000 å¹´ä»£åˆå¯¹å¤šæ ·æ€§é‡‡æ ·è¿›è¡Œäº†å¤§é‡ç ”ç©¶ã€‚SVMs åœ¨å½“æ—¶è¾¾åˆ°äº†é¡¶å³°ï¼Œå› æ­¤ä½ éœ€è¦å¤ä¹ ä½ çš„ SVM çŸ¥è¯†ï¼Œä»¥å……åˆ†åˆ©ç”¨å½“æ—¶çš„ç ”ç©¶æˆæœã€‚

### 4.6.3 ä½¿ç”¨ä¸åŒç±»å‹æ¨¡å‹çš„ä»£è¡¨æ€§é‡‡æ ·

å¦‚æœ¬ç« å‰é¢æ‰€è¿°ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ´ç´ è´å¶æ–¯æˆ–æ¬§å‡ é‡Œå¾—è·ç¦»è¿›è¡Œä»£è¡¨æ€§é‡‡æ ·ï¼Œè€Œä¸æ˜¯ä½™å¼¦ç›¸ä¼¼åº¦ã€‚ä»»ä½•è·ç¦»å‡½æ•°éƒ½å¯èƒ½é€‚ç”¨äºä½ çš„ç‰¹å®šæ•°æ®ï¼›æˆ‘ä»¬åœ¨è¿™æœ¬ä¹¦ä¸­åªä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œæ˜¯å› ä¸ºä»ç¬¬ 4.3 èŠ‚å…³äºèšç±»çš„è¿ç»­æ€§ã€‚å¦‚æœä½ å°†èšç±»ç®—æ³•ä¸­çš„è·ç¦»å‡½æ•°ä»ä½™å¼¦ç›¸ä¼¼åº¦æ›´æ”¹ä¸ºèšç±»æˆå‘˜çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆè¿™ä»…ä»…éœ€è¦å‡ è¡Œä»£ç çš„ç¼–è¾‘ï¼Œä½ å°±å¯ä»¥å°è¯•è´å¶æ–¯èšç±»ã€‚

å†³ç­–æ ‘æä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„å¤šæ ·æ€§é‡‡æ ·ç±»å‹ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä¸åŒå¶å­ä¸­çš„é¢„æµ‹æ•°é‡åœ¨è®­ç»ƒæ•°æ®å’Œè¯„ä¼°æ•°æ®ä¹‹é—´çš„å·®å¼‚ã€‚å‡è®¾ä½ çš„å†³ç­–æ ‘æœ‰ 10 ä¸ªå¶å­ï¼Œå½“é¢„æµ‹ä½ çš„éªŒè¯æ•°æ®æ—¶ï¼Œæ‰€æœ‰ 10 ä¸ªå¶å­ä¸­çš„é¡¹ç›®æ•°é‡éƒ½ç›¸ç­‰ã€‚ç°åœ¨æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ å°†æ¨¡å‹åº”ç”¨äºä½ çš„æœªæ ‡è®°æ•°æ®æ—¶ï¼Œ90%çš„æ•°æ®æœ€ç»ˆè½åœ¨äº†ä¸€ä¸ªå¶å­ä¸Šã€‚è¿™ä¸ªå¶å­æ˜¾ç„¶æ¯”è¿„ä»Šä¸ºæ­¢çš„è®­ç»ƒæ•°æ®æ›´å¥½åœ°ä»£è¡¨äº†ç›®æ ‡åŸŸä¸­çš„æ•°æ®ç±»å‹ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ä»åŒ…å« 90%æ•°æ®çš„å¶å­ä¸­æŠ½å–æ›´å¤šé¡¹ç›®ï¼ŒçŸ¥é“è¿™äº›æ•°æ®å¯¹ä½ å°†éƒ¨ç½²æ¨¡å‹çš„åœ°æ–¹æ›´é‡è¦ã€‚

### 4.6.4 ä½¿ç”¨ä¸åŒç±»å‹çš„æ¨¡å‹è¿›è¡Œç°å®ä¸–ç•Œå¤šæ ·æ€§é‡‡æ ·

æé«˜ä½ çš„ç¥ç»ç½‘ç»œæ¨¡å‹å¤šæ ·æ€§çš„ç­–ç•¥å¯ä»¥åº”ç”¨äºå…¶ä»–ç±»å‹çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚ä½ æƒ³è¦ç¡®ä¿ä½ æ­£åœ¨ä¸ºæ¯ä¸ªäººå£ç»Ÿè®¡ä¼˜åŒ–ç›¸åŒæ•°é‡çš„æ ‡ç­¾ï¼Œå¹¶ä¸ºæ¯ä¸ªäººå£ç»Ÿè®¡çš„ç›¸ç­‰ç²¾åº¦è¿›è¡Œä¼˜åŒ–ã€‚

## 4.7 å¤šæ ·æ€§é‡‡æ ·é€ŸæŸ¥è¡¨

å›¾ 4.8 æ˜¯æœ¬ç« ä¸­ä½ å®æ–½çš„å››ç§å¤šæ ·æ€§é‡‡æ ·æ–¹æ³•çš„é€ŸæŸ¥è¡¨ã€‚å¦‚æœä½ å¯¹è¿™äº›ç­–ç•¥æœ‰ä¿¡å¿ƒï¼Œè¯·å°†æ­¤é€ŸæŸ¥è¡¨æ”¾åœ¨æ‰‹è¾¹ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥é˜…ã€‚

![å›¾ç‰‡](img/CH04_F08_Munro.png)

å›¾ 4.8 æœ¬ç« æ¶µç›–çš„å¤šæ ·æ€§é‡‡æ ·ç±»å‹çš„é€ŸæŸ¥è¡¨ï¼šåŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼é‡‡æ ·ã€åŸºäºèšç±»çš„é‡‡æ ·ã€ä»£è¡¨æ€§é‡‡æ ·å’Œç°å®ä¸–ç•Œå¤šæ ·æ€§é‡‡æ ·ã€‚è¿™å››ç§ç­–ç•¥ç¡®ä¿äº†æ•°æ®ä¸­çš„å¤šæ ·æ€§å’Œä»£è¡¨æ€§â€”â€”åˆ†åˆ«å¯¹åº”äºæ¨¡å‹å½“å‰çŠ¶æ€ä¸‹æœªçŸ¥çš„é¡¹ç›®ï¼›ç»Ÿè®¡ä¸Šä»£è¡¨æ•´ä¸ªæ•°æ®åˆ†å¸ƒçš„é¡¹ç›®ï¼›æœ€å¤§ç¨‹åº¦ä»£è¡¨ä½ å°†éƒ¨ç½²æ¨¡å‹çš„åœ°æ–¹çš„é¡¹ç›®ï¼›ä»¥åŠæœ€ä»£è¡¨ç°å®ä¸–ç•Œäººå£ç»Ÿè®¡çš„é¡¹ç›®ã€‚

## 4.8 è¿›ä¸€æ­¥é˜…è¯»

ä½ å°†ä¸å¾—ä¸è¶…å‡ºæœºå™¨å­¦ä¹ æ–‡çŒ®çš„èŒƒå›´ï¼Œå»å¯»æ‰¾ä¸å¤šæ ·æ€§é‡‡æ ·ç›¸å…³çš„è®¸å¤šæœ€é‡è¦çš„è®ºæ–‡ã€‚å¦‚æœä½ ä¸“æ³¨äºæ”¶é›†æ­£ç¡®çš„æ•°æ®ï¼Œé‚£ä¹ˆä» 2000 å¹´ä»£åˆå¼€å§‹çš„æ–‡æ¡£è¯­è¨€å’Œå­˜æ¡£æ–‡çŒ®æ˜¯æœ€å¥½çš„èµ·ç‚¹ã€‚å¦‚æœä½ ä¸“æ³¨äºæ•°æ®ä¸­çš„åˆ†å±‚æŠ½æ ·ï¼Œé‚£ä¹ˆæœ‰ä¸€ç™¾å¹´çš„ç¤¾ä¼šç§‘å­¦æ–‡çŒ®ä¸æ•™è‚²ã€ç»æµå­¦ç­‰å„ä¸ªé¢†åŸŸç›¸å…³ã€‚æœ¬èŠ‚å°†è¿›ä¸€æ­¥é˜…è¯»é™åˆ¶åœ¨æœºå™¨å­¦ä¹ æ–‡çŒ®ä¸­ï¼Œæ‰€ä»¥è¯·è®°ä½ï¼Œæœ€å¥½çš„è®ºæ–‡æ˜¯å»ºç«‹åœ¨å…¶ä»–é¢†åŸŸçš„è¿›æ­¥ä¹‹ä¸Šçš„ã€‚

### 4.8.1 åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼è¿›ä¸€æ­¥é˜…è¯»

åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼ç®—æ³•æ˜¯æˆ‘ä¸ªäººå¼€å‘çš„ï¼Œå°šæœªåœ¨æœ¬ä¹¦ä»¥å¤–çš„å‡ºç‰ˆç‰©ä¸­å‘è¡¨ï¼Œé™¤äº†åœ¨éæ­£å¼çš„æ¼”ç¤ºå’Œè¯¾ç¨‹ä¸­ã€‚å…³äºç¡®å®šå¼‚å¸¸å€¼çš„åŸºäºç¥ç»çš„æ–¹æ³•çš„æ–‡çŒ®æ­£åœ¨å¢é•¿ï¼Œä½†å¾€å¾€å…³æ³¨çš„æ˜¯ç»Ÿè®¡å¼‚å¸¸å€¼è€Œä¸æ˜¯ä½æ¿€æ´»ã€‚

è°ƒæŸ¥ç¥ç»ç½‘ç»œæ¨¡å‹ä»¥ç¡®å®šå…¶çŸ¥è¯†ï¼ˆæˆ–ç¼ºä¹çŸ¥è¯†ï¼‰çš„å®è·µæœ‰æ—¶è¢«ç§°ä¸º*æ¢æŸ¥*ã€‚è™½ç„¶è¿˜æ²¡æœ‰å…³äºæ¢æŸ¥ä»¥å‘ç°ä¸»åŠ¨å­¦ä¹ ä¸­çš„å¼‚å¸¸å€¼çš„è®ºæ–‡ï¼Œä½†æ— ç–‘åœ¨æ›´å¹¿æ³›æ¨¡å‹æ¢æŸ¥æ–‡çŒ®ä¸­å­˜åœ¨ä¸€äº›å¯ä»¥ä¸ºæ­¤ç›®çš„æ”¹ç¼–çš„è‰¯å¥½æŠ€æœ¯ã€‚

### 4.8.2 åŸºäºèšç±»çš„é‡‡æ ·è¿›ä¸€æ­¥é˜…è¯»

å¯¹äºåŸºäºèšç±»çš„é‡‡æ ·ï¼Œæœ€ä½³èµ·ç‚¹æ˜¯ Hieu T. Ngyuen å’Œ Arnold Smeulders çš„ã€Šä½¿ç”¨é¢„èšç±»è¿›è¡Œä¸»åŠ¨å­¦ä¹ ã€‹([`mng.bz/ao6Y`](http://mng.bz/ao6Y))ã€‚å¯¹äºåŸºäºèšç±»çš„é‡‡æ ·æœ€å‰æ²¿çš„ç ”ç©¶ï¼Œå¯»æ‰¾è¿‘æœŸè¢«è¿™äº›ä½œè€…å¼•ç”¨ä¸”è‡ªèº«å¼•ç”¨ç‡å¾ˆé«˜çš„è®ºæ–‡ã€‚

æ³¨æ„ï¼ŒNgyuen å’Œ Smeulders ä½¿ç”¨äº†ä¸€ä¸ªç»“åˆèšç±»ä¸ä¸ç¡®å®šæ€§é‡‡æ ·çš„ä¸»åŠ¨å­¦ä¹ åº¦é‡ã€‚æ­£å¦‚æœ¬ç« å‰é¢æ‰€æåˆ°çš„ï¼Œè¿™ç§ç»„åˆæ˜¯ä¸»åŠ¨å­¦ä¹ ä¸­ä½¿ç”¨èšç±»çš„æœ€å¸¸è§æ–¹å¼ã€‚æœ¬æ–‡æœ¬ä¸­è¿™äº›ä¸»é¢˜æ˜¯åˆ†åˆ«æ•™æˆçš„ï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨å­¦ä¹ å¦‚ä½•ç»“åˆå®ƒä»¬ä¹‹å‰å•ç‹¬ç†è§£å®ƒä»¬ã€‚åœ¨æ·±å…¥ç ”ç©¶ä¹‹å‰ï¼Œä½ å¯èƒ½æƒ³é˜…è¯»ç¬¬äº”ç« ï¼Œå…¶ä¸­ä½ å°†èšç±»ä¸ä¸ç¡®å®šæ€§é‡‡æ ·ç»“åˆèµ·æ¥ã€‚

æœ€æ—©å…³æ³¨ä¸»åŠ¨å­¦ä¹ èšç±»é—®é¢˜çš„è®ºæ–‡æ¥è‡ªä¿„ç½—æ–¯çš„ç§‘å­¦å®¶ã€‚æˆ‘æ‰€çŸ¥é“çš„è¿™äº›è®ºæ–‡çš„ç¬¬ä¸€ç‰ˆè‹±æ–‡ç¿»è¯‘æ˜¯ Novosibirk Zagoruiko çš„ã€Šåˆ†ç±»ä¸è¯†åˆ«ã€‹([`mng.bz/goXn`](http://mng.bz/goXn))ã€‚å¦‚æœä½ èƒ½é˜…è¯»ä¿„è¯­ï¼Œä½ ç”šè‡³å¯ä»¥æ‰¾åˆ° 50 å¤šå¹´å‰å°±å¼€å§‹æ€è€ƒè¿™ä¸ªé—®é¢˜çš„ç§‘å­¦å®¶çš„æ›´æ—©è®ºæ–‡ï¼

### 4.8.3 ä»£è¡¨æ€§é‡‡æ ·è¿›ä¸€æ­¥é˜…è¯»

ä»£è¡¨æ€§é‡‡æ ·çš„åŸåˆ™é¦–å…ˆåœ¨ Andrew Kachites McCallum å’Œ Kamal Nigam çš„ã€Šä½¿ç”¨ EM å’Œæ± å¼ä¸»åŠ¨å­¦ä¹ è¿›è¡Œæ–‡æœ¬åˆ†ç±»ã€‹ä¸­è¿›è¡Œäº†æ¢ç´¢([`mng.bz/e54Z`](http://mng.bz/e54Z))ã€‚å¯¹äºä»£è¡¨æ€§é‡‡æ ·çš„æœ€å‰æ²¿ç ”ç©¶ï¼Œå¯»æ‰¾è¿‘æœŸè¢«è¿™äº›ä½œè€…å¼•ç”¨ä¸”è‡ªèº«å¼•ç”¨ç‡å¾ˆé«˜çš„è®ºæ–‡ã€‚

### 4.8.4 ä¸ºç°å®ä¸–ç•Œå¤šæ ·æ€§é‡‡æ ·çš„è¿›ä¸€æ­¥é˜…è¯»

è¿™é‡Œæœ‰ä¸¤ç¯‡å…³äºç°å®ä¸–ç•Œå¤šæ ·æ€§çš„æœºå™¨å­¦ä¹ çš„å¥½è®ºæ–‡ï¼Œä¸€ç¯‡åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼Œä¸€ç¯‡åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸã€‚ä¸¤è€…éƒ½å‘ç°ï¼Œå¯¹äºæ¥è‡ªæ›´å¯Œè£•èƒŒæ™¯çš„äººæ¥è¯´ï¼Œæµè¡Œçš„æ¨¡å‹æ›´å‡†ç¡®ï¼Œè®­ç»ƒæ•°æ®åå‘äºæ›´å¯Œè£•çš„äººçœ‹åˆ°çš„å¯¹è±¡å’Œå¯Œè£•/å¤šæ•°äººç¾¤ä½¿ç”¨çš„è¯­è¨€ï¼š

+   Terrance DeVriesã€Ishan Misraã€Changhan Wang å’Œ Laurens van der Maaten çš„ã€Šæ˜¯å¦å¯¹è±¡è¯†åˆ«å¯¹æ¯ä¸ªäººéƒ½æ˜¯æœ‰æ•ˆçš„ï¼Ÿã€‹([`mng.bz/pVG0`](http://mng.bz/pVG0))ã€‚

+   David Jurgensã€Yulia Tsvetkov å’Œ Dan Jurafsky çš„ã€Šä¸ºç¤¾ä¼šå…¬å¹³çš„è¯­è¨€è¯†åˆ«å¼•å…¥æ–¹è¨€å˜å¼‚æ€§ã€‹([`mng.bz/OEyO`](http://mng.bz/OEyO))ã€‚

å¯¹äºè¯­è¨€æŠ€æœ¯æ–‡çŒ®ä¸­åå·®çš„æ‰¹åˆ¤æ€§å›é¡¾ï¼ŒåŒ…æ‹¬è¯¥æœ¯è¯­ä½¿ç”¨çš„ä¸ä¸€è‡´æ€§ï¼Œæˆ‘æ¨èè‹ç³Â·å¸ƒæ´›æ°ç‰¹ã€ç´¢éš†Â·å·´ç½—å¡æ–¯ã€å“ˆå°”Â·é“å§†ä¸‰ä¸–å’Œæ±‰å¨œÂ·æ²ƒæ‹‰å¥‡çš„è®ºæ–‡â€œè¯­è¨€ï¼ˆæŠ€æœ¯ï¼‰æ˜¯åŠ›é‡ï¼šNLP ä¸­â€˜åå·®â€™çš„æ‰¹åˆ¤æ€§è°ƒæŸ¥â€ï¼ˆ[`mng.bz/Yq0Q`](http://mng.bz/Yq0Q)ï¼‰ã€‚

## æ‘˜è¦

+   æœ¬ç« ä»‹ç»äº†å››ç§å¸¸è§çš„å¤šæ ·æ€§æŠ½æ ·æ–¹æ³•ï¼šåŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼æŠ½æ ·ã€åŸºäºèšç±»çš„æŠ½æ ·ã€ä»£è¡¨æ€§æŠ½æ ·å’Œé’ˆå¯¹ç°å®ä¸–ç•Œå¤šæ ·æ€§çš„æŠ½æ ·ã€‚è¿™äº›æŠ€æœ¯å¯ä»¥å¸®åŠ©ä½ äº†è§£æ¨¡å‹ä¸­çš„â€œæœªçŸ¥æœªçŸ¥â€ç±»å‹ã€‚

+   åŸºäºæ¨¡å‹çš„å¼‚å¸¸å€¼æŠ½æ ·å…è®¸ä½ æŠ½å–å½“å‰æ¨¡å‹çŠ¶æ€ä¸‹æœªçŸ¥çš„é¡¹ç›®ï¼Œå¸®åŠ©ä½ æ‰©å±•æ¨¡å‹çš„çŸ¥è¯†ï¼Œå¡«è¡¥å½“å‰å­˜åœ¨çš„çŸ¥è¯†ç©ºç™½ã€‚

+   åŸºäºèšç±»çš„æŠ½æ ·å…è®¸ä½ æŠ½å–é‚£äº›åœ¨ç»Ÿè®¡ä¸Šèƒ½ä»£è¡¨ä½ æ•°æ®æ•´ä½“åˆ†å¸ƒçš„æ ·æœ¬ï¼Œå¸®åŠ©ä½ æ‰©å±•æ¨¡å‹çš„çŸ¥è¯†ï¼Œä»¥æ•æ‰æ•°æ®ä¸­çš„æ‰€æœ‰æœ‰æ„ä¹‰çš„è¶‹åŠ¿ï¼ŒåŒ…æ‹¬é‚£äº›éšæœºæŠ½æ ·å¯èƒ½é—æ¼çš„è¾ƒç½•è§è¶‹åŠ¿ã€‚

+   ä»£è¡¨æ€§æŠ½æ ·å¯ä»¥ç”¨æ¥æŠ½å–é‚£äº›æœ€èƒ½ä»£è¡¨ä½ å°†è¦éƒ¨ç½²æ¨¡å‹çš„åœ°æ–¹çš„æ ·æœ¬ï¼Œå¸®åŠ©ä½ å°†æ¨¡å‹é€‚åº”åˆ°ä¸å½“å‰è®­ç»ƒæ•°æ®ä¸åŒçš„é¢†åŸŸï¼Œè¿™åœ¨ç°å®ä¸–ç•Œçš„æœºå™¨å­¦ä¹ ä¸­æ˜¯ä¸€ä¸ªå¸¸è§é—®é¢˜ã€‚

+   ä¸ºäº†æ”¯æŒç°å®ä¸–ç•Œçš„å¤šæ ·æ€§ï¼Œä½ éœ€è¦éƒ¨ç½²æ‰€æœ‰ä»ä¸ç¡®å®šæ€§æŠ½æ ·å’Œå¤šæ ·æ€§æŠ½æ ·åˆ°çš„ä¸ç¡®å®šæ€§æŠ½æ ·æŠ€æœ¯ï¼Œä»¥ä½¿ä½ çš„åº”ç”¨åœ¨å¤šæ ·åŒ–çš„ç”¨æˆ·ç¾¤ä½“ä¸­æ›´åŠ å‡†ç¡®ï¼Œå› æ­¤æ›´åŠ å…¬å¹³ã€‚

+   å¾®åˆ†å’Œå®åˆ†ç­‰å‡†ç¡®åº¦æŒ‡æ ‡å¯ä»¥åº”ç”¨äºç°å®ä¸–ç•Œçš„ç¾¤ä½“ï¼Œä½œä¸ºè¡¡é‡æ¨¡å‹æ½œåœ¨åå·®çš„ä¸€ç§æ–¹å¼ã€‚

+   è§£é‡Šç”¨äºå¤šæ ·æ€§æŠ½æ ·çš„ç¥ç»ç½‘ç»œæ¨¡å‹çš„å±‚ï¼Œè®©ä½ èƒ½å¤Ÿå°½å¯èƒ½å¤šåœ°è·å–ä¿¡æ¯ä»¥è¿›è¡Œä¸»åŠ¨å­¦ä¹ ï¼Œä¸ºä½ è®¡ç®—æ¨¡å‹å¼‚å¸¸å€¼æä¾›æ›´å¤šé€‰é¡¹ï¼Œå¹¶ä¸ºé«˜çº§è¿ç§»å­¦ä¹ æŠ€æœ¯æä¾›æ„å»ºå—ã€‚

+   å†³å®šåœ¨å®æ–½å¤šæ ·æ€§æŠ½æ ·æ—¶åº”è¯¥ç”±äººç±»å®¡æŸ¥å¤šå°‘é¡¹ç›®çš„æ–¹æ³•ä¸ä¸ç¡®å®šæ€§æŠ½æ ·ä¸åŒï¼Œå› ä¸ºåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬å¯ä»¥åœ¨ä¸»åŠ¨å­¦ä¹ çš„æ¯ä¸ªè¿­ä»£ä¸­è‡ªé€‚åº”è°ƒæ•´ã€‚è‡ªé€‚åº”æŠ½æ ·æ–¹æ³•å…è®¸ä½ ä½¿äººç±»åœ¨å¾ªç¯ä¸­çš„æœºå™¨å­¦ä¹ åé¦ˆå¾ªç¯æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºä½ ä¸å¿…ç­‰å¾…æ¨¡å‹é‡æ–°è®­ç»ƒã€‚

+   ä½¿ç”¨ä»»ä½•ç›‘ç£æœºå™¨å­¦ä¹ ç®—æ³•ï¼ŒåŒ…æ‹¬ç¥ç»ç½‘ç»œæ¨¡å‹ã€è´å¶æ–¯æ¨¡å‹ã€SVM å’Œå†³ç­–æ ‘ï¼Œéƒ½å¯ä»¥å®ç°å¤šæ ·æ€§æŠ½æ ·ã€‚ä½ å¯ä»¥ä½¿ç”¨ä½ ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ä»»ä½•ç±»å‹çš„æœºå™¨å­¦ä¹ ç®—æ³•æ¥å®ç°ä¸»åŠ¨å­¦ä¹ ï¼›ä½ ä¸éœ€è¦åˆ‡æ¢åˆ°æœ¬ä¹¦ç¤ºä¾‹ä¸­é‡ç‚¹å…³æ³¨çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚ä½ ç”šè‡³å¯èƒ½å†³å®šå°è¯•ä¸€äº›è¿™äº›é¢å¤–çš„ä¸»åŠ¨å­¦ä¹ ç®—æ³•ï¼Œä»¥åˆ©ç”¨å®ƒä»¬çš„ç‹¬ç‰¹ç‰¹æ€§ã€‚

* * *

(1.) åœ¨ PyTorch ä¸­è·å–éšè—å±‚çš„ä¸€ç§æ›¿ä»£æ–¹æ³•æ˜¯ `hook()` æ–¹æ³•ã€‚è¯·å‚é˜…[`mng.bz/XdzM`](http://mng.bz/XdzM)ä¸Šçš„æ–‡æ¡£ã€‚
