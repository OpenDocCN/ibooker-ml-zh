- en: Chapter 19\. Pipelines
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Scikit-learn uses the notion of a pipeline. Using the `Pipeline` class, you
    can chain together transformers and models, and treat the whole process like a
    scikit-learn model. You can even insert custom logic.
  prefs: []
  type: TYPE_NORMAL
- en: Classification Pipeline
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Here is an example using the `tweak_titanic` function inside of a pipeline:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'With a pipeline in hand, we can call `.fit` and `.score` on it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Pipelines can be used in grid search. Our `param_grid` needs to have the parameters
    prefixed by the name of the pipe stage, followed by two underscores. In the example
    below, we add some parameters for the random forest stage:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Now we can pull out the best parameters and train the final model. (In this
    case the random forest doesnâ€™t improve after grid search.)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'We can use the pipeline where we use scikit-learn models:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Regression Pipeline
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Here is an example of a pipeline that performs linear regression on the Boston
    dataset:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'If we want to pull parts out of the pipeline to examine their properties, we
    can do that with the `.named_steps` attribute:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'We can use the pipeline in metric calculations as well:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: PCA Pipeline
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Scikit-learn pipelines can also be used for PCA.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here we standardize the Titanic dataset and perform PCA on it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Using the `.named_steps` attribute, we can pull properties off of the PCA portion
    of the pipeline:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
